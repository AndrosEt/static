import{u as l,Q as $,bc as q,j as s,a1 as W,aN as H,E as _,w as A,dn as f,ar as ee,x as M,f as te,A as se,aZ as re,ah as ae,a5 as le,aC as N,r as h,dp as Z,a2 as F,cS as oe,N as ce,$ as ne,a as E,ej as ie}from"./index-tEWTe_cM.js";import{v as ue,p as de,i as pe,R as me,u as ge}from"./middleware-6VZ1FcKb.js";import{aO as xe,aP as he,a0 as ve,N as k}from"./Learn-ZI4QJ8Ms.js";import{f as S}from"./useAutoPlay-8WOcIzK4.js";var Se=["years","months","weeks","days","hours","minutes","seconds"];function ye(t,r){var e,c,a,i,u;if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var p=he(),m=(e=(c=r==null?void 0:r.locale)!==null&&c!==void 0?c:p.locale)!==null&&e!==void 0?e:xe,g=(a=r==null?void 0:r.format)!==null&&a!==void 0?a:Se,x=(i=r==null?void 0:r.zero)!==null&&i!==void 0?i:!1,o=(u=r==null?void 0:r.delimiter)!==null&&u!==void 0?u:" ";if(!m.formatDistance)return"";var d=g.reduce(function(y,v){var j="x".concat(v.replace(/(^.)/,function(T){return T.toUpperCase()})),b=t[v];return typeof b=="number"&&(x||t[v])?y.concat(m.formatDistance(j,b)):y},[]).join(o);return d}const be="https://re-cdn.helium10.com/container/static/flags_responsive-o71lcK5a.png",Te={AD:"0 .413223%",AE:"0 .826446%",AF:"0 1.239669%",AG:"0 1.652893%",AI:"0 2.066116%",AL:"0 2.479339%",AM:"0 2.892562%",AN:"0 3.305785%",AO:"0 3.719008%",AQ:"0 4.132231%",AR:"0 4.545455%",AS:"0 4.958678%",AT:"0 5.371901%",AU:"0 5.785124%",AW:"0 6.198347%",AZ:"0 6.61157%",BA:"0 7.024793%",BB:"0 7.438017%",BD:"0 7.85124%",BE:"0 8.264463%",BF:"0 8.677686%",BG:"0 9.090909%",BH:"0 9.504132%",BI:"0 9.917355%",BJ:"0 10.330579%",BM:"0 10.743802%",BN:"0 11.157025%",BO:"0 11.570248%",BR:"0 11.983471%",BS:"0 12.396694%",BT:"0 12.809917%",BV:"0 13.22314%",BW:"0 13.636364%",BY:"0 14.049587%",BZ:"0 14.46281%",CA:"0 14.876033%",CC:"0 15.289256%",CD:"0 15.702479%",CF:"0 16.115702%",CG:"0 16.528926%",CH:"0 16.942149%",CI:"0 17.355372%",CK:"0 17.768595%",CL:"0 18.181818%",CM:"0 18.595041%",CN:"0 19.008264%",CO:"0 19.421488%",CR:"0 19.834711%",CU:"0 20.247934%",CV:"0 20.661157%",CX:"0 21.07438%",CY:"0 21.487603%",CZ:"0 21.900826%",DE:"0 22.31405%",DJ:"0 22.727273%",DK:"0 23.140496%",DM:"0 23.553719%",DO:"0 23.966942%",DZ:"0 24.380165%",EC:"0 24.793388%",EE:"0 25.206612%",EG:"0 25.619835%",EH:"0 26.033058%",ER:"0 26.446281%",ES:"0 26.859504%",ET:"0 27.272727%",FI:"0 27.68595%",FJ:"0 28.099174%",FK:"0 28.512397%",FM:"0 28.92562%",FO:"0 29.338843%",FR:"0 29.752066%",GA:"0 30.165289%",GD:"0 30.578512%",GE:"0 30.991736%",GF:"0 31.404959%",GH:"0 31.818182%",GI:"0 32.231405%",GL:"0 32.644628%",GM:"0 33.057851%",GN:"0 33.471074%",GP:"0 33.884298%",GQ:"0 34.297521%",GR:"0 34.710744%",GS:"0 35.123967%",GT:"0 35.53719%",GU:"0 35.950413%",GW:"0 36.363636%",GY:"0 36.77686%",HK:"0 37.190083%",HM:"0 37.603306%",HN:"0 38.016529%",HR:"0 38.429752%",HT:"0 38.842975%",HU:"0 39.256198%",ID:"0 39.669421%",IE:"0 40.082645%",IL:"0 40.495868%",IN:"0 40.909091%",IO:"0 41.322314%",IQ:"0 41.735537%",IR:"0 42.14876%",IS:"0 42.561983%",IT:"0 42.975207%",JM:"0 43.38843%",JO:"0 43.801653%",JP:"0 44.214876%",KE:"0 44.628099%",KG:"0 45.041322%",KH:"0 45.454545%",KI:"0 45.867769%",KM:"0 46.280992%",KN:"0 46.694215%",KP:"0 47.107438%",KR:"0 47.520661%",KW:"0 47.933884%",KY:"0 48.347107%",KZ:"0 48.760331%",LA:"0 49.173554%",LB:"0 49.586777%",LC:"0 50%",LI:"0 50.413223%",LK:"0 50.826446%",LR:"0 51.239669%",LS:"0 51.652893%",LT:"0 52.066116%",LU:"0 52.479339%",LV:"0 52.892562%",LY:"0 53.305785%",MA:"0 53.719008%",MC:"0 54.132231%",MD:"0 54.545455%",ME:"0 54.958678%",MG:"0 55.371901%",MH:"0 55.785124%",MK:"0 56.198347%",ML:"0 56.61157%",MM:"0 57.024793%",MN:"0 57.438017%",MO:"0 57.85124%",MP:"0 58.264463%",MQ:"0 58.677686%",MR:"0 59.090909%",MS:"0 59.504132%",MT:"0 59.917355%",MU:"0 60.330579%",MV:"0 60.743802%",MW:"0 61.157025%",MX:"0 61.570248%",MY:"0 61.983471%",MZ:"0 62.396694%",NA:"0 62.809917%",NC:"0 63.22314%",NE:"0 63.636364%",NF:"0 64.049587%",NG:"0 64.46281%",NI:"0 64.876033%",NL:"0 65.289256%",NO:"0 65.702479%",NP:"0 66.115702%",NR:"0 66.528926%",NU:"0 66.942149%",NZ:"0 67.355372%",OM:"0 67.768595%",PA:"0 68.181818%",PE:"0 68.595041%",PF:"0 69.008264%",PG:"0 69.421488%",PH:"0 69.834711%",PK:"0 70.247934%",PL:"0 70.661157%",PM:"0 71.07438%",PN:"0 71.487603%",PR:"0 71.900826%",PT:"0 72.31405%",PW:"0 72.727273%",PY:"0 73.140496%",QA:"0 73.553719%",RE:"0 73.966942%",RO:"0 74.380165%",RS:"0 74.793388%",RU:"0 75.206612%",RW:"0 75.619835%",SA:"0 76.033058%",SB:"0 76.446281%",SC:"0 76.859504%",SD:"0 77.272727%",SE:"0 77.68595%",SG:"0 78.099174%",SH:"0 78.512397%",SI:"0 78.92562%",SJ:"0 79.338843%",SK:"0 79.752066%",SL:"0 80.165289%",SM:"0 80.578512%",SN:"0 80.991736%",SO:"0 81.404959%",SR:"0 81.818182%",SS:"0 82.231405%",ST:"0 82.644628%",SV:"0 83.057851%",SY:"0 83.471074%",SZ:"0 83.884298%",TC:"0 84.297521%",TD:"0 84.710744%",TF:"0 85.123967%",TG:"0 85.53719%",TH:"0 85.950413%",TJ:"0 86.363636%",TK:"0 86.77686%",TL:"0 87.190083%",TM:"0 87.603306%",TN:"0 88.016529%",TO:"0 88.429752%",TP:"0 88.842975%",TR:"0 89.256198%",TT:"0 89.669421%",TV:"0 90.082645%",TW:"0 90.495868%",TZ:"0 91.322314%",UA:"0 91.735537%",UG:"0 92.14876%",GB:"0 92.561983%",UK:"0 92.561983%",UM:"0 92.975207%",US:"0 93.38843%",UY:"0 93.801653%",UZ:"0 94.214876%",VA:"0 94.628099%",VC:"0 95.041322%",VE:"0 95.454545%",VG:"0 95.867769%",VI:"0 96.280992%",VN:"0 96.694215%",VU:"0 97.107438%",WF:"0 97.520661%",WS:"0 97.933884%",YE:"0 98.347107%",ZA:"0 98.760331%",ZM:"0 99.173554%",ZR:"0 99.586777%",ZW:"0 100%",AX:"0 27.68595%",BL:"0 29.752066%",BQ:"0 65.289256%",CW:"0 65.289256%",GG:"0 0%",IM:"0 92.561983%",JE:"0 92.561983%",MF:"0 29.752066%",PS:"0 40.495868%",SX:"0 0%",YT:"0 29.752066%"},Ie=({countryCode:t,flag:r=!0,label:e="name",labelContent:c,flagWidth:a=27})=>{const{t:i}=q();return s.jsxs(z,{children:[r&&s.jsx(V,{$backgroundPosition:Te[t],$width:a}),(e||c)&&s.jsx(Y,{children:c||(e==="code"?t:i(`countries.${t}`))})]})},z=l.div`
  display: flex;
  align-items: center;
  gap: ${({theme:t})=>t.spacing.sp8};
`,V=l.div`
  width: ${t=>t.$width}px;
  aspect-ratio: 1.45569;
  background-size: cover;
  background-image: url(${be});
  background-position: ${({$backgroundPosition:t})=>t};
  border-radius: 2px;
`,Y=l.div`
  ${$};
  color: ${t=>t.theme.systemColors.grey800};
  position: relative;
  top: 1px;
`,je=Object.assign(Ie,{Wrapper:z,Flag:V,Label:Y}),C=({text:t,link:r,rightIcon:e})=>s.jsxs(we,{href:r,target:"_blank",rel:"noreferrer",children:[s.jsx(J,{text:t}),e]}),J=({text:t,className:r})=>{const{isOverflown:e,checkOverflown:c}=H();return s.jsx(_,{content:t,disabled:e,children:s.jsx(Q,{onMouseEnter:c,className:r,children:t})})},Q=l.div`
  white-space: normal;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
`,we=l.a`
  ${W};
  overflow: visible;
  display: inline-flex;
  gap: ${({theme:t})=>t.spacing.sp4};
  color: ${({theme:t})=>t.systemColors.blue600};
  line-height: 1.29;
  text-decoration: none;
  cursor: pointer;

  &:hover {
    color: ${({theme:t})=>t.systemColors.blue800};
  }
`,Ce=({asin:t})=>{const{t:r}=A();return s.jsxs($e,{children:[t,s.jsx(f,{size:"50",beforeCopyContent:r("productSummary.copy",{label:"ASIN"}),afterCopyContent:s.jsxs(Ae,{children:[s.jsx(Me,{}),r("productSummary.copied",{label:"ASIN"})]}),copyContent:t})]})},$e=l.div`
  margin-bottom: ${({theme:t})=>t.spacing.sp4};
  display: flex;
  align-items: center;
  gap: ${({theme:t})=>t.spacing.sp4};
`,Ae=l.div`
  display: flex;
  align-items: center;
  justify-content: flex-start;
  white-space: nowrap;
`,Me=l(M).attrs({icon:ee})`
  margin-right: 8px;
  font-size: 16px;
  height: 16px;
  color: ${({theme:t})=>t.systemColors.green400};
`,Ne=async t=>(await te({method:"GET",url:ue,useSessionAccountId:!0,params:t})).data[t.asin],Fe={1:"Amazon",2:"FBA",3:"FBM"},Ee="UI_PRODUCT_IMAGE_TOOLTIP",I=se()(de((t,r)=>({productData:{},tooltipEnabled:!0}),{name:Ee,partialize:t=>({tooltipEnabled:t.tooltipEnabled})})),B=re(I,"productData",async({key:t,params:r})=>Ne({asin:t,accountId:le()||"",marketplaceId:N("store",r.marketplace||"").id})),R=ae(I,"tooltipEnabled"),ke=(t,r)=>{const e=I(p=>p.productData[t]),{currency:c}=N("store",r),{t:a}=A(),i=h.useMemo(()=>{var p,m,g,x,o,d;return[{field:s.jsx(C,{text:(e==null?void 0:e.categoryTitle)||"",link:(e==null?void 0:e.bestSellersUrl)||""}),value:`#${e==null?void 0:e.salesRank}`},{field:s.jsx(C,{text:((m=(p=e==null?void 0:e.subcategories)==null?void 0:p[0])==null?void 0:m.nodeName)||"",link:((x=(g=e==null?void 0:e.subcategories)==null?void 0:g[0])==null?void 0:x.subcategoryUrl)||""}),value:`#${(d=(o=e==null?void 0:e.subcategories)==null?void 0:o[0])==null?void 0:d.subcategoryBsr}`},{field:a("productSummary.productImageTooltip.fulfilment"),value:Fe[e==null?void 0:e.sellerType]||"N/A"},{field:a("productSummary.productImageTooltip.sellerCount"),value:S({value:e==null?void 0:e.numberOfSellers})},{field:a("productSummary.productImageTooltip.variations"),value:S({value:e==null?void 0:e.variationCount})},{field:a("productSummary.productImageTooltip.listingAge"),value:ye(pe({start:e!=null&&e.age?(e==null?void 0:e.age)*1e3:new Date,end:new Date}),{format:["years","months"]})},{field:a("productSummary.productImageTooltip.listingImages"),value:S({value:e==null?void 0:e.numberOfImages})}]},[e==null?void 0:e.age,e==null?void 0:e.bestSellersUrl,e==null?void 0:e.categoryTitle,e==null?void 0:e.numberOfImages,e==null?void 0:e.numberOfSellers,e==null?void 0:e.salesRank,e==null?void 0:e.sellerType,e==null?void 0:e.subcategories,e==null?void 0:e.variationCount,a]),u=h.useMemo(()=>[{field:a("productSummary.productImageTooltip.brand"),value:s.jsx(J,{text:(e==null?void 0:e.brand)||""})},{field:a("productSummary.productImageTooltip.seller"),value:s.jsx(C,{text:(e==null?void 0:e.sellerType)===1?"Amazon":(e==null?void 0:e.bbSeller)??"",link:e!=null&&e.sellerUrl?`https://${e==null?void 0:e.sellerUrl}`:"",rightIcon:s.jsxs(Be,{children:[(e==null?void 0:e.sellerType)!==1&&(e==null?void 0:e.sellerCountry)!==null&&(e==null?void 0:e.sellerCountry)!=="N/A"&&s.jsx(je,{countryCode:e==null?void 0:e.sellerCountry,flag:!0,label:!1,flagWidth:24}),s.jsx(M,{icon:Z})]})})},{field:a("productSummary.productImageTooltip.monthlyUnitSales"),value:(e==null?void 0:e.monthlySales)>=0?S({value:e==null?void 0:e.monthlySales}):"-"},{field:a("productSummary.productImageTooltip.price"),value:(e==null?void 0:e.price)>=0?F({amount:c==="JPY"?e==null?void 0:e.price:(e==null?void 0:e.price)/100,currency:c}):"-"},{field:a("productSummary.productImageTooltip.FBAFee"),value:(e==null?void 0:e.fbaFee)>=0?F({amount:c==="JPY"?e==null?void 0:e.fbaFee:(e==null?void 0:e.fbaFee)/100,currency:c}):"-"},{field:a("productSummary.productImageTooltip.rating"),value:s.jsx(me,{noText:!0,numberOfReviews:Number.parseFloat(e==null?void 0:e.reviewsRating),showInline:!0,value:Number.parseFloat(e==null?void 0:e.reviewsRating)})},{field:a("productSummary.productImageTooltip.reviewCount"),value:S({value:e==null?void 0:e.reviewCount})}],[a,e==null?void 0:e.brand,e==null?void 0:e.sellerType,e==null?void 0:e.bbSeller,e==null?void 0:e.sellerUrl,e==null?void 0:e.sellerCountry,e==null?void 0:e.monthlySales,e==null?void 0:e.price,e==null?void 0:e.fbaFee,e==null?void 0:e.reviewsRating,e==null?void 0:e.reviewCount,c]);return{leftFields:i,rightFields:u}},Be=l.div`
  display: flex;
  align-items: center;
  gap: ${({theme:t})=>t.spacing.sp4};
  font-size: ${({theme:t})=>t.spacing.sp16};
`,Re=({asin:t,marketplace:r,defaultImageSrc:e,tool:c,disableExtendedProductSummary:a,onChangeProductDetailsType:i})=>{const{t:u}=A(),{isOverflown:p,checkOverflown:m}=H(),{sendSegmentEvent:g}=ge({}),{domain:x}=N("store",r),[o,d]=I(oe(n=>[n.productData[t],n.tooltipEnabled])),y=B(t,n=>n.status),{leftFields:v,rightFields:j}=ke(t,r),b=`https://${x}/dp/${t}`;h.useEffect(()=>{typeof a=="boolean"&&!a!==d&&R.set(!a)},[a,d]),h.useEffect(()=>{B.action([{key:t,params:{marketplace:r}}]),g({name:"ASIN Hover View",properties:{tool:c,state:d?"show":"hide"}}).then()},[t,r,g,c]);const T=h.useCallback(n=>{R.set(n),i==null||i(n)},[i]);return s.jsx(Pe,{$size:d&&o?"big":"small",children:s.jsxs(ve,{status:y,error:s.jsx(s.Fragment,{children:s.jsx(D,{children:s.jsx(K,{src:e})})}),children:[d&&o&&s.jsxs(s.Fragment,{children:[s.jsx(_,{content:o==null?void 0:o.title,disabled:p,children:s.jsx(Ge,{onMouseEnter:m,children:o==null?void 0:o.title})}),s.jsxs(Oe,{children:[s.jsxs(Ue,{children:[s.jsx(Ce,{asin:t}),s.jsx(De,{src:o==null?void 0:o.imageUrl})]}),s.jsx(P,{children:v.map(({field:n,value:w},X)=>s.jsxs(O,{children:[s.jsx(L,{children:n}),s.jsx(U,{children:w})]},"leftFields"+X))}),s.jsx(P,{children:j.map(({field:n,value:w})=>s.jsxs(O,{children:[s.jsx(L,{children:n}),s.jsx(U,{children:w})]},n))})]}),s.jsxs(Le,{children:[s.jsx(k,{checked:d,onChange:n=>T(n.target.checked),children:s.jsx(G,{children:u("productSummary.productImageTooltip.showListing")})}),s.jsx(Ke,{href:b,target:"_blank",rel:"noreferrer",children:s.jsx(ce,{nonce:"link",$size:"100",$buttonType:"text",rightIcon:s.jsx(M,{icon:Z}),children:u("productSummary.productImageTooltip.openOnAmazon")})})]})]}),(!d||!o)&&s.jsxs(s.Fragment,{children:[s.jsx(D,{children:s.jsx(K,{src:(o==null?void 0:o.imageUrl)||e})}),o&&s.jsx(k,{checked:d,onChange:n=>T(n.target.checked),children:s.jsx(G,{children:u("productSummary.productImageTooltip.showListing")})})]})]})})},Ge=l.div`
  ${ne};
  margin-bottom: ${({theme:t})=>t.spacing.sp8};
  white-space: normal;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
`,Pe=l.div`
  ${({$size:t,theme:r})=>t==="big"?E`
          padding: ${r.spacing.sp8} ${r.spacing.sp8} 0 ${r.spacing.sp8};
          min-width: 589px;
          min-height: 250px;
        `:E`
          min-width: 172px;
          min-height: 172px;
        `};
`,G=l.span`
  ${$};
`,Oe=l.div`
  display: grid;
  grid-template-columns: 125px 200px 200px;
  gap: ${({theme:t})=>t.spacing.sp24};
`,Le=l.div`
  display: flex;
  justify-content: space-between;
  margin-top: ${({theme:t})=>t.spacing.sp8};
`,Ue=l.div``,P=l.div`
  display: flex;
  flex-direction: column;
  gap: ${({theme:t})=>t.spacing.sp4};
`,O=l.div`
  display: flex;
  justify-content: space-between;
  gap: ${({theme:t})=>t.spacing.sp16};
`,L=l.div`
  ${W};

  ${Q} {
    text-align: left;
  }
`,U=l.div`
  ${$};
`,De=l.img`
  display: block;
  max-width: 100%;
  max-height: 150px;
`,Ke=l.a`
  align-items: center;
  text-decoration: none;
  display: block;
  margin-left: ${({theme:t})=>t.spacing.sp4};
`,D=l.div`
  width: 171px;
  height: 171px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  margin-bottom: ${({theme:t})=>t.spacing.sp8};
`,K=l.img`
  display: block;
  max-width: 100%;
  max-height: 100%;
`,We=h.memo(({marketplace:t,imageTooltipContent:r,tool:e,imageTooltipOptions:c,disableExtendedProductSummary:a,onChangeProductDetailsType:i,...u})=>{var p,m;return s.jsx(ie,{imageTooltipContent:r??s.jsx(Re,{asin:((p=u.product)==null?void 0:p.asin)||"",marketplace:t,defaultImageSrc:(m=u.product)==null?void 0:m.imageSrc,disableExtendedProductSummary:a,onChangeProductDetailsType:i,tool:e}),imageTooltipOptions:{interactive:!0,maxWidth:605,placement:"top-start",...c},marketplace:t,...u})}),He=Object.assign(We,{}),Ye=He;export{He as E,J as L,Ye as N,Re as P,je as S,be as f};
//# sourceMappingURL=ExtendedProductSummary-Rm3yeme_.js.map
