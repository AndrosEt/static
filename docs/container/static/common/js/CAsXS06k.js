import { j as M, a as ie, h as Ne, g as W, k as lt, c as ut, p as xt, m as Lt } from "./_JqgLpqe.js";
import { r as p } from "./react-D5yUVy0K.js";
import { r as at, g as Ct } from "./CoK9UKSO.js";
import { s as Nt } from "./4hWQfquz.js";
import { u as i, a as C } from "./styled-components-sg3HbxYZ.js";
import { A as Ut, U as St } from "./D3WtWuVB.js";
import { u as ee } from "./BATov6ge.js";
import { i as Qt, n as kt } from "./CZVHOlcu.js";
import { F as dt } from "./Cg-oD5Fc.js";
import { u as nt } from "./DWlRc17i.js";
import { a as ot, m as s } from "./ESx2WVJg.js";
import { N as ht } from "./B1MqI8R1.js";
import { T as Yt } from "./Db6To_Gu.js";
import { D as rt } from "./DgjXrPJs.js";
import { N as B } from "./DXDnZb_T.js";
import { D as Et } from "./ChoeoyII.js";
import { s as wt } from "./BzsJhSng.js";
import { c as pt } from "./BsRJmYuf.js";
import { l as bt } from "./DzGyC9Eu.js";
import { f as _ } from "./nDZhacU7.js";
const It = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgdmlld0JveD0iMCAwIDExMCAxMTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8xODk2XzExNjg3OCkiPgo8cGF0aCBkPSJNNTUgMTEwQzg1LjM3NTcgMTEwIDExMCA4NS4zNzU3IDExMCA1NUMxMTAgMjQuNjI0MyA4NS4zNzU3IDAgNTUgMEMyNC42MjQzIDAgMCAyNC42MjQzIDAgNTVDMCA4NS4zNzU3IDI0LjYyNDMgMTEwIDU1IDExMFoiIGZpbGw9IiNFOEY2RkYiLz4KPHBhdGggZD0iTTc5LjA4NDEgNzguMzMzNUM5MS45NzE0IDY1LjQ0NjIgOTEuOTcxNCA0NC41NTE4IDc5LjA4NDEgMzEuNjY0NUM2Ni4xOTY4IDE4Ljc3NzIgNDUuMzAyNCAxOC43NzcyIDMyLjQxNTEgMzEuNjY0NUMxOS41Mjc4IDQ0LjU1MTggMTkuNTI3OCA2NS40NDYyIDMyLjQxNTEgNzguMzMzNUM0NS4zMDI0IDkxLjIyMDggNjYuMTk2OCA5MS4yMjA4IDc5LjA4NDEgNzguMzMzNVoiIGZpbGw9IiM2Nzg0QTIiLz4KPHBhdGggZD0iTTU1Ljc0NzggODMuMTE2QzcxLjI3NTkgODMuMTE2IDgzLjg2MzggNzAuNTI4MSA4My44NjM4IDU1QzgzLjg2MzggMzkuNDcyIDcxLjI3NTkgMjYuODg0IDU1Ljc0NzggMjYuODg0QzQwLjIxOTggMjYuODg0IDI3LjYzMTggMzkuNDcyIDI3LjYzMTggNTVDMjcuNjMxOCA3MC41MjgxIDQwLjIxOTggODMuMTE2IDU1Ljc0NzggODMuMTE2WiIgZmlsbD0iI0YyRjVGNyIvPgo8cGF0aCBkPSJNNzEuMzQ1OCA1OC43MjlMNTUuOTQ1OSA1My40MjdMNTQuOTIyOSA1OC4yMzRMNzEuMTU4OSA1OS42MDlDNzEuNzYzOSA1OS42ODYgNzEuOTE3OSA1OC45MDUgNzEuMzQ1OCA1OC43NFY1OC43MjlaIiBmaWxsPSIjNjc4NEEyIi8+CjxwYXRoIGQ9Ik01NS43OTE4IDU5LjYyQzU3Ljg4MTcgNTkuNjIgNTkuNTc1OCA1Ny45MjU4IDU5LjU3NTggNTUuODM2QzU5LjU3NTggNTMuNzQ2MiA1Ny44ODE3IDUyLjA1MiA1NS43OTE4IDUyLjA1MkM1My43MDIgNTIuMDUyIDUyLjAwNzggNTMuNzQ2MiA1Mi4wMDc4IDU1LjgzNkM1Mi4wMDc4IDU3LjkyNTggNTMuNzAyIDU5LjYyIDU1Ljc5MTggNTkuNjJaIiBmaWxsPSIjNDg1RTc1Ii8+CjxwYXRoIGQ9Ik00MS41MjQ4IDcwLjE5MTJDNDAuNTc4OCA3MS4yMTQyIDM4LjkzOTggNzEuMTgxMiAzOC4wMjY4IDcwLjEyNTJDMzQuMzk2OCA2NS45MDEyIDMyLjM2MTggNjAuNDc4MiAzMi4zNjE4IDU0Ljg3OTJDMzIuMzYxOCA0OC42NDIyIDM0Ljc5MjggNDIuNzY4MiAzOS4yMTQ4IDM4LjM0NjJDNDMuNjM2OCAzMy45MjQyIDQ5LjUxMDggMzEuNDkzMiA1NS43NDc4IDMxLjQ5MzJDNjEuOTg0OCAzMS40OTMyIDY3Ljg1ODggMzMuOTI0MiA3Mi4yODA4IDM4LjM0NjJDNzYuNzAyOCA0Mi43NjgyIDc5LjEzMzggNDguNjQyMiA3OS4xMzM4IDU0Ljg3OTJDNzkuMTMzOCA2MC4yMTQyIDc3LjM1MTggNjUuMjk2MiA3NC4wNTE4IDY5LjQyMTJDNzMuMTcxOCA3MC41MjEyIDcxLjU0MzggNzAuNjMxMiA3MC41NTM4IDY5LjY0MTJDNjkuNzE3OCA2OC44MDUyIDY5LjYxODggNjcuNDc0MiA3MC4zNjY4IDY2LjU1MDJDNzMuMDE3OCA2My4yMzkyIDc0LjQ1ODggNTkuMTY5MiA3NC40NTg4IDU0Ljg5MDJDNzQuNDU4OCA0OS45MDcyIDcyLjUxMTggNDUuMjEwMiA2OC45Njk4IDQxLjY2ODJDNjUuNDI3OCAzOC4xMjYyIDYwLjczMDggMzYuMTc5MiA1NS43NDc4IDM2LjE3OTJDNTAuNzY0OCAzNi4xNzkyIDQ2LjA2NzggMzguMTI2MiA0Mi41MjU4IDQxLjY2ODJDMzguOTgzOCA0NS4yMTAyIDM3LjAzNjggNDkuODk2MiAzNy4wMzY4IDU0Ljg5MDJDMzcuMDM2OCA1OS4zODkyIDM4LjY4NjggNjMuNzQ1MiA0MS42MTI4IDY3LjEyMjJDNDIuMzgyOCA2OC4wMTMyIDQyLjMyNzggNjkuMzQ0MiA0MS41MjQ4IDcwLjIwMjJWNzAuMTkxMloiIGZpbGw9IiMzM0NDOTkiLz4KPHBhdGggZD0iTTcwLjU2NTEgNjkuNjMwMkM2OS43MjkxIDY4Ljc5NDIgNjkuNjMwMSA2Ny40NjMyIDcwLjM3ODEgNjYuNTM5MkM3My4wMjkxIDYzLjIyODIgNzQuNDcwMSA1OS4xNTgyIDc0LjQ3MDEgNTQuODc5MkM3NC40NzAxIDQ5Ljg5NjIgNzIuNTIzMSA0NS4xOTkyIDY4Ljk4MTEgNDEuNjU3MkM2NS40MzkxIDM4LjExNTIgNjAuNzQyMSAzNi4xNjgyIDU1Ljc1OTEgMzYuMTY4MkM1MC43NzYxIDM2LjE2ODIgNDYuMDc5MSAzOC4xMTUyIDQyLjUzNzEgNDEuNjU3MkwzOS4yMjYxIDM4LjM0NjJDNDMuNjQ4MSAzMy45MjQyIDQ5LjUyMjEgMzEuNDkzMiA1NS43NTkxIDMxLjQ5MzJDNjEuOTk2MSAzMS40OTMyIDY3Ljg3MDEgMzMuOTI0MiA3Mi4yOTIxIDM4LjM0NjJDNzYuNzE0MSA0Mi43NjgyIDc5LjE0NTEgNDguNjQyMiA3OS4xNDUxIDU0Ljg3OTJDNzkuMTQ1MSA2MC4yMTQyIDc3LjM2MzEgNjUuMjk2MiA3NC4wNjMxIDY5LjQyMTJDNzMuMTgzMSA3MC41MjEyIDcxLjU1NTEgNzAuNjMxMiA3MC41NjUxIDY5LjY0MTJWNjkuNjMwMloiIGZpbGw9IiNFRkNGMUEiLz4KPHBhdGggZD0iTTcwLjU2NSA2OS42Mjk5QzY5LjcyOSA2OC43OTM5IDY5LjYzIDY3LjQ2MjkgNzAuMzc4IDY2LjUzODlDNzMuMDI5IDYzLjIyNzkgNzQuNDcgNTkuMTU3OSA3NC40NyA1NC44Nzg5Qzc0LjQ3IDQ5Ljg5NTkgNzIuNTIzIDQ1LjE5ODkgNjguOTgxIDQxLjY1NjlMNzIuMjkyIDM4LjM0NTlDNzYuNzE0IDQyLjc2NzkgNzkuMTQ1IDQ4LjY0MTkgNzkuMTQ1IDU0Ljg3ODlDNzkuMTQ1IDYwLjIxMzkgNzcuMzYzIDY1LjI5NTkgNzQuMDYzIDY5LjQyMDlDNzMuMTgzIDcwLjUyMDkgNzEuNTU1IDcwLjYzMDkgNzAuNTY1IDY5LjY0MDlWNjkuNjI5OVoiIGZpbGw9IiNGNjRGNDUiLz4KPHBhdGggZD0iTTU1Ljc0NzggNzcuODgwMUM1Ni44MjMxIDc3Ljg4MDEgNTcuNjk0OCA3Ny4wMDg0IDU3LjY5NDggNzUuOTMzMUM1Ny42OTQ4IDc0Ljg1NzggNTYuODIzMSA3My45ODYxIDU1Ljc0NzggNzMuOTg2MUM1NC42NzI1IDczLjk4NjEgNTMuODAwOCA3NC44NTc4IDUzLjgwMDggNzUuOTMzMUM1My44MDA4IDc3LjAwODQgNTQuNjcyNSA3Ny44ODAxIDU1Ljc0NzggNzcuODgwMVoiIGZpbGw9IiM2Nzg0QTIiLz4KPHBhdGggZD0iTTYzLjkzMTkgNzYuMTY0QzY1LjAwNzIgNzYuMTY0IDY1Ljg3ODkgNzUuMjkyMyA2NS44Nzg5IDc0LjIxN0M2NS44Nzg5IDczLjE0MTcgNjUuMDA3MiA3Mi4yNyA2My45MzE5IDcyLjI3QzYyLjg1NjYgNzIuMjcgNjEuOTg0OSA3My4xNDE3IDYxLjk4NDkgNzQuMjE3QzYxLjk4NDkgNzUuMjkyMyA2Mi44NTY2IDc2LjE2NCA2My45MzE5IDc2LjE2NFoiIGZpbGw9IiM2Nzg0QTIiLz4KPHBhdGggZD0iTTQ3LjU2NDIgNzYuMTMxMUM0OC42Mzk1IDc2LjEzMTEgNDkuNTExMiA3NS4yNTk0IDQ5LjUxMTIgNzQuMTg0MUM0OS41MTEyIDczLjEwODggNDguNjM5NSA3Mi4yMzcxIDQ3LjU2NDIgNzIuMjM3MUM0Ni40ODg5IDcyLjIzNzEgNDUuNjE3MiA3My4xMDg4IDQ1LjYxNzIgNzQuMTg0MUM0NS42MTcyIDc1LjI1OTQgNDYuNDg4OSA3Ni4xMzExIDQ3LjU2NDIgNzYuMTMxMVoiIGZpbGw9IiM2Nzg0QTIiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xODk2XzExNjg3OCI+CjxyZWN0IHdpZHRoPSIxMTAiIGhlaWdodD0iMTEwIiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo=", $t = ({ plans: e, features: t, featuresTitle: l, tableOnMobile: j = !1, enableToggle: u = !1, aboveCurrentPlan: g, bestLabel: a }) => {
  const { t: c } = ee(), n = nt(ot.mobile) || j, o = nt(ot.mobileBefore), d = e.map((N) => ({
    children: N.label,
    value: N.id
  })), [r, Q] = p.useState(d[0].value || ""), b = u && o && j;
  return M.jsxs(ft, { children: [b && M.jsx(tM, { buttons: d, value: r, onChange: Q }), M.jsxs(Pt, { children: [M.jsx("thead", { children: M.jsxs(ct, { children: [e.length !== 0 && M.jsx(Dt, { $tableOnMobile: j, children: M.jsx(Bt, { $tableOnMobile: j, children: l ?? c("upsellModal.featuresTitle") }) }), n && e.map((N) => M.jsxs(Dt, { $highlight: N.isBest, $tableOnMobile: j, $enableToggle: u, "data-toggle": r === N.id, children: [N.isBest ? M.jsxs(M.Fragment, { children: [M.jsx(Gt, { children: M.jsx(ht, { type: "enabled", children: a ?? c("upsellModal.bestLabel") }) }), M.jsx(gt, { children: N.label })] }) : M.jsxs(M.Fragment, { children: [M.jsx(Ft, { children: g !== null && (g ?? c("upsellModal.currentPlan")) }), M.jsx(gt, { children: N.label })] }), M.jsxs(vt, { children: [N.price && M.jsx(Zt, { stroked: !!N.discountedPrice, children: N.price }), N.discountedPrice && M.jsx(Jt, { children: N.discountedPrice })] }), N.period && N.price && M.jsx(Wt, { children: N.period === "year" ? c("currentAndRecommended.upsellModal.billPeriodAnnually") : c("currentAndRecommended.upsellModal.billPeriodMonthly") })] }, N.id))] }) }), M.jsx(Rt, { children: t.map((N, $) => M.jsxs(ct, { children: [M.jsxs(Ht, { children: [M.jsx(Xt, { children: N.title }), N.subtitle && M.jsx(Kt, { dangerouslySetInnerHTML: { __html: N.subtitle } })] }), n && e.map((z) => {
    var Y, E;
    return M.jsx(Tt, { $highlight: z.isBest, "data-highlight": z.isBest, $enableToggle: u, "data-toggle": r === z.id, children: z.isBest ? M.jsx(qt, { children: ((E = N.values) == null ? void 0 : E[z.id]) || M.jsx(eM, { children: M.jsx(mt, { icon: kt }) }) }) : M.jsx(Vt, { children: ((Y = N.values) == null ? void 0 : Y[z.id]) || M.jsx(_t, { icon: Qt }) }) }, z.id);
  })] }, $)) })] })] });
}, ft = i.div``, zt = C`
  ${s.mobileBefore} {
    ${(e) => e.$enableToggle === !0 && C`
        & {
          display: none;
        }

        &[data-toggle="true"] {
          display: table-cell;
        }
      `}
  }
`, Pt = i.table`
  width: 100%;
  border-collapse: collapse;
`, Rt = i.tbody`
  & > tr:last-of-type > td {
    border-bottom: none;
  }
`, ct = i.tr`
  vertical-align: middle;

  &:last-child {
    [data-highlight="true"] {
      ${s.mobile} {
        &:before {
          content: "";
          position: absolute;
          z-index: 1;
          top: -1px;
          bottom: -8px;
          left: ${(e) => e.theme.spacing.sp6};
          right: 0;
          pointer-events: none;
          border-left: 3px solid ${({ theme: e }) => e.systemColors.blue600};
          border-right: 3px solid ${({ theme: e }) => e.systemColors.blue600};
          border-bottom: 3px solid ${({ theme: e }) => e.systemColors.blue600};
          border-top: none;
          border-radius: ${(e) => `0 0 ${e.theme.spacing.sp6} ${e.theme.spacing.sp6}`};
        }
      }
    }

    [data-highlight="false"] {
      position: relative;

      &:after {
        content: "";
        position: absolute;
        z-index: 1;
        height: 8px;
        bottom: -8px;
        left: ${(e) => e.theme.spacing.sp6};
        right: ${(e) => e.theme.spacing.sp6};
        pointer-events: none;
        border-radius: ${(e) => `0 0 ${e.theme.spacing.sp6} ${e.theme.spacing.sp6}`};
      }
    }
  }
`, Dt = i.th`
  vertical-align: top;

  ${(e) => e.$tableOnMobile && C`
      padding-top: 0;
    `}
  ${s.mobile} {
    padding-top: 0;
  }

  ${(e) => e.$highlight && C`
      position: relative;
      ${s.mobile} {
        &:before {
          content: "";
          position: absolute;
          z-index: 1;
          top: ${(t) => t.theme.spacing.sp6};
          bottom: -1px;
          left: ${(t) => t.theme.spacing.sp6};
          right: 0;
          border-left: 3px solid ${e.theme.systemColors.blue600};
          border-right: 3px solid ${e.theme.systemColors.blue600};
          pointer-events: none;
        }
        &::after {
          content: "";
          position: absolute;
          z-index: 1;
          left: ${(t) => t.theme.spacing.sp6};
          right: 0;
          top: 0;
          ${ie};
          color: ${(t) => t.theme.systemColors.white};
          height: ${(t) => t.theme.spacing.sp6};
          display: flex;
          align-items: center;
          justify-content: center;
          border: 3px solid ${e.theme.systemColors.blue600};
          border-radius: ${(t) => `${t.theme.spacing.sp6} ${t.theme.spacing.sp6} 0 0`};
          border-bottom: none;
        }
      }
    `}
  ${(e) => e.$highlight === !1 && C`
      position: relative;
      padding: ${(t) => `${t.theme.spacing.sp16} ${t.theme.spacing.sp6}`};

      &:before {
        content: "";
        position: absolute;
        z-index: 0;
        top: 0;
        bottom: 0;
        left: ${(t) => t.theme.spacing.sp6};
        right: ${(t) => t.theme.spacing.sp6};
        pointer-events: none;
        border-radius: ${(t) => `${t.theme.spacing.sp6} ${t.theme.spacing.sp6} 0 0`};
      }

      ${s.mobileBefore} {
        &:before {
          background: ${({ theme: t }) => t.systemColors.white};
        }
      }
    `}

  &:first-of-type {
    padding-top: ${(e) => e.theme.spacing.sp48};
  }

  ${s.mobileBefore} {
    ${(e) => !e.$tableOnMobile && C`
        &:first-of-type {
          padding-top: 0;
        }
      `}
  }

  ${zt};
`, Gt = i.div`
  display: flex;
  justify-content: center;
  margin: ${(e) => `${e.theme.spacing.sp12} 0 ${e.theme.spacing.sp8}`};
`, Ft = i.div`
  ${Ne};
  color: ${(e) => e.theme.systemColors.grey600};
  margin: ${(e) => `${e.theme.spacing.sp8} 0 ${e.theme.spacing.sp12}`};
  text-align: center;
  height: 22px;
`, Bt = i.div`
  ${W};

  text-align: ${(e) => e.$tableOnMobile ? "left" : "center"};

  ${s.mobile} {
    text-align: left;
  }
`, gt = i.div`
  ${lt};
  color: ${({ theme: e }) => e.systemColors.black};
  text-align: center;
  white-space: nowrap;
  padding: ${(e) => `0 ${e.theme.spacing.sp8} 0 ${e.theme.spacing.sp12}`};

  ${s.mobile} {
    ${Ne};
    white-space: nowrap;
    padding: ${(e) => `0 ${e.theme.spacing.sp8} 0 ${e.theme.spacing.sp12}`};
    color: ${({ theme: e }) => e.systemColors.black};
  }
`, vt = i.div`
  ${W};
  color: ${({ theme: e }) => e.systemColors.grey800};
  text-align: center;
  display: flex;
  justify-content: center;
  align-items: center;
`, Zt = i.div`
  ${({ stroked: e, theme: t }) => e && C`
      color: ${t.systemColors.grey300};
      text-decoration: line-through;
      margin-right: ${t.spacing.sp4};
      font-size: 12px;
    `}
`, Jt = i.div``, Wt = i.div`
  ${ut};
  text-align: center;
`, Tt = i.td`
  padding: ${(e) => `${e.theme.spacing.sp16} 0`};
  border-bottom: ${(e) => `1px solid ${e.theme.systemColors.grey200}`};

  ${(e) => e.$highlight && C`
      position: relative;
      padding: ${(t) => `${t.theme.spacing.sp16} 0 ${t.theme.spacing.sp16} ${t.theme.spacing.sp6}`};
      ${s.mobile} {
        &:before {
          content: "";
          position: absolute;
          z-index: 1;
          top: -1px;
          bottom: -1px;
          left: ${(t) => t.theme.spacing.sp6};
          right: 0;
          border-left: 3px solid ${e.theme.systemColors.blue600};
          border-right: 3px solid ${e.theme.systemColors.blue600};
          pointer-events: none;
        }
      }
    `}

  ${(e) => e.$highlight === !1 && C`
      position: relative;
      padding: ${(t) => `${t.theme.spacing.sp16} ${t.theme.spacing.sp6}`};

      &:before {
        content: "";
        position: absolute;
        z-index: 0;
        top: 0;
        bottom: 0;
        left: ${(t) => t.theme.spacing.sp6};
        right: ${(t) => t.theme.spacing.sp6};
        pointer-events: none;
      }

      ${s.mobileBefore} {
        &:before {
          display: none;
        }
      }
    `}

  ${zt};
`, Ht = i(Tt)`
  width: 100%;
`, Xt = i.div`
  ${Ne};
  color: ${({ theme: e }) => e.systemColors.black};
`, Kt = i.div`
  ${ut};
  margin-top: ${(e) => e.theme.spacing.sp4};

  ${s.mobile} {
    ${W};
    margin-top: ${(e) => e.theme.spacing.sp4};
  }

  max-width: 380px;
`, Vt = i.div`
  ${W};
  color: ${({ theme: e }) => e.systemColors.grey600};
  min-width: 100px;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;

  ${s.mobile} {
    min-width: 160px;
  }
`, _t = i(dt)`
  font-size: 20px;
  color: ${(e) => e.theme.systemColors.grey300};
`, qt = i.div`
  ${ie};

  min-width: 120px;
  display: flex;
  align-items: center;
  text-align: center;
  padding: ${(e) => `0 ${e.theme.spacing.sp6}`};
  justify-content: center;

  ${s.mobile} {
    min-width: 160px;
  }
`, mt = i(dt)`
  font-size: 20px;
`, eM = i.div`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background-color: ${(e) => e.theme.systemColors.blue600};

  ${mt} {
    color: ${(e) => e.theme.systemColors.white};
  }
`, tM = i(Yt)`
  margin-bottom: ${(e) => e.theme.spacing.sp16};
`, st = ({ data: e, modalProps: t, footerJustifyContent: l, onAccept: j, onDecline: u, queryStringParameters: g, coupon: a, type: c }) => {
  const { t: n } = ee(), o = c === "postPurchaseModal", d = g != null && g.source ? `&source=${g == null ? void 0 : g.source}` : "", r = `${Lt}/subscribe?trigger=upsellModalPricingPageCta${d}`, Q = a ? e == null ? void 0 : e.footer.labelWithCoupon : e == null ? void 0 : e.footer.label;
  return M.jsx(rt, { ...t, size: "100", titleAlign: "center", title: M.jsxs(M.Fragment, { children: [(e == null ? void 0 : e.hasHeadingPicture) && M.jsx(iM, { src: It }), M.jsx(NM, { $isPostPurchase: o, children: e == null ? void 0 : e.title })] }), subtitle: M.jsx(nM, { children: e == null ? void 0 : e.subtitle }), footer: M.jsx(M.Fragment, { children: e && M.jsxs(cM, { $isPostPurchase: o, children: [M.jsxs(MM, { $footerJustifyContent: l, children: [M.jsx(B, { buttonType: "secondary", size: "200", onClick: u, children: e.footer.declineButton }), M.jsx(B, { buttonType: "primary", "data-testid": "acceptButtonOptimal", size: "200", onClick: () => j == null ? void 0 : j({
    trigger: "upsellModalUpgradeButton"
  }), children: e.footer.acceptButton })] }), !o && M.jsxs(DM, { children: [M.jsx(gM, { children: n("upsellModal.moreDetails") }), M.jsx(sM, { href: r, children: n("upsellModal.pricingPage") })] })] }) }), children: e && M.jsxs(oM, { children: [M.jsx($t, { plans: e.plans, features: e.features, featuresTitle: e.featuresTitle, tableOnMobile: !0, enableToggle: !0 }), M.jsx(Ut, { label: Q, coupon: a, data: e })] }) });
}, MM = i.div`
  display: flex;
  align-items: center;
  justify-content: ${(e) => e.$footerJustifyContent ? e.$footerJustifyContent : "center"};
  gap: ${(e) => e.theme.spacing.sp16};

  & > ${B} {
    margin: 0 !important;
  }

  ${s.mobileBefore} {
    flex-direction: column;
    justify-content: flex-start;
    margin-top: 0;
    gap: ${(e) => e.theme.spacing.sp16};
  }
`, iM = i.img`
  margin-bottom: ${(e) => e.theme.spacing.sp16};
`, NM = i.div`
  ${xt};

  ${(e) => e.$isPostPurchase && C`
      padding-bottom: ${(t) => t.theme.spacing.sp4};
    `}
`, nM = i.div`
  ${ie};
  margin-top: ${(e) => e.theme.spacing.sp4};
`, oM = i.div`
  max-width: calc(100% - 1px);
  padding: ${(e) => e.theme.spacing.sp8};
`, cM = i.div`
  padding: ${(e) => `0 ${e.theme.spacing.sp8}`};

  ${(e) => e.$isPostPurchase && C`
      padding-bottom: ${(t) => t.theme.spacing.sp8};
    `}
`, DM = i.div`
  text-align: center;
  margin-top: ${(e) => e.theme.spacing.sp16};
`, gM = i.span`
  ${W};
  margin-right: ${(e) => e.theme.spacing.sp4};
`, sM = i.a`
  ${lt};
  color: ${(e) => e.theme.systemColors.blue600};
  text-decoration: none;

  &:hover {
    color: ${(e) => e.theme.systemColors.blue700};
  }
`, jM = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgdmlld0JveD0iMCAwIDExMCAxMTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8xODk2XzExNjkyNSkiPgo8cGF0aCBkPSJNNTUgMTEwQzg1LjM3NTcgMTEwIDExMCA4NS4zNzU3IDExMCA1NUMxMTAgMjQuNjI0MyA4NS4zNzU3IDAgNTUgMEMyNC42MjQzIDAgMCAyNC42MjQzIDAgNTVDMCA4NS4zNzU3IDI0LjYyNDMgMTEwIDU1IDExMFoiIGZpbGw9IiNFOEY2RkYiLz4KPHBhdGggZD0iTTc0Ljg4ODEgNDkuNTU0OUgzNS4wMTMxQzM0LjI5MDIgNDkuNTU0OSAzMy43MDQxIDUwLjE0MSAzMy43MDQxIDUwLjg2MzlWODAuMTg5OUMzMy43MDQxIDgwLjkxMjkgMzQuMjkwMiA4MS40OTg5IDM1LjAxMzEgODEuNDk4OUg3NC44ODgxQzc1LjYxMSA4MS40OTg5IDc2LjE5NzEgODAuOTEyOSA3Ni4xOTcxIDgwLjE4OTlWNTAuODYzOUM3Ni4xOTcxIDUwLjE0MSA3NS42MTEgNDkuNTU0OSA3NC44ODgxIDQ5LjU1NDlaIiBmaWxsPSIjRURDRDFDIi8+CjxwYXRoIGQ9Ik00MS43NTYxIDQ5LjU1NVYzNC45MTRDNDEuNzU2MSAyOS44NTQgNDUuODgxMSAyNS43MjkgNTAuOTQxMSAyNS43MjlINTkuMDE1MUM2NC4wNzUxIDI1LjcyOSA2OC4yMDAxIDI5Ljg1NCA2OC4yMDAxIDM0LjkxNFYzNi40MzJDNjguMjAwMSAzNi42NTIgNjguMDI0MSAzNi44MjggNjcuODA0MSAzNi44MjhINjcuNTA3MVYzOS45M0g2Ny45NjkxQzY4LjEwMTEgMzkuOTMgNjguMjAwMSA0MC4wNCA2OC4yMDAxIDQwLjE2MVY0MC40OTFDNjguMjAwMSA0MS40NTkgNjcuNDA4MSA0Mi4yNTEgNjYuNDQwMSA0Mi4yNTFINjUuNDM5MUM2NC40NzExIDQyLjI1MSA2My42NzkxIDQxLjQ1OSA2My42NzkxIDQwLjQ5MVY0MC4xNjFDNjMuNjc5MSA0MC4wMjkgNjMuNzg5MSAzOS45MyA2My45MTAxIDM5LjkzSDY0LjQwNTFWMzYuODI4SDY0LjE2MzFDNjMuODQ0MSAzNi44MjggNjMuNjY4MSAzNi42NTIgNjMuNjY4MSAzNi40MzJWMzQuOTE0QzYzLjY2ODEgMzIuMzQgNjEuNTc4MSAzMC4yNSA1OS4wMDQxIDMwLjI1SDUwLjkzMDFDNDguMzU2MSAzMC4yNSA0Ni4yNjYxIDMyLjM0IDQ2LjI2NjEgMzQuOTE0VjQ5LjU0NEg0MS43NDUxTDQxLjc1NjEgNDkuNTU1WiIgZmlsbD0iI0E2QjdDOSIvPgo8cGF0aCBkPSJNNTkuNDc2OSA2MS4wMTdDNTkuNDc2OSA1OC4zNjYgNTcuMTc3OSA1Ni4yNDMgNTQuNDcxOSA1Ni41NTFDNTIuNDY5OSA1Ni43NzEgNTAuODE5OSA1OC4zNTUgNTAuNTMzOSA2MC4zNTdDNTAuMjY5OSA2Mi4xOTQgNTEuMTE2OSA2My44NTUgNTIuNTAyOSA2NC43NzlDNTIuOTMxOSA2NS4wNjUgNTMuMTczOSA2NS41NzEgNTMuMDg1OSA2Ni4wNzdMNTIuMDQwOSA3Mi4zNDdDNTEuOTYzOSA3Mi44MiA1Mi4zMjY5IDczLjI0OSA1Mi44MTA5IDczLjI0OUg1Ny4xNDQ5QzU3LjYyODkgNzMuMjQ5IDU3Ljk5MTkgNzIuODIgNTcuOTE0OSA3Mi4zNDdMNTYuODY5OSA2Ni4wNzdDNTYuNzgxOSA2NS41NiA1Ny4wMjM5IDY1LjA2NSA1Ny40NTI5IDY0Ljc3OUM1OC42NzM5IDYzLjk3NiA1OS40NzY5IDYyLjU5IDU5LjQ3NjkgNjEuMDI4VjYxLjAxN1oiIGZpbGw9IiM0ODVFNzUiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xODk2XzExNjkyNSI+CjxyZWN0IHdpZHRoPSIxMTAiIGhlaWdodD0iMTEwIiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo=", lM = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgdmlld0JveD0iMCAwIDExMCAxMTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8xODk2XzExNjkwMikiPgo8cGF0aCBkPSJNNTUgMTEwQzg1LjM3NTcgMTEwIDExMCA4NS4zNzU3IDExMCA1NUMxMTAgMjQuNjI0MyA4NS4zNzU3IDAgNTUgMEMyNC42MjQzIDAgMCAyNC42MjQzIDAgNTVDMCA4NS4zNzU3IDI0LjYyNDMgMTEwIDU1IDExMFoiIGZpbGw9IiNFOEY2RkYiLz4KPHBhdGggZD0iTTYyLjE5MzkgODUuNTkxMkw2My41MjQ5IDgwLjcwNzJDNjMuNzIyOSA3OS45ODEyIDYzLjY3ODkgNzkuMjMzMiA2My40MDM5IDc4LjU1MTJMNTYuMDg4OSA2MC41NjYyQzU4LjcwNjkgNTcuNTMwMiA1OS41NjQ5IDUzLjE3NDIgNTcuOTU4OSA0OS4yMDMyQzU1LjY1OTkgNDMuNTQ5MiA0OS4yMjQ5IDQwLjgzMjIgNDMuNTcwOSA0My4xMzEyQzM3LjkxNjkgNDUuNDMwMiAzNS4xOTk5IDUxLjg2NTIgMzcuNDk4OSA1Ny41MTkyQzM5LjExNTkgNjEuNDkwMiA0Mi43Njc5IDYzLjk5ODIgNDYuNzYwOSA2NC4zNTAyTDQ4LjAyNTkgNjcuNDUyMkw1MC44NTI5IDY4LjY1MTJMNDkuNjUzOSA3MS40NzgyTDQ5LjgxODkgNzEuODg1Mkw1Mi42NDU5IDczLjA4NDJMNTEuNDQ2OSA3NS45MTEyTDUxLjYxMTkgNzYuMzE4Mkw1NC40Mzg5IDc3LjUxNzJMNTMuMjM5OSA4MC4zNDQyTDU0LjA1MzkgODIuMzU3MkM1NC4zMjg5IDgzLjAyODIgNTQuODIzOSA4My42MDAyIDU1LjQ3MjkgODMuOTg1Mkw1OS44Mjg5IDg2LjU1OTJDNjAuNjk3OSA4Ny4wNzYyIDYxLjg5NjkgODYuNTgxMiA2Mi4xNzE5IDg1LjYxMzJMNjIuMTkzOSA4NS41OTEyWiIgZmlsbD0iI0E0QjVDNyIvPgo8cGF0aCBkPSJNNTkuNjQyMiA3Ni43NTIyTDU0LjcyMTUgNjQuNjQ2QzU0LjYwMDIgNjQuMzQ3OCA1NC4yNjAyIDY0LjIwNDIgNTMuOTYxOSA2NC4zMjU1TDUzLjUyMzcgNjQuNTAzNkM1My4yMjU0IDY0LjYyNDggNTMuMDgxOSA2NC45NjQ5IDUzLjIwMzEgNjUuMjYzMkw1OC4xMjM4IDc3LjM2OTRDNTguMjQ1MSA3Ny42Njc3IDU4LjU4NTIgNzcuODExMiA1OC44ODM1IDc3LjY4OTlMNTkuMzIxNiA3Ny41MTE4QzU5LjYxOTkgNzcuMzkwNiA1OS43NjM0IDc3LjA1MDUgNTkuNjQyMiA3Ni43NTIyWiIgZmlsbD0iIzY3ODNBMCIvPgo8cGF0aCBkPSJNNDguNjUyOSA1MS4yNzEzQzQ3LjgxNjkgNTIuNDQ4MyA0Ni4xOTk5IDUyLjcyMzMgNDUuMDIyOSA1MS44ODczQzQzLjg0NTkgNTEuMDUxMyA0My41NzA5IDQ5LjQzNDMgNDQuNDA2OSA0OC4yNTczQzQ1LjI0MjkgNDcuMDgwMyA0Ni44NTk5IDQ2LjgwNTMgNDguMDM2OSA0Ny42NDEzQzQ5LjIxMzkgNDguNDc3MyA0OS40ODg5IDUwLjA5NDMgNDguNjUyOSA1MS4yNzEzWiIgZmlsbD0iI0U4RjZGRiIvPgo8cGF0aCBkPSJNODYuODQ0NiA2OC44ODIxTDg1LjM0ODYgNjQuMDUzMUM4NS4xMjg2IDYzLjMzODEgODQuNjg4NiA2Mi43MjIxIDg0LjA5NDYgNjIuMjkzMUw2OC4yNjU2IDUxLjA0MDFDNjguODM3NiA0Ny4wNjkxIDY3LjIzMTYgNDIuOTMzMSA2My43NDQ2IDQwLjQ1ODFDNTguNzcyNiAzNi45MjcxIDUxLjg3NTYgMzguMDkzMSA0OC4zNDQ2IDQzLjA2NTFDNDQuODEzNiA0OC4wMzcxIDQ1Ljk3OTYgNTQuOTM0MSA1MC45NTE2IDU4LjQ2NTFDNTQuNDM4NiA2MC45NTExIDU4Ljg4MjYgNjEuMTA1MSA2Mi40MzU2IDU5LjI1NzFMNjUuMTYzNiA2MS4xOTMxTDY4LjE4ODYgNjAuNjc2MUw2OC43MDU2IDYzLjcwMTFMNjkuMDU3NiA2My45NTQxTDcyLjA4MjYgNjMuNDM3MUw3Mi41OTk2IDY2LjQ2MjFMNzIuOTUxNiA2Ni43MTUxTDc1Ljk3NjYgNjYuMTk4MUw3Ni40OTM2IDY5LjIyMzFMNzguMjY0NiA3MC40NzcxQzc4Ljg1ODYgNzAuODk1MSA3OS41ODQ2IDcxLjExNTEgODAuMzMyNiA3MS4wOTMxTDg1LjM5MjYgNzAuOTE3MUM4Ni40MDQ2IDcwLjg4NDEgODcuMTUyNiA2OS44MjgxIDg2Ljg1NTYgNjguODYwMUw4Ni44NDQ2IDY4Ljg4MjFaIiBmaWxsPSIjRURDRDFDIi8+CjxwYXRoIGQ9Ik03OS45NTAxIDYyLjc5NjdMNjkuMjk4IDU1LjIyNjZDNjkuMDM1NSA1NS4wNDAxIDY4LjY3MTUgNTUuMTAxNyA2OC40ODUgNTUuMzY0MUw2OC4yMTEgNTUuNzQ5N0M2OC4wMjQ1IDU2LjAxMjIgNjguMDg2MSA1Ni4zNzYxIDY4LjM0ODUgNTYuNTYyNkw3OS4wMDA2IDY0LjEzMjdDNzkuMjYzMSA2NC4zMTkyIDc5LjYyNyA2NC4yNTc2IDc5LjgxMzYgNjMuOTk1Mkw4MC4wODc2IDYzLjYwOTZDODAuMjc0MSA2My4zNDcyIDgwLjIxMjUgNjIuOTgzMiA3OS45NTAxIDYyLjc5NjdaIiBmaWxsPSIjQjM5QTBEIi8+CjxwYXRoIGQ9Ik01Ni4wNzc3IDQ4LjY3NTFDNTUuMjQxNyA0OS44NTIxIDUzLjYyNDcgNTAuMTI3MSA1Mi40NDc3IDQ5LjI5MTFDNTEuMjcwNyA0OC40NTUxIDUwLjk5NTcgNDYuODM4MSA1MS44MzE3IDQ1LjY2MTFDNTIuNjY3NyA0NC40ODQxIDU0LjI4NDcgNDQuMjA5MSA1NS40NjE3IDQ1LjA0NTFDNTYuNjM4NyA0NS44ODExIDU2LjkxMzcgNDcuNDk4MSA1Ni4wNzc3IDQ4LjY3NTFaIiBmaWxsPSIjRThGNkZGIi8+CjxwYXRoIGQ9Ik0zNi44Mzg4IDUxLjU5MDFDMzcuMDU4OCA1MC4yMzcxIDM3LjU0MjggNDguOTM5MSAzOC4yMzU4IDQ3Ljc2MjFDMzYuMzMyOCA0Ni41MzAxIDM0Ljg5MTggNDQuNzgxMSAzNC4wMzM4IDQyLjcwMjFDMzIuOTIyOCAzOS45NzQxIDMyLjk0NDggMzYuOTcxMSAzNC4wOTk4IDM0LjI0MzFDMzUuMjQzOCAzMS41MTUxIDM3LjM4ODggMjkuNDAzMSA0MC4xMTY4IDI4LjI5MjFDNDEuNDQ3OCAyNy43NTMxIDQyLjg0NDggMjcuNDc4MSA0NC4yNjM4IDI3LjQ3ODFDNDguNzk1OCAyNy40NzgxIDUyLjgyMTggMzAuMTg0MSA1NC41MjY4IDM0LjM3NTFDNTUuNjkyOCAzNy4yMzUxIDU1LjU0OTggNDAuNDE0MSA1NC4zMTc4IDQzLjEzMTFDNTQuMjE4OCA0My40MTcxIDUzLjg1NTggNDQuMDQ0MSA1My42NDY4IDQ0LjM3NDFDNTMuNjEzOCA0NC40MTgxIDUzLjU5MTggNDQuNDYyMSA1My41NTg4IDQ0LjUwNjFDNTMuNTI1OCA0NC41NjExIDUzLjUwMzggNDQuNTk0MSA1My41MDM4IDQ0LjU5NDFDNTMuNTAzOCA0NC41OTQxIDUzLjQ5MjggNDQuNTk0MSA1My40ODE4IDQ0LjU5NDFDNTIuODk4OCA0NS40OTYxIDUyLjE3MjggNDYuMzEwMSA1MS4zMjU4IDQ3LjAyNTFDNTEuMjgxOCA0Ny44ODMxIDUxLjY1NTggNDguNzQxMSA1Mi40MTQ4IDQ5LjI4MDFDNTIuOTc1OCA0OS42ODcxIDUzLjY0NjggNDkuODE5MSA1NC4yODQ4IDQ5LjczMTFDNTguOTcwOCA0NS41MjkxIDYwLjU5ODggMzguNzMxMSA1OC4yMTE4IDMyLjg1NzFDNTUuODkwOCAyNy4xNTkxIDUwLjQxMjggMjMuNDc0MSA0NC4yNTI4IDIzLjQ3NDFDNDIuMzE2OCAyMy40NzQxIDQwLjQxMzggMjMuODQ4MSAzOC41OTg4IDI0LjU4NTFDMzQuODgwOCAyNi4wOTIxIDMxLjk2NTggMjguOTc0MSAzMC40MDM4IDMyLjY4MTFDMjguODQxOCAzNi4zODgxIDI4LjgwODggNDAuNDgwMSAzMC4zMjY4IDQ0LjE5ODFDMzEuNTgwOCA0Ny4zMDAxIDMzLjc5MTggNDkuODMwMSAzNi43MDY4IDUxLjUyNDFMMzYuODE2OCA1MS41OTAxSDM2LjgzODhaIiBmaWxsPSIjNjc4M0EwIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDBfMTg5Nl8xMTY5MDIiPgo8cmVjdCB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgZmlsbD0id2hpdGUiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K", uM = ({ data: e, modalProps: t, onDecline: l, onBeforeAccept: j, onAccept: u, onCustomAccept: g, ctaTitle: a, offer: c }) => {
  const { t: n } = ee(), o = {
    trialEnded: {
      image: lM,
      title: e != null && e.toolTitle ? n("upsellGeneralModal.types.trialEnded.title", { tool: e == null ? void 0 : e.toolTitle }) : n("upsellGeneralModal.types.trialEnded.titleWithoutTool"),
      description: n("upsellGeneralModal.types.trialEnded.description")
    },
    usesLimitReached: {
      image: It,
      title: e != null && e.toolTitle ? n("upsellGeneralModal.types.usesLimitReached.title", { tool: e == null ? void 0 : e.toolTitle }) : n("upsellGeneralModal.types.usesLimitReached.titleWithoutTool"),
      description: n("upsellGeneralModal.types.usesLimitReached.description")
    },
    featureLocked: {
      image: jM,
      title: n("upsellGeneralModal.types.featureLocked.titleWithoutTool"),
      description: n("upsellGeneralModal.types.featureLocked.description")
    }
  }, d = (r) => {
    r.preventDefault(), g ? g() : (j && j(), u && u(), at({
      key: c == null ? void 0 : c.offerKey,
      action: c == null ? void 0 : c.offerAction
    }));
  };
  return M.jsx(rt, { ...t, size: "100", onClose: l, title: e.type && o[e.type].title, footer: M.jsxs(zM, { children: [M.jsx(B, { buttonType: "secondary", size: "200", onClick: l, children: n("upsellGeneralModal.buttons.decline") }), M.jsx(B, { "data-testid": "acceptButton", buttonType: "primary", size: "200", onClick: d, children: a || n("upsellGeneralModal.buttons.accept") })] }), children: M.jsx(aM, { children: e.type && M.jsxs(dM, { children: [M.jsx(rM, { src: o[e.type].image }), M.jsx(IM, { children: o[e.type].description })] }) }) });
}, aM = i.div``, dM = i(Et)`
  display: flex;
  align-items: center;
  flex-direction: column;
  margin: ${(e) => `${e.theme.spacing.sp8} 0 0`};
  padding: ${(e) => e.theme.spacing.sp24};

  ${s.laptop} {
    justify-content: space-between;
    flex-direction: row;
  }
`, rM = i.img``, IM = i.div`
  font-size: 18px;
  margin: ${(e) => `${e.theme.spacing.sp32} 0 0 0`};

  ${s.laptop} {
    margin: ${(e) => `0 0 0 ${e.theme.spacing.sp24}`};
  }
`, zM = i.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  margin-top: -${(e) => e.theme.spacing.sp8};

  ${s.laptop} {
    flex-direction: row;
    justify-content: right;
  }

  ${B} + ${B} {
    margin-left: 0;
    margin-top: ${(e) => e.theme.spacing.sp8};

    ${s.laptop} {
      margin-left: ${(e) => e.theme.spacing.sp8};
      margin-top: 0;
    }
  }
`, ne = pt(() => ({
  currentAndRecommended: null
})), q = bt(ne, "currentAndRecommended", (e, t) => Ct(e, t == null ? void 0 : t.signal)), TM = () => {
  var l, j, u, g, a, c, n, o, d, r, Q, b, N, $, z, Y, E, D, I, A, y, O, x, L, U;
  const { t: e } = ee(), t = ne((S) => S, wt);
  return p.useMemo(() => {
    var ce, De, ge, se, je, le, ue, ae, de, re, Ie, ze, Te, me, Ae, ye, Oe, xe, Le, Ce, Ue, Se, Qe, ke, he, Ye, Ee, we, pe, be, $e, fe, Pe, Re, Ge, Fe, Be, ve, Ze, Je, We, He, Xe, Ke, Ve, _e, qe, et, tt, Mt, it;
    const S = (m) => {
      if (m) {
        const { amount: v, interval: Z, discountedAmount: K } = m, V = e(`intervalShort.${Z}`), Me = v ? `${_({
          amount: Number(v),
          isRounded: !0
        })}/${V}` : "", Ot = K ? `${_({
          amount: Number(K),
          isRounded: !0
        })}/${V}` : "";
        return {
          amount: Me,
          discountedAmount: Ot
        };
      }
      return null;
    }, f = (De = (ce = t.currentAndRecommended) == null ? void 0 : ce.data) == null ? void 0 : De.ctaTitle, P = (je = (se = (ge = t.currentAndRecommended) == null ? void 0 : ge.data) == null ? void 0 : se.recommendation) == null ? void 0 : je.plan.period, T = S((ae = (ue = (le = t.currentAndRecommended) == null ? void 0 : le.data) == null ? void 0 : ue.recommendation) == null ? void 0 : ae.plan), w = (Ie = (re = (de = t.currentAndRecommended) == null ? void 0 : de.data) == null ? void 0 : re.recommendation) == null ? void 0 : Ie.plan.key, R = (me = (Te = (ze = t.currentAndRecommended) == null ? void 0 : ze.data) == null ? void 0 : Te.recommendation) == null ? void 0 : me.plan.title, G = ((Oe = (ye = (Ae = t.currentAndRecommended) == null ? void 0 : Ae.data) == null ? void 0 : ye.recommendation) == null ? void 0 : Oe.bulletPoints) || [], k = (Le = (xe = t.currentAndRecommended) == null ? void 0 : xe.data) == null ? void 0 : Le.subscription.plan.period, h = S((Ue = (Ce = t.currentAndRecommended) == null ? void 0 : Ce.data) == null ? void 0 : Ue.subscription.plan), J = (Qe = (Se = t.currentAndRecommended) == null ? void 0 : Se.data) == null ? void 0 : Qe.subscription.plan.key, H = (he = (ke = t.currentAndRecommended) == null ? void 0 : ke.data) == null ? void 0 : he.subscription.plan.title, F = (we = (Ee = (Ye = t.currentAndRecommended) == null ? void 0 : Ye.data) == null ? void 0 : Ee.subscription) == null ? void 0 : we.bulletPoints, X = ($e = (be = (pe = t.currentAndRecommended) == null ? void 0 : pe.data) == null ? void 0 : be.recommendation) == null ? void 0 : $e.proration;
    let oe = null;
    if (X) {
      const m = (Ge = (Re = (Pe = (fe = t.currentAndRecommended) == null ? void 0 : fe.data) == null ? void 0 : Pe.recommendation) == null ? void 0 : Re.proration) == null ? void 0 : Ge.amount, v = (Ze = (ve = (Be = (Fe = t.currentAndRecommended) == null ? void 0 : Fe.data) == null ? void 0 : Be.recommendation) == null ? void 0 : ve.proration) == null ? void 0 : Ze.dailyAmount, Z = (Xe = (He = (We = (Je = t.currentAndRecommended) == null ? void 0 : Je.data) == null ? void 0 : We.recommendation) == null ? void 0 : He.proration) == null ? void 0 : Xe.interval, K = e(`currentAndRecommended.upsellModal.intervalShort.${Z}`), V = _({ amount: Number(v) }), Me = _({ amount: Number(m), isRounded: !0 });
      oe = e("currentAndRecommended.upsellModal.prorated", {
        dailyPrice: V,
        price: Me,
        interval: K
      });
    }
    const At = G.map((m, v) => {
      var Z;
      return {
        title: m.title,
        subtitle: (m == null ? void 0 : m.subTitle) || null,
        values: {
          [w]: m == null ? void 0 : m.specialText,
          [J]: (Z = F == null ? void 0 : F[v]) == null ? void 0 : Z.specialText
        }
      };
    }), yt = {
      id: J,
      label: H,
      isBest: !1,
      price: h == null ? void 0 : h.amount,
      period: k,
      discountedPrice: h == null ? void 0 : h.discountedAmount
    };
    let te = [
      {
        id: w,
        label: R,
        isBest: !0,
        price: T == null ? void 0 : T.amount,
        period: P,
        discountedPrice: T == null ? void 0 : T.discountedAmount
      }
    ];
    return F && (te = [yt, ...te]), {
      title: (_e = (Ve = (Ke = t.currentAndRecommended) == null ? void 0 : Ke.data) == null ? void 0 : Ve.recommendation) == null ? void 0 : _e.title,
      subtitle: (tt = (et = (qe = t.currentAndRecommended) == null ? void 0 : qe.data) == null ? void 0 : et.recommendation) == null ? void 0 : tt.subtitle,
      features: At,
      plans: te,
      proration: oe,
      hasHeadingPicture: ((it = (Mt = t.currentAndRecommended) == null ? void 0 : Mt.data) == null ? void 0 : it.hasHeadingPicture) ?? !0,
      footer: {
        label: null,
        labelWithCoupon: null,
        acceptButton: f || e("currentAndRecommended.upsellModal.footer.acceptButton"),
        declineButton: e("currentAndRecommended.upsellModal.footer.declineButton")
      }
    };
  }, [
    (j = (l = t.currentAndRecommended) == null ? void 0 : l.data) == null ? void 0 : j.ctaTitle,
    (g = (u = t.currentAndRecommended) == null ? void 0 : u.data) == null ? void 0 : g.hasHeadingPicture,
    (n = (c = (a = t.currentAndRecommended) == null ? void 0 : a.data) == null ? void 0 : c.recommendation) == null ? void 0 : n.bulletPoints,
    (r = (d = (o = t.currentAndRecommended) == null ? void 0 : o.data) == null ? void 0 : d.recommendation) == null ? void 0 : r.plan,
    (N = (b = (Q = t.currentAndRecommended) == null ? void 0 : Q.data) == null ? void 0 : b.recommendation) == null ? void 0 : N.proration,
    (Y = (z = ($ = t.currentAndRecommended) == null ? void 0 : $.data) == null ? void 0 : z.recommendation) == null ? void 0 : Y.subtitle,
    (I = (D = (E = t.currentAndRecommended) == null ? void 0 : E.data) == null ? void 0 : D.recommendation) == null ? void 0 : I.title,
    (O = (y = (A = t.currentAndRecommended) == null ? void 0 : A.data) == null ? void 0 : y.subscription) == null ? void 0 : O.bulletPoints,
    (U = (L = (x = t.currentAndRecommended) == null ? void 0 : x.data) == null ? void 0 : L.subscription) == null ? void 0 : U.plan,
    e
  ]);
}, GM = (e) => {
  var Q, b, N, $, z, Y, E;
  const t = TM(), [l, j] = p.useState(!1), [u, g, a, c, n, o] = ne((D) => {
    var I, A, y, O, x, L, U, S, f, P, T, w, R, G, k, h, J, H, F, X;
    return [
      (y = (A = (I = D.currentAndRecommended) == null ? void 0 : I.data) == null ? void 0 : A.recommendation) == null ? void 0 : y.isShown,
      (U = (L = (x = (O = D.currentAndRecommended) == null ? void 0 : O.data) == null ? void 0 : x.recommendation) == null ? void 0 : L.offer) == null ? void 0 : U.key,
      (T = (P = (f = (S = D.currentAndRecommended) == null ? void 0 : S.data) == null ? void 0 : f.recommendation) == null ? void 0 : P.offer) == null ? void 0 : T.action,
      (k = (G = (R = (w = D.currentAndRecommended) == null ? void 0 : w.data) == null ? void 0 : R.recommendation) == null ? void 0 : G.plan) == null ? void 0 : k.key,
      (H = (J = (h = D.currentAndRecommended) == null ? void 0 : h.data) == null ? void 0 : J.recommendation) == null ? void 0 : H.queryStringParameters,
      (X = (F = D.currentAndRecommended) == null ? void 0 : F.data) == null ? void 0 : X.version
    ];
  });
  p.useEffect(() => {
    u && j(!0);
  }, [u]);
  const d = p.useCallback(() => {
    var D;
    q.clear(), (D = e == null ? void 0 : e.onDecline) == null || D.call(e);
  }, [e.onDecline]), r = p.useCallback(({ trigger: D }) => {
    var I;
    e.onCustomAccept ? e.onCustomAccept() : a === "modal" ? (I = e == null ? void 0 : e.onDecline) == null || I.call(e) : (e != null && e.onBeforeAccept && e.onBeforeAccept(), e != null && e.onAccept && e.onAccept(), at({
      key: g,
      action: a,
      queryStringParameters: n,
      additionalParameters: {
        ...D !== void 0 && { trigger: D }
      }
    }));
  }, [e, g, a, n]);
  return p.useEffect(() => {
    var D, I, A, y, O, x;
    if (((D = e.modalProps) == null ? void 0 : D.isOpen) === !0) {
      const L = {
        location: mM[(I = e.data) == null ? void 0 : I.tool] ?? ((A = e.data) == null ? void 0 : A.tool),
        coupon: (y = e.data) == null ? void 0 : y.coupon
      };
      (x = (O = e == null ? void 0 : e.getCustomAction) == null ? void 0 : O.call(e, L)) != null && x.then((U) => q.set(U)) || q.action(L);
    } else
      q.clear();
  }, [(Q = e.modalProps) == null ? void 0 : Q.isOpen, e == null ? void 0 : e.getCustomAction]), p.useEffect(() => {
    var D, I, A, y, O, x, L, U, S, f, P, T, w, R, G;
    if ((D = e.data) != null && D.tool && ((I = e.modalProps) != null && I.isOpen)) {
      const k = ((A = e == null ? void 0 : e.segmentProps) == null ? void 0 : A.type) || (e == null ? void 0 : e.type);
      (o === "currentAndRecommended" || o === "proratedCurrentAndRecommended" || o === "currentAndOptimalRecommended") && c && Nt({
        name: "Upsell Modal Viewed",
        properties: {
          newPlan: c,
          tool: jt[(y = e.data) == null ? void 0 : y.tool] ?? ((O = e.data) == null ? void 0 : O.tool),
          ...k && { type: k },
          ...((x = e == null ? void 0 : e.segmentProps) == null ? void 0 : x.location) && { location: (L = e == null ? void 0 : e.segmentProps) == null ? void 0 : L.location },
          ...((U = e == null ? void 0 : e.segmentProps) == null ? void 0 : U.trigger) && { trigger: (S = e == null ? void 0 : e.segmentProps) == null ? void 0 : S.trigger }
        }
      }), o === "generic" && Nt({
        name: "Upsell Modal Viewed",
        properties: {
          tool: jt[(f = e.data) == null ? void 0 : f.tool] ?? ((P = e.data) == null ? void 0 : P.tool),
          ...k && { type: k },
          ...((T = e == null ? void 0 : e.segmentProps) == null ? void 0 : T.location) && { location: (w = e == null ? void 0 : e.segmentProps) == null ? void 0 : w.location },
          ...((R = e == null ? void 0 : e.segmentProps) == null ? void 0 : R.trigger) && { trigger: (G = e == null ? void 0 : e.segmentProps) == null ? void 0 : G.trigger }
        }
      });
    }
  }, [(b = e.modalProps) == null ? void 0 : b.isOpen, o, c]), M.jsxs(M.Fragment, { children: [M.jsx(St, { ...e, isNewUi: !0, modalProps: {
    ...e.modalProps,
    size: "100",
    isOpen: ((N = e.modalProps) == null ? void 0 : N.isOpen) && l && o === "currentAndRecommended",
    onClose: d
  }, data: t, footerJustifyContent: "space-between", onAccept: r }), M.jsx(st, { ...e, isNewUi: !0, modalProps: {
    ...e.modalProps,
    size: "100",
    isOpen: (($ = e.modalProps) == null ? void 0 : $.isOpen) && l && o === "proratedCurrentAndRecommended",
    onClose: d
  }, data: t, onAccept: r }), M.jsx(st, { ...e, modalProps: {
    ...e.modalProps,
    size: "100",
    isOpen: ((z = e.modalProps) == null ? void 0 : z.isOpen) && l && o === "currentAndOptimalRecommended",
    onClose: d
  }, data: t, onAccept: r, queryStringParameters: n }), M.jsx(uM, { ...e, modalProps: {
    ...e.modalProps,
    isOpen: ((Y = e.modalProps) == null ? void 0 : Y.isOpen) && l && o === "generic",
    onClose: d
  }, ctaTitle: (E = t == null ? void 0 : t.footer) == null ? void 0 : E.acceptButton, offer: { offerKey: g, offerAction: a } })] });
}, mM = {
  blackBoxProducts: "blackbox",
  ce_Xray: "xray",
  ce_XrayKeywords: "xrayApi",
  ce_SearchExpander: "searchExpander"
}, jt = {
  blackBoxProducts: "blackBox",
  ce_Xray: "xray",
  ce_XrayKeywords: "xrayApi",
  ce_SearchExpander: "searchExpander",
  historicalTrends: "cerebro"
};
export {
  GM as C,
  uM as U,
  mM as l,
  jt as s
};
