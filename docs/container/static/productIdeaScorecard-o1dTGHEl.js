import{f as y,g as p,P as b,d as Q,b as ge,m as ye,A as w,aC as I,as as Y,w as T,c as N,r as S,j as m,cj as pe,ck as Se,e as j,C as J,N as z,co as he,M as Z,u as C,ah as X,aJ as fe,aB as be,a8 as ke,bO as Ae,K as Le,B as F,ad as ee,ao as Ce,cs as Te,H as Me,ej as Re}from"./index-tEWTe_cM.js";import{c as we,u as te}from"./getUpsellData-siUtjfVt.js";import{d as xe}from"./use-onclickoutside.browser.esm-BisD5Fdu.js";import{E as se}from"./ExtendedProductSummary-Rm3yeme_.js";import{E as Oe,h as _,t as ne,T as ze,g as Ne,e as je}from"./Learn-ZI4QJ8Ms.js";import{c as $e,b as De,d as Ee,e as Pe,u as E,f as Ie}from"./CustomerEventsComponent-e67uxoGM.js";import{r as oe,P as Fe,p as _e}from"./OptimalData-cuY_CBe9.js";import{b as ve}from"./WidthLimitedTagsValue-Gph_9FLc.js";import{h as v,g as re,d as Be}from"./middleware-6VZ1FcKb.js";import{l as qe}from"./NewRadio-DIL_Ez7J.js";import{l as He}from"./StatusChip-EV3h8ZPz.js";import{P as Ge}from"./ProductCard-Uy2CH03D.js";import{g as Ke,L as Ue}from"./getListingAnalyzerKeywordsSection-CrrIvoLZ.js";import{c as O}from"./zustandGroupSlice-xZuNNNOB.js";import{H as Ve}from"./IDASHUpsellModal-9iMRBwwd.js";import{t as We}from"./SearchGraphModal-8Lh4F5Sv.js";import{a as Qe}from"./AddToMyListDropdown-lgmjWp6o.js";import{b as L}from"./EditProductIdeaName-KItQ9rLb.js";const Ye=async(e,s)=>{const t={page:e.page,pageSize:e.count,searchString:e.search,sort:e.sortDirection==="ASC"?e.sortField:"-"+e.sortField};return y({url:p(`${b}/api/v1/product/my-list`,{marketplace:s,...t}),method:"GET",withCredentials:0})},ae=Q("actionSelectedMyListFill"),ie=Q("actionSelectedMyListChange"),Je=ge("atomSelectedMyList",[],e=>{e(ae,(s,t)=>t),e(ie,(s,t)=>s.map(n=>t.includes(n.id)?{...n,selected:!0}:{...n,selected:!1}))}),Ze=ye(Je,e=>e.filter(s=>s.selected&&!!s.asin).map(s=>s.asin)),le=w((e,s)=>({...we(e,s,"modal",{maximumNumberOfAsins:10,currentlySelectedAsins:[]})})),Xe=e=>e.modal.atom.data.marketplace||I("domain","amazon.com"),R=xe("myList",async e=>{const s=Xe(le.getState()),t=await Ye(e,s.store),n="https://"+Y("AM","store",t.marketplace).domain+"/dp/";return{...t,data:Object.values(t.data).map(o=>({...o,imageSrc:o.imageUrl,href:n+o.asin})),meta:{total:t.resultCount}}},{fulfilledReaction:({result:{data:e}},{dispatch:s})=>{const t=e.map(n=>({id:n.id,asin:n.asin,selected:!1}));s(ae(t))},rejectedReaction:()=>{alert("reject")}}),et=({tool:e})=>{const{t:s}=T(),t=N(R.atom,o=>{var r;return(r=o.content)==null?void 0:r.marketplace},[]),n=I("domain","amazon.com").store;return S.useMemo(()=>[{field:"title",title:"Product",render:o=>m.jsx(se,{market:"AMAZON",product:o,marketplace:t||n,tool:e||"listingAnalyzer",blocks:[{text:o.asin,copyContent:o.asin,beforeCopyContent:m.jsx(pe,{label:s("copyButton.copy",{name:"ASIN"})}),afterCopyContent:m.jsx(Se,{label:s("copyButton.copied",{name:"ASIN"})})}],tooltipOptions:tt}),sortable:!0,defaultSortDirection:"ASC"}],[n,t,s,e])},tt={appendTo:document.body,zIndex:1e7},st=()=>{const e=j(R.actions.pending),s=j(R.actions.clear),t=N(R.atom,({status:a})=>a==="loading"?"waiting":a,[]),{data:n,total:o}=N(R.atom,a=>{var g,u;return{data:((g=a.content)==null?void 0:g.data)||[],total:((u=a.content)==null?void 0:u.resultCount)||0}},[]),[r,i]=S.useState({page:1,count:5,search:"",sortDirection:"ASC",sortField:"id"}),c=S.useCallback(a=>{const g=a.sortDirection!==r.sortDirection||a.sortField!==r.sortField?{...a,page:1}:a;return i(g),e(g)},[e,r]),l=S.useMemo(()=>({value:r}),[r]);return{get:e,clear:s,data:n,total:o,status:t,handleFilter:c,filter:l}},nt=({tool:e})=>{const{t:s}=T(),{get:t,clear:n,data:o,total:r,status:i,handleFilter:c,filter:l}=st(),a=et({tool:e}),g=j(d=>ie(d),[]),u=S.useMemo(()=>({onChange:g,getTitleText:()=>s("addFromMyList.table.getTitleText",{total:r})}),[g,s,r]);return S.useEffect(()=>(t({page:1,count:5,search:"",sortField:"id",sortDirection:"ASC"}),()=>n()),[t,n]),m.jsx(Oe,{name:"my-list",columns:a,data:o,total:r,onFilter:c,status:i,behavior:ot,dimensions:rt,selected:u,filter:l})},ot={searchVisible:!0,itemsPerPage:[5,10,50],noPagination:!0},rt={maxHeight:570},ds=e=>{const{t:s}=T(),{handleAddAsins:t,disabled:n,currentlySelectedAsins:o,buttonText:r,trackEvent:i,maximumNumberOfAsins:c,tool:l}=e,a=N(Ze),[g,u,d]=le(h=>[h.modal.atom.isOpen,h.modal.close,h.modal.open],J),k=j(()=>(i==null||i(),d(e)),[]),x=S.useCallback(()=>{t==null||t(a),u()},[u,t,a]);return m.jsxs(m.Fragment,{children:[m.jsx(z,{buttonType:"tertiary",type:"button",onClick:k,size:"200",disabled:n,children:r||s("addFromMyList.button")}),m.jsx(he.Provider,{value:{dropdowns:{appendTo:"parent"}},children:m.jsx(Z,{isOpen:g,size:"50",onClose:u,title:s("addFromMyList.title"),subtitle:s("addFromMyList.subtitle",{number:(c||0)-((o==null?void 0:o.length)||0)-a.length}),footer:m.jsxs(at,{children:[m.jsx(z,{buttonType:"cancel",size:"200",onClick:u,children:s("addFromMyList.buttons.cancel")}),m.jsx(z,{buttonType:"primary",size:"200",onClick:x,children:s("addFromMyList.buttons.add")})]}),children:m.jsx(nt,{tool:l})})})]})},at=C.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
`,it=X(E,"properties",{sideEffect:()=>{$e.clear(),De.clear(),Ee.clear(),Pe.clear()}}),ms=({reactions:e,eventsSettings:s,props:t,toolId:n})=>{lt({toolId:n,reactions:e,eventsSettings:s}),S.useEffect(()=>{Ie.action()},[]),S.useEffect(()=>{!!t.marketplace&&!!t.seller&&it.set(t)},[t])},lt=({toolId:e,reactions:s,eventsSettings:t})=>{S.useLayoutEffect(()=>{E.getState().toolId==="NOT_SET"&&E.setState({toolId:e,reactions:s,eventsSettings:t})},[])};var P;(function(e){const t={history:`${oe+"/api/v1/brand-analytics"}/history`};e.getHistory=async n=>y({url:p(t.history,{...n},{arrayFormat:"bracket"}),method:"GET",useSessionAccountId:!0})})(P||(P={}));const B=new Date,ct=[ve(v(B,-6)),re(v(B,-1))],[ut,gs]=fe(()=>{const e=w(()=>({data:null,modalData:null,period:ct,reportingRange:"Monthly",switchedOffSeries:{"ASIN 1":!1,"ASIN 2":!1,"ASIN 3":!1}})),s=qe(e),t=He(e,"data",async()=>{const{modalData:c,period:l,reportingRange:a}=e.getState();if((c==null?void 0:c.phraseId)!=null&&(c==null?void 0:c.marketplaceId)!=null){const g=u=>{switch(a){case"Monthly":case"Quarterly":return re(u);default:return u}};return P.getHistory({marketplaceId:c.marketplaceId,phraseIds:[c.phraseId],reportingRange:a,periodFrom:_(l[0],"yyyy-MM-dd"),periodTo:_(g(l[1]),"yyyy-MM-dd")})}}),n=X(e,"reportingRange"),o=t.createFilter("period"),r=be(e,"switchedOffSeries"),i=ke(e,"modalData",{reaction:({type:c,payload:l})=>{c==="OPEN"&&l!=null&&t.action()}});return{useStore:e,useModal:i,useRequest:t,periodController:o,reportingRangeController:n,switchedOffSeriesController:r,Reset:s}}),dt=S.lazy(()=>Ae(()=>import("./Graph-54YaKGpq.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52])).then(e=>({default:e.BrandAnalyticsChartsGraph}))),ys=()=>{const{t:e}=T(),{useModal:s,useStore:t,Reset:n}=ut(),[o]=s(),r=t(i=>i.modalData);return m.jsxs(Z,{isOpen:o,onClose:s.close,title:m.jsxs(gt,{children:[e(`brandAnalytics.${r==null?void 0:r.chartType}.title`,{phrase:(r==null?void 0:r.phrase)??"-"}),m.jsx(yt,{children:e(`brandAnalytics.${r==null?void 0:r.chartType}.subtitle`,{phrase:(r==null?void 0:r.phrase)??"-"})})]}),footer:m.jsx(mt,{children:m.jsx(z,{onClick:s.close,size:"200",children:e("common.close")})}),children:[m.jsx(S.Suspense,{fallback:null,children:m.jsx(dt,{})}),o&&m.jsx(n,{})]})},mt=C.div`
  display: flex;
  justify-content: flex-end;
`,gt=C.div`
  display: flex;
  flex-direction: column;
  gap: ${e=>e.theme.spacing.sp4};
`,yt=C.div`
  ${Le};
`,ps=({product:e,tool:s,marketplaceStore:t,marketplaceDomain:n,imageSize:o,titleLineClamp:r,openTitleLinkInNewTab:i,...c})=>{const l=te({data:{marketplace:n,asin:(e==null?void 0:e.asin)||""}});return m.jsx(Ge,{customSummary:m.jsx(se,{product:e,tool:s,marketplace:t,imageSize:o,titleLineClamp:r,renderBlocks:l,openTitleLinkInNewTab:i}),...c})},pt=async e=>y({url:p(`${b}/listing-analyzer/la-api/analyze-asins`,{}),method:"POST",params:e,withCredentials:0}),Ss=w((e,s)=>({...F(e,s,"request",async t=>{const{onLimitExceeded:n,...o}=t;return await pt(o)},{fulfilledReaction:(t,{onSuccess:n})=>{n==null||n(t)},rejectedReaction:({onLimitExceeded:t},n,o)=>{var r,i,c;if((o==null?void 0:o.message)==="Not enough Uses left")t==null||t();else{const l=(r=ee.getState().translation)==null?void 0:r.t;if(l){let a="";(i=o==null?void 0:o.result)!=null&&i.errorCode?a=l(`listingAnalyzer.errors.${(c=o==null?void 0:o.result)==null?void 0:c.errorCode}`):o!=null&&o.responseStatus?a=l(`listingAnalyzer.errors.common.${o==null?void 0:o.responseStatus}`):a=l("listingAnalyzer.errors.common.unknown"),a&&ne.error(a)}}}})})),St=async e=>y({url:p(`${b}/listing-analyzer/la-api/history/${e.id}`,{}),method:"GET",withCredentials:0}),ht=async e=>{const s=await y({url:p(`${b}/listing-analyzer/la-api/get-listing-score`,e),method:"GET",withCredentials:0});return ft(s)},ft=e=>{if(e.scoreData.data)return{...e,singleSearchAsin:null};{const s=e.scoreData;return{scoreData:{data:{[s.asin]:s},overall:{metricData:s.metricData,overallScore:s.totalScore}},searchId:e.searchId,searchType:e.searchType,singleSearchAsin:s.asin,marketplaceId:e.marketplaceId,sellerId:e.sellerId,isMyAsin:e.isMyAsin,mainAsin:e.mainAsin,mainSku:e.mainSku,tokenId:e.tokenId}}};function bt(e){return!!e.avgSeedSalesData}const kt=async({searchId:e})=>{var t,n;const s=await y({url:p(`${b}/listing-analyzer/la-api/get-sales-section`,{searchId:e}),method:"GET",withCredentials:0});return bt(s)?s:{avgSeedSalesData:null,singleResponses:(t=s==null?void 0:s.seedSalesData)!=null&&t.asin?{[(n=s==null?void 0:s.seedSalesData)==null?void 0:n.asin]:s}:{}}},At=async e=>await y({url:p(`${b}/listing-analyzer/la-api/status`,{}),params:e,method:"GET",withCredentials:0}),f=w((e,s)=>({...F(e,s,"getStatus",async({onFail:t,...n})=>At(n),{fulfilledReaction:async({status:t},n)=>{var r;const o=f.getState();if(t<2){await Ce(200),o.getStatus.action(n);return}if(t===2){const{searchId:i}=n;o.getKeywordsSection.getContent(String(i))||o.getKeywordsSection.call([{key:String(i),payload:{searchId:i}}]),o.getListingScore.getContent(String(i))||o.getListingScore.call([{key:String(i),payload:{searchId:i}}]),o.getSalesSection.getContent(String(i))||o.getSalesSection.call([{key:String(i),payload:{searchId:i}}])}if(t===3){const i=(r=ee.getState().translation)==null?void 0:r.t;i&&ne.error(m.jsxs("div",{children:[m.jsx(ze,{children:i("listingAnalyzer.statusError.title")}),m.jsx(Ne,{children:i("listingAnalyzer.statusError.text")})]})),n.onFail()}}}),...O(e,s,"getHistoryItem",async t=>St(t.payload)),...O(e,s,"getKeywordsSection",async t=>Ke(t.payload)),...O(e,s,"getListingScore",async t=>ht(t.payload)),...O(e,s,"getSalesSection",async t=>kt(t.payload))})),Lt=({searchId:e,onFail:s})=>{S.useEffect(()=>{f.getState().getStatus.action({searchId:e,onFail:s}),f.getState().getHistoryItem.getContent(String(e)||"")||f.getState().getHistoryItem.call([{key:String(e),payload:{id:e}}])},[e]);const t=f(n=>n.getStatus.atom.content);return S.useMemo(()=>({status:(t==null?void 0:t.status)||0,progress:t==null?void 0:t.progress,completed:(t==null?void 0:t.status)===2}),[t==null?void 0:t.progress,t==null?void 0:t.status])},Ct=e=>{const{t:s}=T(),{progress:t}=Lt(e);return t!=null&&t!==100?m.jsxs(ce,{children:[m.jsxs(ue,{children:[s("listingAnalyzer.fetchingData")," ",m.jsxs(de,{children:[t,"%"]})]}),m.jsx(Fe,{progress:[{value:t||0}],total:100})]}):null},ce=C.div``,ue=C.h1`
  ${Te};
`,de=C.div`
  ${Me};
  display: inline;
`,hs=Object.assign(Ct,{Wrapper:ce,ProgressText:ue,Percent:de}),Tt=e=>e.filter(s=>s!=null&&!isNaN(s)).reduce((s,t)=>{const n=s[0]<t?s[0]:t,o=s[1]>t?s[1]:t;return[n,o]},[e[0]||0,e[0]||0]),$=(e,s)=>{const[t,n]=Tt(e),r=(n-t)/s;return[...new Array(s)].map((c,l)=>l+1).map((c,l,a)=>({percentile:c,includeEnd:l===a.length-1,min:t+r*l,max:t+r*(l+1)}))},D=({value:e,percentiles:s})=>s.reduce((t,n)=>n.min<=e&&(n.includeEnd&&n.max>=e||!n.includeEnd&&n.max>e)?n.percentile:t,s[0].percentile||1),me=e=>s=>{var t,n;return Object.entries(((n=(t=s.getListingScore.getContent(String(e)))==null?void 0:t.scoreData)==null?void 0:n.data)||{}).map(([o,r])=>r).filter(o=>o!=null).map(o=>o)},Mt=e=>s=>{var c;const t=me(e)(s),n=((c=s.getKeywordsSection.getContent(String(e)))==null?void 0:c.keywords)||null;if(n==null)return null;const o=Object.entries(n.byId).map(([l,a])=>t.map(({asin:g})=>((a==null?void 0:a.positionRange)||{})[g]||(a==null?void 0:a.organicPosition))).flat().filter(l=>l!=null),r=$(o,4),i=Object.entries(n.byId).map(([l,a])=>[l,a==null?a:{...a,...t.reduce((g,u)=>{var d;return{...g,[u.asin]:t.length>1?(d=a.positionRange)==null?void 0:d[u.asin]:a==null?void 0:a.organicPosition}},{}),...t.reduce((g,u)=>{var d;return{...g,[u.asin+"_percentile"]:D({value:(t.length>1?(d=a.positionRange)==null?void 0:d[u.asin]:a==null?void 0:a.organicPosition)||0,percentiles:r})}},{})}]);return{...n,byId:i.reduce((l,[a,g])=>({...l,[a]:g}),{})}},Rt=e=>s=>{const t=Mt(e)(s);return((t==null?void 0:t.order)||[]).map(n=>t!=null?t.byId[n]:void 0).filter(n=>n).map(n=>n)},wt=e=>s=>{var t;return((t=s.getKeywordsSection.getContent(String(e)))==null?void 0:t.metrics)||[]},fs=e=>{const s=f(me(e)),t=f(Rt(e)),n=f(wt(e));return S.useMemo(()=>({products:s,keywords:t,metrics:n}),[s,t,n])},bs=e=>{const[s,t,n,o,r]=f(i=>{var c,l,a,g,u,d,k;return[(c=i.getHistoryItem.requests[String(e)])==null?void 0:c.atom,(l=i.getKeywordsSection.requests[String(e)])==null?void 0:l.atom,(a=i.getListingScore.requests[String(e)])==null?void 0:a.atom,(g=i.getSalesSection.requests[String(e)])==null?void 0:g.atom,((k=(d=(u=i.getHistoryItem.requests[String(e)])==null?void 0:u.atom)==null?void 0:d.content)==null?void 0:k.searchType)===Ue.Single]},J);return S.useMemo(()=>({historyItem:s,keywordsSection:t,listingScore:n,salesSection:o,isSingleSearch:r}),[s,t,n,o,r])},xt=e=>s=>{var g;const t=s.getSalesSection.getContent(String(e)),n=s.getListingScore.getContent(String(e)),o=s.getKeywordsSection.getContent(String(e)),i=Object.entries((n==null?void 0:n.scoreData.data)||{}).filter(([u,d])=>d!=null).map(([u,d])=>[u,d]).map(([u,d])=>({id:u||"",asin:u||"",title:d==null?void 0:d.title,imageSrc:d==null?void 0:d.imageUrl,listingQualityScore:d==null?void 0:d.totalScore,couponType:d.couponType,couponValue:d.couponValue,isCouponExists:d.isCouponExists})),{top10Keywords:c,top10SearchVolume:l}=Ot(o,(g=i[0])==null?void 0:g.asin),a=zt(t);return i.map(u=>{const d=a[u.asin]||{};return{...u,...c[u.asin],...l[u.asin],...d,asin:u.asin,sellerCountry:d.sellerCountry}})},Ot=(e,s)=>{var k,x;const t=(e==null?void 0:e.individualMetrics)||[],n=(k=t.filter(h=>h.id==="top10IndividualKeywords")[0])==null?void 0:k.value,o=typeof n=="number"?{[s||"UNKNOWN_ASIN"]:n}:n||{},r=Object.entries(o).map(([h,A])=>A),i=$(r,4),c=Object.entries(o).reduce((h,[A,M])=>({...h,[A]:{top10Keywords:M,top10KeywordsPercentile:D({value:M,percentiles:i})}}),{}),l=(x=t.filter(h=>h.id==="top10IndividualSearchVolume")[0])==null?void 0:x.value,a=typeof l=="number"?{[s||"UNKNOWN_ASIN"]:l}:l||{},g=Object.entries(a).map(([h,A])=>A),u=$(g,4),d=Object.entries(a).reduce((h,[A,M])=>({...h,[A]:{top10SearchVolume:M,top10SearchVolumePercentile:D({value:M,percentiles:u})}}),{});return{top10Keywords:c,top10SearchVolume:d}},zt=e=>{const s=e!=null&&e.singleResponses?Object.entries(e.singleResponses).map(([n,o])=>({...o.seedSalesData})).map(({age:n,...o})=>({...o,age:Be(new Date,new Date(n?n*1e3:"")),bestMonth:o.bestMonth,storageFee:o.storageFee,weight:o.weight,width:o.width,height:o.height,length:o.length,bbSeller:o.bbSeller,stock:o.stock&&!isNaN(Number(o.stock))?Number(o.stock):null,stockHasLimit:o.stockHasLimit?!!o.stockHasLimit:!1,salesYearOverYear:o.salesYearOverYear,subcategories:o.subcategories?o.subcategories.map(r=>({...r,subcategoryBsr:(o.subcategoriesBsr||[]).reduce((i,c)=>String(c.nodeId)===String(r.nodeId)?c.bsr:i,void 0)})):[],subcategoriesBsr:o.subcategoriesBsr,categoryTitle:o.categoryTitle!=null?String(o.categoryTitle):null,bestSellersUrl:o.bestSellersUrl!=null?String(o.bestSellersUrl):null,numberOfSellers:o.numberOfSellers,sellerType:o.sellerType})):[],t=$(s.map(n=>n.age),4);return s.reduce((n,o)=>({...n,[o.asin||"UNKNOWN_ASIN"]:{...o,agePercentile:D({value:o.age,percentiles:t})}}),{})},Nt=e=>s=>{var t,n,o,r;return((t=s.getHistoryItem.requests[String(e)])==null?void 0:t.atom.status)!=="loaded"||((n=s.getKeywordsSection.requests[String(e)])==null?void 0:n.atom.status)!=="loaded"||((o=s.getListingScore.requests[String(e)])==null?void 0:o.atom.status)!=="loaded"||((r=s.getSalesSection.requests[String(e)])==null?void 0:r.atom.status)!=="loaded"?"loading":"loaded"},ks=e=>{const s=f(xt(e)),t=f(Nt(e));return S.useMemo(()=>({data:s,status:t}),[s,t])},jt=({productId:e,title:s,imageUrl:t,marketplace:n,mainSku:o})=>{const r=te({data:{asin:e,sku:o||"-",marketplace:I("store",n).domain}});return m.jsx(Re,{product:{title:m.jsx("div",{dangerouslySetInnerHTML:{__html:We(s||"")}}),imageSrc:t||"",href:_e("AM",n,e),sku:o},market:"AMAZON",renderBlocks:r,tooltipOptions:{appendTo:document.body}})},$t=()=>{const{t:e}=T(),{width:s}=Qe();return S.useMemo(()=>[{field:"product",title:e("listingAnalyzer.history.columns.product.title"),static:Dt(s),render:t=>m.jsx(jt,{productId:t.productId,imageUrl:t.imageUrl,mainSku:t.mainSku,marketplace:t.marketplace,title:t.title})},{title:e("listingAnalyzer.history.columns.searchType.title"),field:"searchType",width:140,render:t=>e(`listingAnalyzer.history.columns.searchType.content.${t.historyType!==1?"multiSearch":"singleSearch"}`)},{title:e("listingAnalyzer.history.columns.date.title"),field:"date",sortable:!0,render:t=>je(new Date(t.createdAt*1e3),"completeLong")}],[e,s])},Dt=e=>e>1e3?420:e>700?320:e>500?240:160,Et=async e=>await y({url:p(`${b}/listing-analyzer/la-api/bulk-delete-history`,{searchIds:e.ids},{arrayFormat:"bracket"}),method:"DELETE",withCredentials:0}),Pt=async({searchId:e})=>await y({url:p(`${b}/listing-analyzer/la-api/delete-history`,{searchId:e},{arrayFormat:"bracket"}),method:"DELETE",withCredentials:0}),As=S.memo(e=>{const s=$t();return m.jsx(Ve,{prepareRequestData:_t,prepareData:vt,prepareMeta:Bt,columns:s,requestUrls:It,deleteHistory:Pt,bulkDeleteHistory:Et,hideDate:!0,...e})}),It={getHistory:`${b}/listing-analyzer/la-api/analyze-history`},Ft={id:"productId",product:"title",date:"createdAt"},_t=({sortDirection:e,sortField:s,page:t,count:n,search:o})=>({sort:`${e==="DESC"?"-":""}${Ft[s]||s}`,page:t,per_page:n,search:o}),vt=e=>({data:((e==null?void 0:e.data)||[]).map(s=>{var t;return{...s,ids:s.productId,productIds:JSON.parse(s.asins),historyType:s.searchType,marketplace:Y("AM","id",s.marketplaceId).store,productId:(t=JSON.parse(s.asins))==null?void 0:t[0]}}),meta:{total:(e==null?void 0:e.totalCount)||0}}),Bt=e=>({meta:{per_page:e==null?void 0:e.perPage,total:e==null?void 0:e.totalCount}}),qt=(e,s,t)=>!!(e!=null&&e[s==="WALMART"?"walmart":"amazon"].includes(t)),q=["multiSearch","history","commonWords","deletedWords","competitors","sorting","filtering","pagination","myList","searchVolumeChart","bulkReports","adminSearch","adminLogs","japanSortingByPhrase","japanWordFrequency","seeMonthlySalesColumn","brandAnalytics","cpc","cpcChart"],Ht={data:{amazon:[...q],walmart:[...q],common:["googleTrendChart"]}},Gt=async({project:e,mockData:s=!1})=>{const t=await y({url:p(`${oe}/api/${e==="blackBoxProducts"?"blackbox":e}/v1/restricted-actions`,{}),method:"GET",useSessionAccountId:!0});return s?Ht:t},Kt=w((e,s)=>({...F(e,s,"request",async t=>Gt(t))})),Ut=e=>{var s;return((s=e.request.atom.content)==null?void 0:s.data)||null},Ls=(e,s)=>{const t=Kt(Ut);return S.useMemo(()=>qt(t,e,s),[t,e,s])};var H;(function(e){const t={sparkLine:`${b+"/api/v1/product"}/spark-line`};e.getSparkLine=async n=>y({url:p(t.sparkLine,{...n},{arrayFormat:"bracket"}),method:"GET",useSessionAccountId:!0})})(H||(H={}));var G;(function(e){const s=`${L.link}/ai-decision`,t=`${L.link}/request-ai-decision`;e.startRequest=async n=>y({url:p(t,{}),method:"POST",params:n,useSessionAccountId:!0}),function(n){n[n.IN_QUEUE=0]="IN_QUEUE",n[n.IN_PROGRESS=1]="IN_PROGRESS",n[n.DONE=2]="DONE",n[n.ERROR=3]="ERROR"}(e.IStatus||(e.IStatus={})),e.getStatus=async({requestId:n})=>y({url:p(`${s}/${n}/status`,{}),method:"GET",useSessionAccountId:!0}),e.getResult=async({requestId:n})=>y({url:p(`${s}/${n}`,{}),method:"GET",useSessionAccountId:!0})})(G||(G={}));var K;(function(e){const s=`${L.link}/market-ai-prediction`,t=`${L.link}/request-market-ai-prediction`;e.startRequest=async n=>y({url:p(t,{}),method:"POST",params:n,useSessionAccountId:!0}),function(n){n[n.IN_QUEUE=0]="IN_QUEUE",n[n.IN_PROGRESS=1]="IN_PROGRESS",n[n.DONE=2]="DONE",n[n.ERROR=3]="ERROR"}(e.IStatus||(e.IStatus={})),e.getStatus=async({requestId:n})=>y({url:p(`${s}/${n}/status`,{}),method:"GET",useSessionAccountId:!0}),e.getResult=async({requestId:n})=>y({url:p(`${s}/${n}`,{}),method:"GET",useSessionAccountId:!0})})(K||(K={}));var U;(function(e){const t=`${L.link}/notes`;e.createNote=async n=>y({url:p(t,{}),method:"POST",params:n,useSessionAccountId:!0}),e.updateNote=async({id:n,...o})=>y({url:p(`${t}/${n}`,{}),method:"PUT",params:o,useSessionAccountId:!0}),e.deleteNote=async({id:n})=>y({url:p(`${t}/${n}`,{}),method:"DELETE",useSessionAccountId:!0}),e.getNote=async({ideaId:n})=>y({url:p(`${t}/${n}`,{}),method:"GET",useSessionAccountId:!0})})(U||(U={}));var V;(function(e){e.link=L.link+"/profitability/avg",e.getAverageProfitability=async({id:s})=>y({url:p(`${e.link}/${s}`,{}),method:"GET",useSessionAccountId:!0})})(V||(V={}));var W;(function(e){const t=`${L.link}/scorecard`;e.get=async({id:n})=>y({url:p(`${t}/${n}`,{}),method:"GET",useSessionAccountId:!0})})(W||(W={}));export{P as A,ys as B,ps as E,As as L,H as a,G as b,K as c,U as d,V as e,W as f,ds as g,ut as h,gs as i,ms as j,Ss as k,Lt as l,fs as m,bs as n,hs as o,ks as p,me as q,Rt as r,wt as s,Ls as t,Kt as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["static/Graph-54YaKGpq.js","static/index-tEWTe_cM.js","static/index-7v7JHEmS.js","static/WidthLimitedTagsValue-Gph_9FLc.js","static/Learn-ZI4QJ8Ms.js","static/useAutoPlay-8WOcIzK4.js","static/middleware-6VZ1FcKb.js","static/use-latest.esm-33sMI_t6.js","static/useChartLegend-7ulLO1yV.js","static/server.browser-DFoAq_e7.js","static/ActionTitle-X3AI22EE.js","static/Chart-x9jYX_B3.js","static/highcharts-BYqkL6me.js","static/highcharts-react.min-X0EFkdtl.js","static/mergeRefs-97mQYrgp.js","static/merge-3VaFHwlg.js","static/_initCloneObject-4LlVOojD.js","static/isPlainObject-C3MJmmC-.js","static/LineGraphSkeleton-_OzzpDE4.js","static/index-jbA-UQjt.js","static/GraphTooltip-PkB1yLG1.js","static/index-ECFt0NIj.js","static/index-Odw5cPaJ.js","static/index-kbVOAPQe.js","static/getUpsellData-siUtjfVt.js","static/NewRadio-DIL_Ez7J.js","static/use-onclickoutside.browser.esm-BisD5Fdu.js","static/ExtendedProductSummary-Rm3yeme_.js","static/CustomerEventsComponent-e67uxoGM.js","static/CategoricalChip-xPMVgK7q.js","static/Collapse--SIf9dr3.js","static/ProductChip-Hw6al7Eb.js","static/configuration-lN8dg8r2.js","static/leitenList-Fa6N92eM.js","static/ProductMultiSelect-fq0DxkcP.js","static/TagsMultiSelect-ZI09vsgf.js","static/OptimalData-cuY_CBe9.js","static/StatusChip-EV3h8ZPz.js","static/ProductCard-Uy2CH03D.js","static/getListingAnalyzerKeywordsSection-CrrIvoLZ.js","static/dateRanges-ZXIy3dZA.js","static/TrafficAndConversion-PykU-_2y.js","static/groupBy-7ZtSo7lr.js","static/index-Ca0BkoYE.js","static/AirTable-Gyhy-mr-.js","static/AddToMyListDropdown-lgmjWp6o.js","static/MarketplaceSingleSelect-J9Q4NESj.js","static/ChartExport-1KlP8bAy.js","static/zustandGroupSlice-xZuNNNOB.js","static/IDASHUpsellModal-9iMRBwwd.js","static/SearchGraphModal-8Lh4F5Sv.js","static/redirectToSubscribe-S6QlkQEz.js","static/EditProductIdeaName-KItQ9rLb.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
//# sourceMappingURL=productIdeaScorecard-o1dTGHEl.js.map
