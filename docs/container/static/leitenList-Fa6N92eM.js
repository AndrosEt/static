import{bg as w}from"./Learn-ZI4QJ8Ms.js";import{dQ as x,fP as L,e5 as _,an as h,e$ as E}from"./index-tEWTe_cM.js";function F(a,f){return a&&w(a,f,x)}function I(a,f){return function(e,n){if(e==null)return e;if(!L(e))return a(e,n);for(var c=e.length,y=f?c:-1,l=Object(e);(f?y--:++y<c)&&n(l[y],y,l)!==!1;);return e}}var T=I(F);const V=(a,f,e)=>{const n=_(a.getState(),f,"_empty");if(n==="_empty"||typeof n!="object")throw new Error("[leitenList] The defined path does not match the required structure");const c=Array.isArray(n),y=(e==null?void 0:e.compare)||q,l=e==null?void 0:e.getKey,d=r=>{var A;const t=h(a.getState(),k=>{E(k,f,r)}),u=e!=null&&e.patchEffect?{...t,...e.patchEffect(r)}:t;a.setState(u),(A=e==null?void 0:e.sideEffect)==null||A.call(e)},s=()=>{const r=_(a.getState(),f,"_empty");return r!=="_empty"?r:n},O=r=>{d(c?r:g(r,l))},S=r=>{if(c){const t=Array.isArray(r)?r.filter(u=>s().every(A=>!y(u,A))):s().every(u=>!y(r,u))?[r]:[];d([...s(),...t])}else d({...s(),...g(Array.isArray(r)?r:[r],l)})},j=()=>{const r=h(a.getState(),t=>{E(t,f,n)});a.setState(r)},b=r=>{if(c)d(s().filter(t=>!v(r,[typeof t=="string"?t:l==null?void 0:l(t),t],y)));else{const t={};for(const[u,A]of Object.entries(s()))v(r,[u,A],y)||(t[u]=A);d(t)}};return{set:O,get:s,clear:j,toggle:r=>{(c?!!s().find(u=>y(r,u)):l(r)in s())?b(r):S(r)},update:r=>{if(c)Array.isArray(r)?d(s().map(t=>r.find(A=>y(t,A))||t)):d(s().map(t=>y(t,r)?r:t));else{const t=g(Array.isArray(r)?r:[r],l);d({...s(),...t})}},filter:r=>{d(c?s().filter(r):Object.fromEntries(Object.entries(s()).filter(([t,u])=>r(u))))},remove:b,add:S}},q=(a,f)=>a===f,g=(a,f)=>a.reduce((e,n)=>{const c=(f==null?void 0:f(n))||String(n);return e[c]=n,e},{}),v=(a,[f,e],n)=>Array.isArray(a)?a.some(c=>typeof c=="string"?c===f:n(e,c)):typeof a!="string"?n(e,a):a===f;export{F as a,T as b,q as d,V as l};
//# sourceMappingURL=leitenList-Fa6N92eM.js.map
