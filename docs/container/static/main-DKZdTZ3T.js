import{ac as ns,ae as as,av as is}from"./Learn-iEpSD2rS.js";import{r as Sa}from"./index-3WWdADc-.js";function nh(e,t){ns(2,arguments);var r=as(e),a=is(t);return r.setDate(a),r}function ah(e){var t=Sa.useRef();return Sa.useEffect(function(){t.current=e}),t.current}var ft={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},N=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];Object.prototype.hasOwnProperty.call(ft,e)||(e=ft.log),N[e].apply(N,t)};N.debug=console.debug.bind(console);N.log=console.log.bind(console);N.info=console.info.bind(console);N.warn=console.warn.bind(console);N.error=console.error.bind(console);function xt(){if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,typeof e!="object"&&(typeof self=="object"?e=self:typeof window=="object"?e=window:e={}),e}function $e(e,t){var r=xt(),a;return r.Zone&&typeof r.Zone.__symbol__=="function"&&(a=e[r.Zone.__symbol__(t)]),a||(a=e[t]),a}var os=function(e,t,r){if(r||arguments.length===2)for(var a=0,i=t.length,o;a<i;a++)(o||!(a in t))&&(o||(o=Array.prototype.slice.call(t,0,a)),o[a]=t[a]);return e.concat(o||Array.prototype.slice.call(t))},gn,ai=!1;function us(e){gn=e}function ss(e){ai=e}function x(e){return function(){return Je(e,this,arguments)}}function Je(e,t,r){try{return e.apply(t,r)}catch(a){if(bn(ft.error,a),gn)try{gn(a)}catch(i){bn(ft.error,i)}}}function bn(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];ai&&N.apply(void 0,os([e,"[MONITOR]"],t,!1))}function oe(e,t){return $e(xt(),"setTimeout")(x(e),t)}function De(e){$e(xt(),"clearTimeout")(e)}function er(e,t){return $e(window,"setInterval")(x(e),t)}function In(e){$e(window,"clearInterval")(e)}var he=1e3,_e=60*he,ii=60*_e,cs=24*ii,fs=365*cs,dt=1024,oi=1024*dt;function Qe(e,t,r){var a=r&&r.leading!==void 0?r.leading:!0,i=r&&r.trailing!==void 0?r.trailing:!0,o=!1,u,c;return{throttled:function(){for(var d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];if(o){u=d;return}a?e.apply(void 0,d):u=d,o=!0,c=oe(function(){i&&u&&e.apply(void 0,u),o=!1,u=void 0},t)},cancel:function(){De(c),o=!1,u=void 0}}}function F(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.forEach(function(a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}),e}function Qt(e){return F({},e)}function le(e){return e?(parseInt(e,10)^Math.random()*16>>parseInt(e,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,le)}function Ct(e){return e!==0&&Math.random()*100<=e}function ui(e,t){return+e.toFixed(t)}function X(){}function pt(e,t,r){if(typeof e!="object"||e===null)return JSON.stringify(e);var a=Et(Object.prototype),i=Et(Array.prototype),o=Et(Object.getPrototypeOf(e)),u=Et(e);try{return JSON.stringify(e,t,r)}catch{return"<error: unable to serialize object>"}finally{a(),i(),o(),u()}}function Et(e){var t=e,r=t.toJSON;return r?(delete t.toJSON,function(){t.toJSON=r}):X}function Pe(e,t){return e.indexOf(t)!==-1}function si(e){if(Array.from)return Array.from(e);var t=[];if(e instanceof Set)e.forEach(function(a){return t.push(a)});else for(var r=0;r<e.length;r++)t.push(e[r]);return t}function tr(e,t){for(var r=0;r<e.length;r+=1){var a=e[r];if(t(a,r))return a}}function ds(e,t){for(var r=e.length-1;r>=0;r-=1){var a=e[r];if(t(a,r,e))return a}}function ls(e,t){Array.prototype.forEach.call(e,t)}function wt(e){return kt(e)&&e>=0&&e<=100}function kt(e){return typeof e=="number"}function Nr(e){return Object.keys(e).map(function(t){return e[t]})}function ci(e,t){return Object.keys(e).some(function(r){return e[r]===t})}function Rn(e){return Object.keys(e).map(function(t){return[t,e[t]]})}function Ue(e){return Object.keys(e).length===0}function vs(e,t){for(var r={},a=0,i=Object.keys(e);a<i.length;a++){var o=i[a];r[o]=t(e[o])}return r}function Lr(e,t){return e.slice(0,t.length)===t}function ps(e,t){return e.slice(-t.length)===t}function hs(){return fi(window.location)}function fi(e){if(e.origin)return e.origin;var t=e.host.replace(/(:80|:443)$/,"");return"".concat(e.protocol,"//").concat(t)}function mn(e,t){var r=new RegExp("(?:^|;)\\s*".concat(t,"\\s*=\\s*([^;]+)")),a=r.exec(e);return a?a[1]:void 0}function di(e,t,r){r===void 0&&(r="");var a=e.charCodeAt(t-1),i=a>=55296&&a<=56319,o=i?t+1:t;return e.length<=o?e:"".concat(e.slice(0,o)).concat(r)}function _s(e,t){return e.matches?e.matches(t):e.msMatchesSelector?e.msMatchesSelector(t):!1}function At(e){return e===null?"null":Array.isArray(e)?"array":typeof e}function gs(){if(typeof WeakSet<"u"){var e=new WeakSet;return{hasAlreadyBeenSeen:function(r){var a=e.has(r);return a||e.add(r),a}}}var t=[];return{hasAlreadyBeenSeen:function(r){var a=t.indexOf(r)>=0;return a||t.push(r),a}}}function Ar(e,t,r){if(r===void 0&&(r=gs()),t===void 0)return e;if(typeof t!="object"||t===null)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){var a=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,a)}if(!r.hasAlreadyBeenSeen(t)){if(Array.isArray(t)){for(var i=Array.isArray(e)?e:[],o=0;o<t.length;++o)i[o]=Ar(i[o],t[o],r);return i}var u=At(e)==="object"?e:{};for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(u[c]=Ar(u[c],t[c],r));return u}}function st(e){return Ar(void 0,e)}function lt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r,a=0,i=e;a<i.length;a++){var o=i[a];o!=null&&(r=Ar(r,o))}return r}function bs(e,t){if(window.requestIdleCallback&&window.cancelIdleCallback){var r=window.requestIdleCallback(x(e),t);return function(){return window.cancelIdleCallback(r)}}var a=window.requestAnimationFrame(x(e));return function(){return window.cancelAnimationFrame(a)}}function On(e){var t=At(e);return t==="string"||t==="function"||e instanceof RegExp}function li(e,t,r){return r===void 0&&(r=!1),e.some(function(a){try{if(typeof a=="function")return a(t);if(a instanceof RegExp)return a.test(t);if(typeof a=="string")return r?Lr(t,a):a===t}catch(i){N.error(i)}return!1})}function xn(e){return window.CSS&&window.CSS.escape?window.CSS.escape(e):e.replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(t,r){return r?t==="\0"?"ï¿½":"".concat(t.slice(0,-1),"\\").concat(t.charCodeAt(t.length-1).toString(16)," "):"\\".concat(t)})}var ms=/[^\u0000-\u007F]/;function Ir(e){return ms.test(e)?window.TextEncoder!==void 0?new TextEncoder().encode(e).length:new Blob([e]).size:e.length}function ys(e){try{return e.clone()}catch{return}}var Ea=he;function Mr(e,t,r,a){var i=new Date;i.setTime(i.getTime()+r);var o="expires=".concat(i.toUTCString()),u=a&&a.crossSite?"none":"strict",c=a&&a.domain?";domain=".concat(a.domain):"",d=a&&a.secure?";secure":"";document.cookie="".concat(e,"=").concat(t,";").concat(o,";path=/;samesite=").concat(u).concat(c).concat(d)}function Ie(e){return mn(document.cookie,e)}function kn(e,t){Mr(e,"",0,t)}function Ss(e){if(document.cookie===void 0||document.cookie===null)return!1;try{var t="dd_cookie_test_".concat(le()),r="test";Mr(t,r,_e,e);var a=Ie(t)===r;return kn(t,e),a}catch(i){return N.error(i),!1}}var Jr;function Es(){if(Jr===void 0){for(var e="dd_site_test_".concat(le()),t="test",r=window.location.hostname.split("."),a=r.pop();r.length&&!Ie(e);)a="".concat(r.pop(),".").concat(a),Mr(e,t,he,{domain:a});kn(e,{domain:a}),Jr=a}return Jr}function vi(e,t){return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];try{return e.apply(void 0,r)}catch(i){N.error(t,i)}}}var G;(function(e){e.PAGEHIDE="pagehide",e.SHADOW_DOM_DEBUG="shadow_dom_debug",e.FEATURE_FLAGS="feature_flags",e.RESOURCE_DURATIONS="resource_durations",e.RESOURCE_PAGE_STATES="resource_page_states",e.CLICKMAP="clickmap",e.COLLECT_FLUSH_REASON="collect_flush_reason",e.SANITIZE_INPUTS="sanitize_inputs"})(G||(G={}));var Nn=new Set;function ws(e){e.forEach(function(t){Nn.add(t)})}function q(e){return Nn.has(e)}function Ts(){return Nn}function Ln(e){return{relative:e,timeStamp:Cs(e)}}function Cs(e){var t=Oe()-performance.now();return t>rr()?Math.round(ht(t,e)):Is(e)}function As(){return Math.round(Oe()-ht(rr(),performance.now()))}function Y(e){return kt(e)?ui(e*1e6,0):e}function Oe(){return new Date().getTime()}function $(){return Oe()}function Ee(){return performance.now()}function fe(){return{relative:Ee(),timeStamp:$()}}function pi(){return{relative:0,timeStamp:rr()}}function de(e,t){return t-e}function ht(e,t){return e+t}function hi(e){return e-rr()}function Is(e){return Math.round(ht(rr(),e))}function Rs(e){return e<fs}var Qr;function rr(){return Qr===void 0&&(Qr=performance.timing.navigationStart),Qr}function Rr(e){return nr(e,hs()).href}function Os(e){try{return!!nr(e)}catch{return!1}}function wa(e){return fi(nr(e))}function xs(e){var t=nr(e).pathname;return t[0]==="/"?t:"/".concat(t)}function nr(e,t){if(ks())try{return t!==void 0?new URL(e,t):new URL(e)}catch{throw new Error("Failed to construct URL. ".concat(pt({url:e,base:t})))}if(t===void 0&&!/:/.test(e))throw new Error("Invalid URL: '".concat(e,"'"));var r=document,a=r.createElement("a");if(t!==void 0){r=document.implementation.createHTMLDocument("");var i=r.createElement("base");i.href=t,r.head.appendChild(i),r.body.appendChild(a)}return a.href=e,a}var mt;function ks(){if(mt!==void 0)return mt;try{var e=new URL("http://test/path");return mt=e.href==="http://test/path",mt}catch{mt=!1}return mt}var Ns="datad0g.com",Xt="datadoghq.com",Ls="ap1.datadoghq.com",Ms="ddog-gov.com",Ds={logs:"logs",rum:"rum",sessionReplay:"session-replay"},Us={logs:"logs",rum:"rum",sessionReplay:"replay"};function Wt(e,t,r){var a=Ps(e,t);return{build:function(i,o,u){var c=Bs(e,t,r,i,o,u);return a(c)},urlPrefix:a(""),endpointType:t}}function Ps(e,t){var r="/api/v2/".concat(Us[t]),a=e.proxy,i=e.proxyUrl;if(a){var o=Rr(a);return function(d){return"".concat(o,"?ddforward=").concat(encodeURIComponent("".concat(r,"?").concat(d)))}}var u=Fs(e,t);if(a===void 0&&i){var c=Rr(i);return function(d){return"".concat(c,"?ddforward=").concat(encodeURIComponent("https://".concat(u).concat(r,"?").concat(d)))}}return function(d){return"https://".concat(u).concat(r,"?").concat(d)}}function Fs(e,t){var r=e.site,a=r===void 0?Xt:r,i=e.internalAnalyticsSubdomain;if(i&&a===Xt)return"".concat(i,".").concat(Xt);var o=a.split("."),u=o.pop(),c=a!==Ls?"".concat(Ds[t],"."):"";return"".concat(c,"browser-intake-").concat(o.join("-"),".").concat(u)}function Bs(e,t,r,a,i,o){var u=e.clientToken,c=e.internalAnalyticsSubdomain,d=["sdk_version:".concat("4.38.0"),"api:".concat(a)].concat(r);i&&q(G.COLLECT_FLUSH_REASON)&&d.push("flush_reason:".concat(i)),o&&d.push("retry_count:".concat(o.count),"retry_after:".concat(o.lastFailureStatus));var v=["ddsource=browser","ddtags=".concat(encodeURIComponent(d.join(","))),"dd-api-key=".concat(u),"dd-evp-origin-version=".concat(encodeURIComponent("4.38.0")),"dd-evp-origin=browser","dd-request-id=".concat(le())];return t==="rum"&&v.push("batch_time=".concat($())),c&&v.reverse(),v.join("&")}var zs=200;function Hs(e){var t=e.env,r=e.service,a=e.version,i=e.datacenter,o=[];return t&&o.push(mr("env",t)),r&&o.push(mr("service",r)),a&&o.push(mr("version",a)),i&&o.push(mr("datacenter",i)),o}var Vs=/[^a-z0-9_:./-]/;function mr(e,t){var r=zs-e.length-1;(t.length>r||Vs.test(t))&&N.warn("".concat(e," value doesn't meet tag requirements and will be sanitized"));var a=t.replace(/,/g,"_");return"".concat(e,":").concat(a)}function Zs(e){var t=Hs(e),r=Gs(e,t),a=Nr(r).map(function(o){return o.urlPrefix}),i=Ys(e,a,t);return F({isIntakeUrl:function(o){return a.some(function(u){return o.indexOf(u)===0})},replica:i,site:e.site||Xt},r)}function Gs(e,t){return{logsEndpointBuilder:Wt(e,"logs",t),rumEndpointBuilder:Wt(e,"rum",t),sessionReplayEndpointBuilder:Wt(e,"sessionReplay",t)}}function Ys(e,t,r){if(e.replica){var a=F({},e,{site:Xt,clientToken:e.replica.clientToken}),i={logsEndpointBuilder:Wt(a,"logs",r),rumEndpointBuilder:Wt(a,"rum",r)};return t.push.apply(t,Nr(i).map(function(o){return o.urlPrefix})),F({applicationId:e.replica.applicationId},i)}}var $t={ALLOW:"allow",MASK:"mask",MASK_USER_INPUT:"mask-user-input"};function Ks(e){var t,r,a;if(!e||!e.clientToken){N.error("Client Token is not configured, we will not send any data.");return}var i=(t=e.sessionSampleRate)!==null&&t!==void 0?t:e.sampleRate;if(i!==void 0&&!wt(i)){N.error("Session Sample Rate should be a number between 0 and 100");return}if(e.telemetrySampleRate!==void 0&&!wt(e.telemetrySampleRate)){N.error("Telemetry Sample Rate should be a number between 0 and 100");return}if(e.telemetryConfigurationSampleRate!==void 0&&!wt(e.telemetryConfigurationSampleRate)){N.error("Telemetry Configuration Sample Rate should be a number between 0 and 100");return}return Array.isArray(e.enableExperimentalFeatures)&&ws(e.enableExperimentalFeatures.filter(function(o){return ci(G,o)})),F({beforeSend:e.beforeSend&&vi(e.beforeSend,"beforeSend threw an error:"),cookieOptions:_i(e),sessionSampleRate:i??100,telemetrySampleRate:(r=e.telemetrySampleRate)!==null&&r!==void 0?r:20,telemetryConfigurationSampleRate:(a=e.telemetryConfigurationSampleRate)!==null&&a!==void 0?a:5,service:e.service,silentMultipleInit:!!e.silentMultipleInit,batchBytesLimit:16*dt,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:30*he,batchMessagesLimit:50,messageBytesLimit:256*dt},Zs(e))}function _i(e){var t={};return t.secure=qs(e),t.crossSite=!!e.useCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=Es()),t}function qs(e){return!!e.useSecureSessionCookie||!!e.useCrossSiteSessionCookie}function js(e){var t,r,a=(t=e.proxy)!==null&&t!==void 0?t:e.proxyUrl;return{session_sample_rate:(r=e.sessionSampleRate)!==null&&r!==void 0?r:e.sampleRate,telemetry_sample_rate:e.telemetrySampleRate,telemetry_configuration_sample_rate:e.telemetryConfigurationSampleRate,use_before_send:!!e.beforeSend,use_cross_site_session_cookie:e.useCrossSiteSessionCookie,use_secure_session_cookie:e.useSecureSessionCookie,use_proxy:a!==void 0?!!a:void 0,silent_multiple_init:e.silentMultipleInit,track_session_across_subdomains:e.trackSessionAcrossSubdomains,track_resources:e.trackResources,track_long_task:e.trackLongTasks}}var ar="?";function et(e){var t=[],r=en(e,"stack"),a=String(e);return r&&Lr(r,a)&&(r=r.slice(a.length)),r&&r.split(`
`).forEach(function(i){var o=$s(i)||Qs(i)||tc(i)||ac(i);o&&(!o.func&&o.line&&(o.func=ar),t.push(o))}),{message:en(e,"message"),name:en(e,"name"),stack:t}}var gi="((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\\w+\\.|\\/).*?)",It="(?::(\\d+))",Xs=new RegExp("^\\s*at (.*?) ?\\(".concat(gi).concat(It,"?").concat(It,"?\\)?\\s*$"),"i"),Ws=new RegExp("\\((\\S*)".concat(It).concat(It,"\\)"));function $s(e){var t=Xs.exec(e);if(t){var r=t[2]&&t[2].indexOf("native")===0,a=t[2]&&t[2].indexOf("eval")===0,i=Ws.exec(t[2]);return a&&i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]),{args:r?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||ar,line:t[3]?+t[3]:void 0,url:r?void 0:t[2]}}}var Js=new RegExp("^\\s*at ?".concat(gi).concat(It,"?").concat(It,"??\\s*$"),"i");function Qs(e){var t=Js.exec(e);if(t)return{args:[],column:t[3]?+t[3]:void 0,func:ar,line:t[2]?+t[2]:void 0,url:t[1]}}var ec=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function tc(e){var t=ec.exec(e);if(t)return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||ar,line:+t[3],url:t[2]}}var rc=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,nc=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function ac(e){var t=rc.exec(e);if(t){var r=t[3]&&t[3].indexOf(" > eval")>-1,a=nc.exec(t[3]);return r&&a&&(t[3]=a[1],t[4]=a[2],t[5]=void 0),{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||ar,line:t[4]?+t[4]:void 0,url:t[3]}}}function en(e,t){if(!(typeof e!="object"||!e||!(t in e))){var r=e[t];return typeof r=="string"?r:void 0}}function bi(e,t,r){var a=e[t],i=r(a),o=function(){if(typeof i=="function")return i.apply(this,arguments)};return e[t]=o,{stop:function(){e[t]===o?e[t]=a:i=a}}}function se(e,t,r){var a=r.before,i=r.after;return bi(e,t,function(o){return function(){var u=arguments,c;return a&&Je(a,this,u),typeof o=="function"&&(c=o.apply(this,u)),i&&Je(i,this,u),c}})}function Gt(e,t,r){var a=Object.getOwnPropertyDescriptor(e,t);if(!a||!a.set||!a.configurable)return{stop:X};var i=function(u,c){oe(function(){r(u,c)},0)},o=function(u){a.set.call(this,u),i(this,u)};return Object.defineProperty(e,t,{set:o}),{stop:function(){var u;((u=Object.getOwnPropertyDescriptor(e,t))===null||u===void 0?void 0:u.set)===o?Object.defineProperty(e,t,a):i=X}}}var ic=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function oc(e){var t=uc(e).stop,r=sc(e).stop;return{stop:function(){t(),r()}}}function uc(e){return se(window,"onerror",{before:function(t,r,a,i,o){var u;if(o)u=et(o),e(u,o);else{var c={url:r,column:i,line:a},d,v=t;if({}.toString.call(t)==="[object String]"){var h=ic.exec(v);h&&(d=h[1],v=h[2])}u={name:d,message:typeof v=="string"?v:void 0,stack:[c]},e(u,t)}}})}function sc(e){return se(window,"onunhandledrejection",{before:function(t){var r=t.reason||"Empty reason",a=et(r);e(a,r)}})}var cc=220*dt,fc="$",dc=3;function pe(e,t){var r;t===void 0&&(t=cc);var a=Et(Object.prototype),i=Et(Array.prototype),o=[],u=new WeakMap,c=tn(e,fc,void 0,o,u),d=((r=JSON.stringify(c))===null||r===void 0?void 0:r.length)||0;if(d>t){rn(t,"discarded",e);return}for(;o.length>0&&d<t;){var v=o.shift(),h=0;if(Array.isArray(v.source))for(var _=0;_<v.source.length;_++){var g=tn(v.source[_],v.path,_,o,u);if(g!==void 0?d+=JSON.stringify(g).length:d+=4,d+=h,h=1,d>t){rn(t,"truncated",e);break}v.target[_]=g}else for(var _ in v.source)if(Object.prototype.hasOwnProperty.call(v.source,_)){var g=tn(v.source[_],v.path,_,o,u);if(g!==void 0&&(d+=JSON.stringify(g).length+h+_.length+dc,h=1),d>t){rn(t,"truncated",e);break}v.target[_]=g}}return a(),i(),c}function tn(e,t,r,a,i){var o=pc(e);if(!o||typeof o!="object")return lc(o);var u=vc(o);if(u!=="[Object]"&&u!=="[Array]")return u;var c=e;if(i.has(c))return"[Reference seen at ".concat(i.get(c),"]");var d=r!==void 0?"".concat(t,".").concat(r):t,v=Array.isArray(o)?[]:{};return i.set(c,d),a.push({source:o,target:v,path:d}),v}function lc(e){return typeof e=="bigint"?"[BigInt] ".concat(e.toString()):typeof e=="function"?"[Function] ".concat(e.name||"unknown"):typeof e=="symbol"?"[Symbol] ".concat(e.description||e.toString()):e}function vc(e){try{if(e instanceof Event)return{isTrusted:e.isTrusted};var t=Object.prototype.toString.call(e),r=t.match(/\[object (.*)\]/);if(r&&r[1])return"[".concat(r[1],"]")}catch{}return"[Unserializable]"}function pc(e){var t=e;if(t&&typeof t.toJSON=="function")try{return t.toJSON()}catch{}return e}function rn(e,t,r){N.warn("The data provided has been ".concat(t," as it is over the limit of ").concat(e," characters:"),r)}var hc="Provided",Nt={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};function mi(e){var t=e.stackTrace,r=e.originalError,a=e.handlingStack,i=e.startClocks,o=e.nonErrorPrefix,u=e.source,c=e.handling;if(!t||t.message===void 0&&!(r instanceof Error)){var d=q(G.SANITIZE_INPUTS)?pe(r):r;return{startClocks:i,source:u,handling:c,originalError:d,message:"".concat(o," ").concat(pt(d)),stack:"No stack, consider using an instance of Error",handlingStack:a,type:t&&t.name}}return{startClocks:i,source:u,handling:c,originalError:r,message:t.message||"Empty message",stack:Lt(t),handlingStack:a,type:t.name,causes:_c(r,u)}}function Lt(e){var t=yi(e);return e.stack.forEach(function(r){var a=r.func==="?"?"<anonymous>":r.func,i=r.args&&r.args.length>0?"(".concat(r.args.join(", "),")"):"",o=r.line?":".concat(r.line):"",u=r.line&&r.column?":".concat(r.column):"";t+=`
  at `.concat(a).concat(i," @ ").concat(r.url).concat(o).concat(u)}),t}function yi(e){return"".concat(e.name||"Error",": ").concat(e.message)}function Si(){var e=2,t=new Error,r;if(!t.stack)try{throw t}catch{}return Je(function(){var a=et(t);a.stack=a.stack.slice(e),r=Lt(a)}),r}function _c(e,t){for(var r=e,a=[];(r==null?void 0:r.cause)instanceof Error&&a.length<10;){var i=et(r.cause);a.push({message:r.cause.message,source:t,type:i==null?void 0:i.name,stack:i&&Lt(i)}),r=r.cause}return a.length?a:void 0}function gc(e){return oc(function(t,r){e.notify(mi({stackTrace:t,originalError:r,startClocks:fe(),nonErrorPrefix:"Uncaught",source:Nt.SOURCE,handling:"unhandled"}))})}function bc(e){var t=F({version:"4.38.0",onReady:function(r){r()}},e);return Object.defineProperty(t,"_setDebug",{get:function(){return ss},enumerable:!1}),t}function mc(e,t,r){var a=e[t];e[t]=r,a&&a.q&&a.q.forEach(function(i){return vi(i,"onReady callback threw an error:")()})}var J=function(){function e(t){this.onFirstSubscribe=t,this.observers=[]}return e.prototype.subscribe=function(t){var r=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe()||void 0),this.observers.push(t),{unsubscribe:function(){r.observers=r.observers.filter(function(a){return t!==a}),!r.observers.length&&r.onLastUnsubscribe&&r.onLastUnsubscribe()}}},e.prototype.notify=function(t){this.observers.forEach(function(r){return r(t)})},e}();function Ei(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=new J(function(){var a=e.map(function(i){return i.subscribe(function(o){return r.notify(o)})});return function(){return a.forEach(function(i){return i.unsubscribe()})}});return r}function ie(e,t,r,a){return ue(e,[t],r,a)}function ue(e,t,r,a){var i=a===void 0?{}:a,o=i.once,u=i.capture,c=i.passive,d=x(o?function(g){_(),r(g)}:r),v=c?{capture:u,passive:c}:u,h=$e(e,"addEventListener");t.forEach(function(g){return h.call(e,g,d,v)});function _(){var g=$e(e,"removeEventListener");t.forEach(function(T){return g.call(e,T,d,v)})}return{stop:_}}var Rt={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function yc(e){var t=[];Pe(e,Rt.cspViolation)&&t.push(Ec());var r=e.filter(function(a){return a!==Rt.cspViolation});return r.length&&t.push(Sc(r)),Ei.apply(void 0,t)}function Sc(e){var t=new J(function(){if(window.ReportingObserver){var r=x(function(i){return i.forEach(function(o){t.notify(wc(o))})}),a=new window.ReportingObserver(r,{types:e,buffered:!0});return a.observe(),function(){a.disconnect()}}});return t}function Ec(){var e=new J(function(){var t=x(function(a){e.notify(Tc(a))}),r=ie(document,"securitypolicyviolation",t).stop;return r});return e}function wc(e){var t=e.type,r=e.body;return{type:t,subtype:r.id,message:"".concat(t,": ").concat(r.message),stack:wi(r.id,r.message,r.sourceFile,r.lineNumber,r.columnNumber)}}function Tc(e){var t=Rt.cspViolation,r="'".concat(e.blockedURI,"' blocked by '").concat(e.effectiveDirective,"' directive");return{type:Rt.cspViolation,subtype:e.effectiveDirective,message:"".concat(t,": ").concat(r),stack:wi(e.effectiveDirective,e.originalPolicy?"".concat(r,' of the policy "').concat(di(e.originalPolicy,100,"..."),'"'):"no policy",e.sourceFile,e.lineNumber,e.columnNumber)}}function wi(e,t,r,a,i){return r&&Lt({name:e,message:t,stack:[{func:"?",url:r,line:a,column:i}]})}function Or(e,t){var r=window.__ddBrowserSdkExtensionCallback;r&&r({type:e,payload:t})}var Mn={log:"log",configuration:"configuration"},Cc=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","http://localhost","<anonymous>"],Ac=[Ms],Ae={maxEventsPerPage:0,sentEventCount:0,telemetryEnabled:!1,telemetryConfigurationEnabled:!1},yn;function Ic(e,t){var r,a=new J;Ae.telemetryEnabled=!Pe(Ac,t.site)&&Ct(t.telemetrySampleRate),Ae.telemetryConfigurationEnabled=Ae.telemetryEnabled&&Ct(t.telemetryConfigurationSampleRate),yn=function(o){if(Ae.telemetryEnabled){var u=i(e,o);a.notify(u),Or("telemetry",u)}},us(xr),F(Ae,{maxEventsPerPage:t.maxTelemetryEventsPerPage,sentEventCount:0});function i(o,u){return lt({type:"telemetry",date:$(),service:o,version:"4.38.0",source:"browser",_dd:{format_version:2},telemetry:u,experimental_features:si(Ts())},r!==void 0?r():{})}return{setContextProvider:function(o){r=o},observable:a,enabled:Ae.telemetryEnabled}}function Rc(e){return e.site===Ns}function ir(e,t){bn(ft.debug,e,t),Dn(F({type:Mn.log,message:e,status:"debug"},t))}function xr(e){Dn(F({type:Mn.log,status:"error"},xc(e)))}function Oc(e){Ae.telemetryConfigurationEnabled&&Dn({type:Mn.configuration,configuration:e})}function Dn(e){yn&&Ae.sentEventCount<Ae.maxEventsPerPage&&(Ae.sentEventCount+=1,yn(e))}function xc(e){if(e instanceof Error){var t=et(e);return{error:{kind:t.name,stack:Lt(kc(t))},message:t.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught ".concat(pt(e))}}function kc(e){return e.stack=e.stack.filter(function(t){return!t.url||Cc.some(function(r){return Lr(t.url,r)})}),e}var yr=1/0,Nc=_e,or=function(){function e(t){var r=this;this.expireDelay=t,this.entries=[],this.clearOldContextsInterval=er(function(){return r.clearOldContexts()},Nc)}return e.prototype.add=function(t,r){var a=this,i={context:t,startTime:r,endTime:yr,remove:function(){var o=a.entries.indexOf(i);o>=0&&a.entries.splice(o,1)},close:function(o){i.endTime=o}};return this.entries.unshift(i),i},e.prototype.find=function(t){t===void 0&&(t=yr);for(var r=0,a=this.entries;r<a.length;r++){var i=a[r];if(i.startTime<=t){if(t<=i.endTime)return i.context;break}}},e.prototype.closeActive=function(t){var r=this.entries[0];r&&r.endTime===yr&&r.close(t)},e.prototype.findAll=function(t){return t===void 0&&(t=yr),this.entries.filter(function(r){return r.startTime<=t&&t<=r.endTime}).map(function(r){return r.context})},e.prototype.reset=function(){this.entries=[]},e.prototype.stop=function(){In(this.clearOldContextsInterval)},e.prototype.clearOldContexts=function(){for(var t=Ee()-this.expireDelay;this.entries.length>0&&this.entries[this.entries.length-1].endTime<t;)this.entries.pop()},e}();function Lc(){return!!document.documentMode}function Mc(){return!!window.chrome||/HeadlessChrome/.test(window.navigator.userAgent)}var ur=4*ii,Ti=15*_e,Ci=/^([a-z]+)=([a-z0-9-]+)$/,Un="&",Dr="_dd_s",Dc=10,Uc=100,Ai=[],Cr;function Jt(e,t){var r;if(t===void 0&&(t=0),Cr||(Cr=e),e!==Cr){Ai.push(e);return}if(t>=Uc){Ta();return}var a,i=jt();if(nn()){if(i.lock){Sr(e,t);return}if(a=le(),i.lock=a,Sn(i,e.options),i=jt(),i.lock!==a){Sr(e,t);return}}var o=e.process(i);if(nn()&&(i=jt(),i.lock!==a)){Sr(e,t);return}if(o&&Ii(o,e.options),nn()&&!(o&&Oi(o))){if(i=jt(),i.lock!==a){Sr(e,t);return}delete i.lock,Sn(i,e.options),o=i}(r=e.after)===null||r===void 0||r.call(e,o||i),Ta()}function nn(){return Mc()}function Sr(e,t){oe(function(){Jt(e,t+1)},Dc)}function Ta(){Cr=void 0;var e=Ai.shift();e&&Jt(e)}function Ii(e,t){if(Oi(e)){Ri(t);return}e.expire=String(Oe()+Ti),Sn(e,t)}function Sn(e,t){Mr(Dr,Pc(e),Ti,t)}function Pc(e){return Rn(e).map(function(t){var r=t[0],a=t[1];return"".concat(r,"=").concat(a)}).join(Un)}function jt(){var e=Ie(Dr),t={};return Fc(e)&&e.split(Un).forEach(function(r){var a=Ci.exec(r);if(a!==null){var i=a[1],o=a[2];t[i]=o}}),t}function Ri(e){kn(Dr,e)}function Fc(e){return e!==void 0&&(e.indexOf(Un)!==-1||Ci.test(e))}function Oi(e){return Ue(e)}var Bc="_dd",zc="_dd_r",Hc="_dd_l",Vc="rum",Zc="logs";function Gc(e){var t=Ie(Dr),r=Ie(Bc),a=Ie(zc),i=Ie(Hc);if(!t){var o={};r&&(o.id=r),i&&/^[01]$/.test(i)&&(o[Zc]=i),a&&/^[012]$/.test(a)&&(o[Vc]=a),Ii(o,e)}}function Yc(e,t,r){var a=new J,i=new J,o=er(v,Ea),u=L();function c(){var w;Jt({options:e,process:function(k){var Z=h(k);return w=_(Z),Z},after:function(k){w&&!g()&&A(k),u=k}})}function d(){Jt({options:e,process:function(w){return g()?h(w):void 0}})}function v(){Jt({options:e,process:function(w){return O(w)?void 0:{}},after:h})}function h(w){return O(w)||(w={}),g()&&(T(w)?y():u=w),w}function _(w){var k=r(w[t]),Z=k.trackingType,B=k.isTracked;return w[t]=Z,B&&!w.id&&(w.id=le(),w.created=String(Oe())),B}function g(){return u[t]!==void 0}function T(w){return u.id!==w.id||u[t]!==w[t]}function y(){u={},i.notify()}function A(w){u=w,a.notify()}function L(){var w=jt();return O(w)?w:{}}function O(w){return(w.created===void 0||Oe()-Number(w.created)<ur)&&(w.expire===void 0||Oe()<Number(w.expire))}return{expandOrRenewSession:Qe(c,Ea).throttled,expandSession:d,getSession:function(){return u},renewObservable:a,expireObservable:i,expire:function(){Ri(e),h({})},stop:function(){In(o)}}}var Kc=_e,qc=ur;function jc(e,t,r){Gc(e);var a=Yc(e,t,r),i=new or(qc);a.renewObservable.subscribe(function(){i.add(o(),Ee())}),a.expireObservable.subscribe(function(){i.closeActive(Ee())}),a.expandOrRenewSession(),i.add(o(),pi().relative),Xc(function(){return a.expandOrRenewSession()}),Wc(function(){return a.expandSession()});function o(){return{id:a.getSession().id,trackingType:a.getSession()[t]}}return{findActiveSession:function(u){return i.find(u)},renewObservable:a.renewObservable,expireObservable:a.expireObservable,expire:a.expire}}function Xc(e){ue(window,["click","touchstart","keydown","scroll"],e,{capture:!0,passive:!0}).stop}function Wc(e){var t=function(){document.visibilityState==="visible"&&e()};ie(document,"visibilitychange",t).stop,er(t,Kc)}var $c=80*dt,Jc=32,xi=3*oi,Qc=_e,ki=he;function Ni(e,t,r,a,i){t.transportStatus===0&&t.queuedPayloads.size()===0&&t.bandwidthMonitor.canHandle(e)?Mi(e,t,r,{onSuccess:function(){return Di(0,t,r,a,i)},onFailure:function(){t.queuedPayloads.enqueue(e),Li(t,r,a,i)}}):t.queuedPayloads.enqueue(e)}function Li(e,t,r,a){e.transportStatus===2&&oe(function(){var i=e.queuedPayloads.first();Mi(i,e,t,{onSuccess:function(){e.queuedPayloads.dequeue(),e.currentBackoffTime=ki,Di(1,e,t,r,a)},onFailure:function(){e.currentBackoffTime=Math.min(Qc,e.currentBackoffTime*2),Li(e,t,r,a)}})},e.currentBackoffTime)}function Mi(e,t,r,a){var i=a.onSuccess,o=a.onFailure;t.bandwidthMonitor.add(e),r(e,function(u){t.bandwidthMonitor.remove(e),ef(u)?(t.transportStatus=t.bandwidthMonitor.ongoingRequestCount>0?1:2,e.retry={count:e.retry?e.retry.count+1:1,lastFailureStatus:u.status},o()):(t.transportStatus=0,i())})}function Di(e,t,r,a,i){e===0&&t.queuedPayloads.isFull()&&!t.queueFullReported&&(i({message:"Reached max ".concat(a," events size queued for upload: ").concat(xi/oi,"MiB"),source:Nt.AGENT,startClocks:fe()}),t.queueFullReported=!0);var o=t.queuedPayloads;for(t.queuedPayloads=Ui();o.size()>0;)Ni(o.dequeue(),t,r,a,i)}function ef(e){return e.type!=="opaque"&&(e.status===0&&!navigator.onLine||e.status===408||e.status===429||e.status>=500)}function tf(){return{transportStatus:0,currentBackoffTime:ki,bandwidthMonitor:rf(),queuedPayloads:Ui(),queueFullReported:!1}}function Ui(){var e=[];return{bytesCount:0,enqueue:function(t){this.isFull()||(e.push(t),this.bytesCount+=t.bytesCount)},first:function(){return e[0]},dequeue:function(){var t=e.shift();return t&&(this.bytesCount-=t.bytesCount),t},size:function(){return e.length},isFull:function(){return this.bytesCount>=xi}}}function rf(){return{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(e){return this.ongoingRequestCount===0||this.ongoingByteCount+e.bytesCount<=$c&&this.ongoingRequestCount<Jc},add:function(e){this.ongoingRequestCount+=1,this.ongoingByteCount+=e.bytesCount},remove:function(e){this.ongoingRequestCount-=1,this.ongoingByteCount-=e.bytesCount}}}function Pi(e,t,r){var a=tf(),i=function(o,u){return of(e,t,o,u)};return{send:function(o){Ni(o,a,i,e.endpointType,r)},sendOnExit:function(o){nf(e,t,o)}}}function nf(e,t,r){var a=r.data,i=r.bytesCount,o=r.flushReason,u=!!navigator.sendBeacon&&i<t;if(u)try{var c=e.build("beacon",o),d=navigator.sendBeacon(c,a);if(d)return}catch(h){af(h)}var v=e.build("xhr",o);En(v,a)}var Ca=!1;function af(e){Ca||(Ca=!0,xr(e))}function of(e,t,r,a){var i=r.data,o=r.bytesCount,u=r.flushReason,c=r.retry,d=uf()&&o<t;if(d){var v=e.build("fetch",u,c);fetch(v,{method:"POST",body:i,keepalive:!0,mode:"cors"}).then(x(function(_){return a==null?void 0:a({status:_.status,type:_.type})}),x(function(){var _=e.build("xhr",u,c);En(_,i,a)}))}else{var h=e.build("xhr",u,c);En(h,i,a)}}function uf(){try{return window.Request&&"keepalive"in new Request("http://a")}catch{return!1}}function En(e,t,r){var a=new XMLHttpRequest,i=x(function(){a.removeEventListener("loadend",i),r==null||r({status:a.status})});a.open("POST",e,!0),a.addEventListener("loadend",i),a.send(t)}var sf=function(){function e(t,r,a,i,o,u){var c=this;this.request=t,this.batchMessagesLimit=r,this.batchBytesLimit=a,this.messageBytesLimit=i,this.flushTimeout=o,this.pageExitObservable=u,this.flushObservable=new J,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,u.subscribe(function(d){return c.flush(d.reason,c.request.sendOnExit)}),this.flushPeriodically()}return e.prototype.add=function(t){this.addOrUpdate(t)},e.prototype.upsert=function(t,r){this.addOrUpdate(t,r)},e.prototype.flush=function(t,r){if(r===void 0&&(r=this.request.send),this.bufferMessagesCount!==0){var a=this.pushOnlyBuffer.concat(Nr(this.upsertBuffer)),i=this.bufferBytesCount;this.flushObservable.notify({bufferBytesCount:this.bufferBytesCount,bufferMessagesCount:this.bufferMessagesCount}),this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,r({data:a.join(`
`),bytesCount:i,flushReason:t})}},e.prototype.addOrUpdate=function(t,r){var a=this.process(t),i=a.processedMessage,o=a.messageBytesCount;if(o>=this.messageBytesLimit){N.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(this.messageBytesLimit,"KB."));return}this.hasMessageFor(r)&&this.remove(r),this.willReachedBytesLimitWith(o)&&this.flush("batch_bytes_limit"),this.push(i,o,r),this.isFull()&&this.flush("batch_bytes_limit")},e.prototype.process=function(t){var r=pt(t),a=Ir(r);return{processedMessage:r,messageBytesCount:a}},e.prototype.push=function(t,r,a){this.bufferMessagesCount>0&&(this.bufferBytesCount+=1),a!==void 0?this.upsertBuffer[a]=t:this.pushOnlyBuffer.push(t),this.bufferBytesCount+=r,this.bufferMessagesCount+=1},e.prototype.remove=function(t){var r=this.upsertBuffer[t];delete this.upsertBuffer[t];var a=Ir(r);this.bufferBytesCount-=a,this.bufferMessagesCount-=1,this.bufferMessagesCount>0&&(this.bufferBytesCount-=1)},e.prototype.hasMessageFor=function(t){return t!==void 0&&this.upsertBuffer[t]!==void 0},e.prototype.willReachedBytesLimitWith=function(t){return this.bufferBytesCount+t+1>=this.batchBytesLimit},e.prototype.isFull=function(){return this.bufferMessagesCount===this.batchMessagesLimit||this.bufferBytesCount>=this.batchBytesLimit},e.prototype.flushPeriodically=function(){var t=this;oe(function(){t.flush("batch_duration_limit"),t.flushPeriodically()},this.flushTimeout)},e}();function Pn(){var e=cf();if(e)return{getAllowedWebViewHosts:function(){return JSON.parse(e.getAllowedWebViewHosts())},send:function(t,r){e.send(JSON.stringify({eventType:t,event:r}))}}}function Ot(e){var t;e===void 0&&(e=(t=xt().location)===null||t===void 0?void 0:t.hostname);var r=Pn();return!!r&&r.getAllowedWebViewHosts().some(function(a){return e===a||ps(e,".".concat(a))})}function cf(){return xt().DatadogEventBridge}function Aa(e,t,r){var a=0,i=!1;return{isLimitReached:function(){if(a===0&&oe(function(){a=0},_e),a+=1,a<=t||i)return i=!1,!1;if(a===t+1){i=!0;try{r({message:"Reached max number of ".concat(e,"s by minute: ").concat(t),source:Nt.AGENT,startClocks:fe()})}finally{i=!1}}return!0}}}function Fn(e,t){if(document.readyState===e||document.readyState==="complete")t();else{var r=e==="complete"?"load":"DOMContentLoaded";ie(window,r,t,{once:!0})}}var an,Bn=new WeakMap;function ff(){return an||(an=df()),an}function df(){var e=new J(function(){var t=se(XMLHttpRequest.prototype,"open",{before:lf}).stop,r=se(XMLHttpRequest.prototype,"send",{before:function(){vf.call(this,e)}}).stop,a=se(XMLHttpRequest.prototype,"abort",{before:pf}).stop;return function(){t(),r(),a()}});return e}function lf(e,t){Bn.set(this,{state:"open",method:e,url:Rr(String(t))})}function vf(e){var t=this,r=Bn.get(this);if(r){var a=r;a.state="start",a.startTime=Ee(),a.startClocks=fe(),a.isAborted=!1,a.xhr=this;var i=!1,o=se(this,"onreadystatechange",{before:function(){this.readyState===XMLHttpRequest.DONE&&u()}}).stop,u=x(function(){if(t.removeEventListener("loadend",u),o(),!i){i=!0;var c=r;c.state="complete",c.duration=de(a.startClocks.timeStamp,$()),c.status=t.status,e.notify(Qt(c))}});this.addEventListener("loadend",u),e.notify(a)}}function pf(){var e=Bn.get(this);e&&(e.isAborted=!0)}var on;function hf(){return on||(on=_f()),on}function _f(){var e=new J(function(){if(window.fetch){var t=bi(window,"fetch",function(r){return function(a,i){var o,u=Je(gf,null,[e,a,i]);return u?(o=r.call(this,u.input,u.init),Je(bf,null,[e,o,u])):o=r.call(this,a,i),o}}).stop;return t}});return e}function gf(e,t,r){var a=r&&r.method||t instanceof Request&&t.method||"GET",i=t instanceof Request?t.url:Rr(String(t)),o=fe(),u={state:"start",init:r,input:t,method:a,startClocks:o,url:i};return e.notify(u),u}function bf(e,t,r){var a=function(i){var o=r;o.state="resolve","stack"in i||i instanceof Error?(o.status=0,o.isAborted=i instanceof DOMException&&i.code===DOMException.ABORT_ERR,o.error=i):"status"in i&&(o.response=i,o.responseType=i.type,o.status=i.status,o.isAborted=!1),e.notify(o)};t.then(x(a),x(a))}var ut={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function mf(){var e=new J(function(){var t=q(G.PAGEHIDE),r=ue(window,["visibilitychange","freeze","pagehide"],function(i){i.type==="pagehide"&&t?e.notify({reason:ut.PAGEHIDE}):i.type==="visibilitychange"&&document.visibilityState==="hidden"?e.notify({reason:ut.HIDDEN}):i.type==="freeze"&&e.notify({reason:ut.FROZEN})},{capture:!0}).stop,a=X;return t||(a=ie(window,"beforeunload",function(){e.notify({reason:ut.UNLOADING})}).stop),function(){r(),a()}});return e}function yf(e){return Pe(Nr(ut),e)}var un={};function Sf(e){var t=e.map(function(r){return un[r]||(un[r]=Ef(r)),un[r]});return Ei.apply(void 0,t)}function Ef(e){var t=new J(function(){var r=console[e];return console[e]=function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];r.apply(console,a);var o=Si();Je(function(){t.notify(wf(a,e,o))})},function(){console[e]=r}});return t}function wf(e,t,r){var a=e.map(function(u){return Tf(u)}).join(" "),i;if(t===ft.error){var o=tr(e,function(u){return u instanceof Error});i=o?Lt(et(o)):void 0,a="console error: ".concat(a)}return{api:t,message:a,stack:i,handlingStack:r}}function Tf(e){return typeof e=="string"?q(G.SANITIZE_INPUTS)?pe(e):e:e instanceof Error?yi(et(e)):pt(q(G.SANITIZE_INPUTS)?pe(e):e,void 0,2)}var Cf=500,Ia=function(){function e(){this.buffer=[]}return e.prototype.add=function(t){var r=this.buffer.push(t);r>Cf&&this.buffer.splice(0,1)},e.prototype.drain=function(){this.buffer.forEach(function(t){return t()}),this.buffer.length=0},e}(),Ra=3*dt;function Fi(e,t){return e>Ra?(N.warn("The ".concat(t," data is over ").concat(Ra/dt,"KiB. On low connectivity, the SDK has the potential to exhaust the user's upload bandwidth.")),!0):!1}var Af=200;function Oa(e,t){t===void 0&&(t=Ir);var r={},a,i=!1,o=Qe(function(u){a=t(pt(u)),i||(i=Fi(a,e))},Af).throttled;return{getBytesCount:function(){return a},get:function(){return r},add:function(u,c){r[u]=c,o(r)},remove:function(u){delete r[u],o(r)},set:function(u){r=u,o(r)},getContext:function(){return st(r)},setContext:function(u){r=q(G.SANITIZE_INPUTS)?pe(u):st(u),o(r)},setContextProperty:function(u,c){r[u]=q(G.SANITIZE_INPUTS)?pe(c):st(c),o(r)},removeContextProperty:function(u){delete r[u],o(r)},clearContext:function(){r={},a=0}}}function If(e,t,r){var a=st(e),i=r(a);return t.forEach(function(o){var u=xa(e,o),c=xa(a,o),d=At(u),v=At(c);v===d?ka(e,o,q(G.SANITIZE_INPUTS)?pe(c):c):d==="object"&&(v==="undefined"||v==="null")&&ka(e,o,{})}),i}function xa(e,t){for(var r=e,a=0,i=t.split(".");a<i.length;a++){var o=i[a];if(!Bi(r,o))return;r=r[o]}return r}function ka(e,t,r){for(var a=e,i=t.split("."),o=0;o<i.length;o+=1){var u=i[o];if(!Bi(a,u))return;o!==i.length-1?a=a[u]:a[u]=r}}function Bi(e,t){return typeof e=="object"&&e!==null&&Object.prototype.hasOwnProperty.call(e,t)}function Rf(e,t,r){var a=e.getReader(),i=[],o=0;u();function u(){a.read().then(x(function(d){if(d.done){c();return}r.collectStreamBody&&i.push(d.value),o+=d.value.length,o>r.bytesLimit?c():u()}),x(function(d){return t(d)}))}function c(){a.cancel().catch(X);var d,v;if(r.collectStreamBody){var h;if(i.length===1)h=i[0];else{h=new Uint8Array(o);var _=0;i.forEach(function(g){h.set(g,_),_+=g.length})}d=h.slice(0,r.bytesLimit),v=h.length>r.bytesLimit}t(void 0,d,v)}}var Of="datadog-synthetics-public-id",xf="datadog-synthetics-result-id",kf="datadog-synthetics-injects-rum";function zi(){return!!(window._DATADOG_SYNTHETICS_INJECTS_RUM||Ie(kf))}function Nf(){var e=window._DATADOG_SYNTHETICS_PUBLIC_ID||Ie(Of);return typeof e=="string"?e:void 0}function Lf(){var e=window._DATADOG_SYNTHETICS_RESULT_ID||Ie(xf);return typeof e=="string"?e:void 0}function Na(e){var t=F({},e),r=["id","name","email"];return r.forEach(function(a){a in t&&(t[a]=String(t[a]))}),t}function Mf(e){var t=At(e)==="object";return t||N.error("Unsupported user:",e),t}function Df(e){var t=e;return At(t)==="object"&&On(t.match)&&Array.isArray(t.propagatorTypes)}function Uf(e){e.status===0&&!e.isAborted&&(e.traceId=void 0,e.spanId=void 0,e.traceSampled=void 0)}function Pf(e,t){return{clearTracingIfNeeded:Uf,traceFetch:function(r){return La(e,r,t,function(a){var i;if(r.input instanceof Request&&!(!((i=r.init)===null||i===void 0)&&i.headers))r.input=new Request(r.input),Object.keys(a).forEach(function(u){r.input.headers.append(u,a[u])});else{r.init=Qt(r.init);var o=[];r.init.headers instanceof Headers?r.init.headers.forEach(function(u,c){o.push([c,u])}):Array.isArray(r.init.headers)?r.init.headers.forEach(function(u){o.push(u)}):r.init.headers&&Object.keys(r.init.headers).forEach(function(u){o.push([u,r.init.headers[u]])}),r.init.headers=o.concat(Rn(a))}})},traceXhr:function(r,a){return La(e,r,t,function(i){Object.keys(i).forEach(function(o){a.setRequestHeader(o,i[o])})})}}}function La(e,t,r,a){if(!(!Ff()||!r.findTrackedSession())){var i=tr(e.allowedTracingUrls,function(o){return li([o.match],t.url,!0)});i&&(t.traceId=new Ma,t.spanId=new Ma,t.traceSampled=!kt(e.traceSampleRate)||Ct(e.traceSampleRate),a(Bf(t.traceId,t.spanId,t.traceSampled,i.propagatorTypes)))}}function Ff(){return Hi()!==void 0}function Hi(){return window.crypto||window.msCrypto}function Bf(e,t,r,a){var i={};return a.forEach(function(o){switch(o){case"datadog":{F(i,{"x-datadog-origin":"rum","x-datadog-parent-id":t.toDecimalString(),"x-datadog-sampling-priority":r?"1":"0","x-datadog-trace-id":e.toDecimalString()});break}case"tracecontext":{F(i,{traceparent:"00-0000000000000000".concat(e.toPaddedHexadecimalString(),"-").concat(t.toPaddedHexadecimalString(),"-0").concat(r?"1":"0")});break}case"b3":{F(i,{b3:"".concat(e.toPaddedHexadecimalString(),"-").concat(t.toPaddedHexadecimalString(),"-").concat(r?"1":"0")});break}case"b3multi":{F(i,{"X-B3-TraceId":e.toPaddedHexadecimalString(),"X-B3-SpanId":t.toPaddedHexadecimalString(),"X-B3-Sampled":r?"1":"0"});break}}}),i}var Ma=function(){function e(){this.buffer=new Uint8Array(8),Hi().getRandomValues(this.buffer),this.buffer[0]=this.buffer[0]&127}return e.prototype.toString=function(t){var r=this.readInt32(0),a=this.readInt32(4),i="";do{var o=r%t*4294967296+a;r=Math.floor(r/t),a=Math.floor(o/t),i=(o%t).toString(t)+i}while(r||a);return i},e.prototype.toDecimalString=function(){return this.toString(10)},e.prototype.toPaddedHexadecimalString=function(){var t=this.toString(16);return Array(17-t.length).join("0")+t},e.prototype.readInt32=function(t){return this.buffer[t]*16777216+(this.buffer[t+1]<<16)+(this.buffer[t+2]<<8)+this.buffer[t+3]},e}();function zf(e){var t,r,a,i,o,u;if(!e.applicationId){N.error("Application ID is not configured, no RUM data will be collected.");return}if(e.sessionReplaySampleRate!==void 0&&!wt(e.sessionReplaySampleRate)){N.error("Session Replay Sample Rate should be a number between 0 and 100");return}var c=(t=e.premiumSampleRate)!==null&&t!==void 0?t:e.replaySampleRate;if(c!==void 0&&e.sessionReplaySampleRate!==void 0&&(N.warn("Ignoring Premium Sample Rate because Session Replay Sample Rate is set"),c=void 0),c!==void 0&&!wt(c)){N.error("Premium Sample Rate should be a number between 0 and 100");return}var d=(r=e.traceSampleRate)!==null&&r!==void 0?r:e.tracingSampleRate;if(d!==void 0&&!wt(d)){N.error("Trace Sample Rate should be a number between 0 and 100");return}if(e.excludedActivityUrls!==void 0&&!Array.isArray(e.excludedActivityUrls)){N.error("Excluded Activity Urls should be an array");return}var v=Hf(e);if(v){var h=Ks(e);if(h){var _=!!((a=e.trackUserInteractions)!==null&&a!==void 0?a:e.trackInteractions),g=!!e.trackFrustrations;return F({applicationId:e.applicationId,version:e.version,actionNameAttribute:e.actionNameAttribute,sessionReplaySampleRate:(o=(i=e.sessionReplaySampleRate)!==null&&i!==void 0?i:c)!==null&&o!==void 0?o:100,oldPlansBehavior:e.sessionReplaySampleRate===void 0,traceSampleRate:d,allowedTracingUrls:v,excludedActivityUrls:(u=e.excludedActivityUrls)!==null&&u!==void 0?u:[],trackUserInteractions:_||g,trackFrustrations:g,trackViewsManually:!!e.trackViewsManually,trackResources:e.trackResources,trackLongTasks:e.trackLongTasks,defaultPrivacyLevel:ci($t,e.defaultPrivacyLevel)?e.defaultPrivacyLevel:$t.MASK_USER_INPUT,customerDataTelemetrySampleRate:1},h)}}}function Hf(e){if(e.allowedTracingUrls!==void 0&&e.allowedTracingOrigins!==void 0&&N.warn("Both allowedTracingUrls and allowedTracingOrigins (deprecated) have been defined. The parameter allowedTracingUrls will override allowedTracingOrigins."),e.allowedTracingUrls!==void 0){if(!Array.isArray(e.allowedTracingUrls)){N.error("Allowed Tracing URLs should be an array");return}if(e.allowedTracingUrls.length!==0&&e.service===void 0){N.error("Service needs to be configured when tracing is enabled");return}var t=[];return e.allowedTracingUrls.forEach(function(a){On(a)?t.push({match:a,propagatorTypes:["datadog"]}):Df(a)?t.push(a):N.warn("Allowed Tracing Urls parameters should be a string, RegExp, function, or an object. Ignoring parameter",a)}),t}if(e.allowedTracingOrigins!==void 0){if(!Array.isArray(e.allowedTracingOrigins)){N.error("Allowed Tracing Origins should be an array");return}if(e.allowedTracingOrigins.length!==0&&e.service===void 0){N.error("Service needs to be configured when tracing is enabled");return}var r=[];return e.allowedTracingOrigins.forEach(function(a){var i=Vf(a);i&&r.push(i)}),r}return[]}function Vf(e){var t;if(typeof e=="string"?t=e:e instanceof RegExp?t=function(r){return e.test(wa(r))}:typeof e=="function"&&(t=function(r){return e(wa(r))}),t===void 0){N.warn("Allowed Tracing Origins parameters should be a string, RegExp or function. Ignoring parameter",e);return}return{match:t,propagatorTypes:["datadog"]}}function Zf(e){var t=new Set;return Array.isArray(e.allowedTracingUrls)&&e.allowedTracingUrls.length>0&&e.allowedTracingUrls.forEach(function(r){On(r)?t.add("datadog"):r.propagatorTypes.forEach(function(a){return t.add(a)})}),Array.isArray(e.allowedTracingOrigins)&&e.allowedTracingOrigins.length>0&&t.add("datadog"),si(t)}function Gf(e){var t,r,a=js(e);return F({premium_sample_rate:e.premiumSampleRate,replay_sample_rate:e.replaySampleRate,session_replay_sample_rate:e.sessionReplaySampleRate,trace_sample_rate:(t=e.traceSampleRate)!==null&&t!==void 0?t:e.tracingSampleRate,action_name_attribute:e.actionNameAttribute,use_allowed_tracing_origins:Array.isArray(e.allowedTracingOrigins)&&e.allowedTracingOrigins.length>0,use_allowed_tracing_urls:Array.isArray(e.allowedTracingUrls)&&e.allowedTracingUrls.length>0,selected_tracing_propagators:Zf(e),default_privacy_level:e.defaultPrivacyLevel,use_excluded_activity_urls:Array.isArray(e.allowedTracingOrigins)&&e.allowedTracingOrigins.length>0,track_frustrations:e.trackFrustrations,track_views_manually:e.trackViewsManually,track_user_interactions:(r=e.trackUserInteractions)!==null&&r!==void 0?r:e.trackInteractions},a)}function wn(e,t,r){return{context:e.getContext(),user:t.getContext(),hasReplay:r.isRecording()?!0:void 0}}function Yf(e,t,r){var a=r===void 0?{}:r,i=a.ignoreInitIfSyntheticsWillInjectRum,o=i===void 0?!0:i,u=!1,c=Oa("global context"),d=Oa("user"),v=function(){},h=function(){},_=X,g=new Ia,T=function(I,C){C===void 0&&(C=$()),g.add(function(){return T(I,C)})},y=function(I,C){C===void 0&&(C=fe()),g.add(function(){return y(I,C)})},A=function(I,C){C===void 0&&(C=wn(c,d,t)),g.add(function(){return A(I,C)})},L=function(I,C){C===void 0&&(C=wn(c,d,t)),g.add(function(){return L(I,C)})},O=function(I,C){g.add(function(){return O(I,C)})};function w(I){if(h=function(){return st(I)},!(o&&zi())){if(Ot())I=Q(I);else if(!H(I))return;if(ge(I)){var C=zf(I);if(C){if(!C.trackViewsManually)k(I,C);else{var K=g;g=new Ia,y=function(W){k(I,C,W)},K.drain()}u=!0}}}}function k(I,C,K){var W=e(I,C,t,c,d,K);y=W.startView,A=W.addAction,L=W.addError,T=W.addTiming,O=W.addFeatureFlagEvaluation,v=W.getInternalContext,_=W.stopSession,g.drain(),t.onRumStart(W.lifeCycle,C,W.session,W.viewContexts)}var Z=x(function(I){var C=typeof I=="object"?I:{name:I};y(C)}),B=bc({init:x(w),addRumGlobalContext:x(c.add),setGlobalContextProperty:x(c.setContextProperty),removeRumGlobalContext:x(c.remove),removeGlobalContextProperty:x(c.removeContextProperty),getRumGlobalContext:x(c.get),getGlobalContext:x(c.getContext),setRumGlobalContext:x(c.set),setGlobalContext:x(c.setContext),clearGlobalContext:x(c.clearContext),getInternalContext:x(function(I){return v(I)}),getInitConfiguration:x(function(){return h()}),addAction:x(function(I,C){A({name:q(G.SANITIZE_INPUTS)?pe(I):I,context:q(G.SANITIZE_INPUTS)?pe(C):st(C),startClocks:fe(),type:"custom"})}),addError:function(I,C){var K=Si();Je(function(){L({error:I,handlingStack:K,context:q(G.SANITIZE_INPUTS)?pe(C):st(C),startClocks:fe()})})},addTiming:x(function(I,C){T(q(G.SANITIZE_INPUTS)?pe(I):I,C)}),setUser:x(function(I){Mf(I)&&d.setContext(Na(I))}),getUser:x(d.getContext),setUserProperty:x(function(I,C){var K,W=Na((K={},K[I]=C,K))[I];d.setContextProperty(I,W)}),removeUserProperty:x(d.removeContextProperty),removeUser:x(d.clearContext),clearUser:x(d.clearContext),startView:Z,stopSession:x(function(){_()}),startSessionReplayRecording:x(t.start),stopSessionReplayRecording:x(t.stop),addFeatureFlagEvaluation:x(function(I,C){O(q(G.SANITIZE_INPUTS)?pe(I):I,q(G.SANITIZE_INPUTS)?pe(C):C)})});return B;function H(I){return Ss(_i(I))?ke()?(N.error("Execution is not allowed in the current context."),!1):!0:(N.warn("Cookies are not authorized, we will not send any data."),!1)}function ge(I){return u?(I.silentMultipleInit||N.error("DD_RUM is already initialized."),!1):!0}function Q(I){return F({},I,{applicationId:"00000000-aaaa-0000-aaaa-000000000000",clientToken:"empty",sessionSampleRate:100})}function ke(){return window.location.protocol==="file:"}}function Kf(){var e=Vi(),t=new J(function(){if(e){var r=new e(x(function(){return t.notify()}));return r.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),function(){return r.disconnect()}}});return t}function Vi(){var e,t=window;if(t.Zone&&(e=$e(t,"MutationObserver"),t.MutationObserver&&e===t.MutationObserver)){var r=new t.MutationObserver(X),a=$e(r,"originalInstance");e=a&&a.constructor}return e||(e=t.MutationObserver),e}var Zi="initial_document",qf=[["document",function(e){return Zi===e}],["xhr",function(e){return e==="xmlhttprequest"}],["fetch",function(e){return e==="fetch"}],["beacon",function(e){return e==="beacon"}],["css",function(e,t){return/\.css$/i.test(t)}],["js",function(e,t){return/\.js$/i.test(t)}],["image",function(e,t){return Pe(["image","img","icon"],e)||/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(t)!==null}],["font",function(e,t){return/\.(woff|eot|woff2|ttf)$/i.exec(t)!==null}],["media",function(e,t){return Pe(["audio","video"],e)||/\.(mp3|mp4)$/i.exec(t)!==null}]];function jf(e){var t=e.name;if(!Os(t))return ir('Failed to construct URL for "'.concat(e.name,'"')),"other";for(var r=xs(t),a=0,i=qf;a<i.length;a++){var o=i[a],u=o[0],c=o[1];if(c(e.initiatorType,r))return u}return"other"}function Tn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=1;r<e.length;r+=1)if(e[r-1]>e[r])return!1;return!0}function Xf(e){return e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch"}function Wf(e){var t=e.duration,r=e.startTime,a=e.responseEnd;return t===0&&r<a?Y(de(r,a)):Y(t)}function $f(e){var t=Gi(e);if(t){var r=t.startTime,a=t.fetchStart,i=t.redirectStart,o=t.redirectEnd,u=t.domainLookupStart,c=t.domainLookupEnd,d=t.connectStart,v=t.secureConnectionStart,h=t.connectEnd,_=t.requestStart,g=t.responseStart,T=t.responseEnd,y={download:yt(r,g,T),first_byte:yt(r,_,g)};return h!==a&&(y.connect=yt(r,d,h),Tn(d,v,h)&&(y.ssl=yt(r,v,h))),c!==a&&(y.dns=yt(r,u,c)),Yi(e)&&(y.redirect=yt(r,i,o)),y}}function Gi(e){if(Tn(e.startTime,e.fetchStart,e.domainLookupStart,e.domainLookupEnd,e.connectStart,e.connectEnd,e.requestStart,e.responseStart,e.responseEnd)){if(!Yi(e))return e;var t=e.redirectStart,r=e.redirectEnd;if(t<e.startTime&&(t=e.startTime),r<e.startTime&&(r=e.fetchStart),!!Tn(e.startTime,t,r,e.fetchStart))return F({},e,{redirectEnd:r,redirectStart:t})}}function Yi(e){return e.fetchStart!==e.startTime}function yt(e,t,r){return{duration:Y(de(t,r)),start:Y(de(e,t))}}function Jf(e){if(e.startTime<e.responseStart)return e.decodedBodySize}function zn(e,t){return t&&!e.isIntakeUrl(t)}function Ki(e){return e.nodeType===Node.TEXT_NODE}function Qf(e){return e.nodeType===Node.COMMENT_NODE}function Hn(e){return e.nodeType===Node.ELEMENT_NODE}function Ur(e){return Hn(e)&&!!e.shadowRoot}function Vn(e){var t=e;return!!t.host&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&Hn(t.host)}function ed(e){return Ur(e)?e.shadowRoot.childNodes:e.childNodes}function Pr(e){return Vn(e)?e.host:e.parentNode}var td=2*_e;function rd(e){var t=nd(e)||ad(e);if(!(!t||t.traceTime<=Oe()-td))return t.traceId}function nd(e){var t=e.querySelector("meta[name=dd-trace-id]"),r=e.querySelector("meta[name=dd-trace-time]");return qi(t&&t.content,r&&r.content)}function ad(e){var t=id(e);if(t)return qi(mn(t,"trace-id"),mn(t,"trace-time"))}function qi(e,t){var r=t&&Number(t);if(!(!e||!r))return{traceId:e,traceTime:r}}function id(e){for(var t=0;t<e.childNodes.length;t+=1){var r=Da(e.childNodes[t]);if(r)return r}if(e.body)for(var t=e.body.childNodes.length-1;t>=0;t-=1){var a=e.body.childNodes[t],r=Da(a);if(r)return r;if(!Ki(a))break}}function Da(e){if(e&&Qf(e)){var t=/^\s*DATADOG;(.*?)\s*$/.exec(e.data);if(t)return t[1]}}function Ua(){return window.performance!==void 0&&"getEntries"in performance}function kr(e){return window.PerformanceObserver&&PerformanceObserver.supportedEntryTypes!==void 0&&PerformanceObserver.supportedEntryTypes.includes(e)}function od(e,t){if(ud(function(c){Yt(e,t,[c])}),Ua()){var r=performance.getEntries();oe(function(){return Yt(e,t,r)})}if(window.PerformanceObserver){var a=x(function(c){return Yt(e,t,c.getEntries())}),i=["resource","navigation","longtask","paint"],o=["largest-contentful-paint","first-input","layout-shift"];try{o.forEach(function(c){var d=new PerformanceObserver(a);d.observe({type:c,buffered:!0})})}catch{i.push.apply(i,o)}var u=new PerformanceObserver(a);u.observe({entryTypes:i}),Ua()&&"addEventListener"in performance&&performance.addEventListener("resourcetimingbufferfull",function(){performance.clearResourceTimings()})}kr("navigation")||sd(function(c){Yt(e,t,[c])}),kr("first-input")||cd(function(c){Yt(e,t,[c])})}function ud(e){Fn("interactive",function(){var t,r={entryType:"resource",initiatorType:Zi,traceId:rd(document)};if(kr("navigation")&&performance.getEntriesByType("navigation").length>0){var a=performance.getEntriesByType("navigation")[0];t=F(a.toJSON(),r)}else{var i=ji();t=F(i,{decodedBodySize:0,duration:i.responseEnd,name:window.location.href,startTime:0},r)}e(t)})}function sd(e){function t(){e(F(ji(),{entryType:"navigation"}))}Fn("complete",function(){oe(t)})}function cd(e){var t=Oe(),r=!1,a=ue(window,["click","mousedown","keydown","touchstart","pointerdown"],function(u){if(u.cancelable){var c={entryType:"first-input",processingStart:Ee(),startTime:u.timeStamp};u.type==="pointerdown"?i(c):o(c)}},{passive:!0,capture:!0}).stop;function i(u){ue(window,["pointerup","pointercancel"],function(c){c.type==="pointerup"&&o(u)},{once:!0})}function o(u){if(!r){r=!0,a();var c=u.processingStart-u.startTime;c>=0&&c<Oe()-t&&e(u)}}}function ji(){var e={},t=performance.timing;for(var r in t)if(kt(t[r])){var a=r,i=t[a];e[a]=i===0?0:hi(i)}return e}function Yt(e,t,r){var a=r.filter(function(o){return o.entryType==="resource"||o.entryType==="navigation"||o.entryType==="paint"||o.entryType==="longtask"||o.entryType==="largest-contentful-paint"||o.entryType==="first-input"||o.entryType==="layout-shift"}),i=a.filter(function(o){return!fd(o)&&!dd(t,o)});i.length&&e.notify(0,i)}function fd(e){return e.entryType==="navigation"&&e.loadEventEnd<=0}function dd(e,t){return t.entryType==="resource"&&!zn(e,t.name)}function ld(){var e=Nf(),t=Lf();if(e&&t)return{test_id:e,result_id:t,injected:zi()}}function vd(){var e,t=(e=window.Cypress)===null||e===void 0?void 0:e.env("traceId");if(typeof t=="string")return{test_execution_id:t}}var sn;function Xi(){return sn||(sn=pd()),sn}function pd(){var e=new J(function(){var t=Qe(function(){e.notify(Zn())},200).throttled;return ie(window,"resize",t,{capture:!0,passive:!0}).stop});return e}function Zn(){var e=window.visualViewport;return e?{width:Number(e.width*e.scale),height:Number(e.height*e.scale)}:{width:Number(window.innerWidth||0),height:Number(window.innerHeight||0)}}var Er;function hd(){if(q(G.CLICKMAP))return Er||(Er=Zn(),Xi().subscribe(function(e){Er=e}).unsubscribe),{viewport:Er}}var Wi=["view.url","view.referrer","action.target.name","error.message","error.stack","error.resource.url","resource.url"],_d=Wi.concat(["context"]);function gd(e,t,r,a,i,o,u,c){var d,v=(d={},d.error=Aa("error",e.eventRateLimiterThreshold,c),d.action=Aa("action",e.eventRateLimiterThreshold,c),d),h=ld(),_=vd();t.subscribe(10,function(g){var T=g.startTime,y=g.rawRumEvent,A=g.domainContext,L=g.savedCommonContext,O=g.customerContext,w=a.findView(T),k=i.findUrl(T),Z=r.findTrackedSession(y.type!=="view"?T:void 0);if(Z&&w&&k){var B=L||u(),H=o.findActionId(T),ge={_dd:{format_version:2,drift:As(),session:{plan:Z.plan},browser_sdk_version:Ot()?"4.38.0":void 0},application:{id:e.applicationId},date:$(),service:w.service||e.service,version:w.version||e.version,source:"browser",session:{id:Z.id,type:h?"synthetics":_?"ci_test":"user"},view:{id:w.id,name:w.name,url:k.url,referrer:k.referrer},action:md(y)&&H?{id:H}:void 0,synthetics:h,ci_test:_,display:hd()},Q=lt(ge,y);Q.context=lt(B.context,O),"has_replay"in Q.session||(Q.session.has_replay=B.hasReplay),Ue(B.user)||(Q.usr=B.user),bd(Q,e.beforeSend,A,v)&&(Ue(Q.context)&&delete Q.context,t.notify(11,Q))}})}function bd(e,t,r,a){var i;if(t){var o=If(e,e.type==="view"?Wi:_d,function(c){return t(c,r)});if(o===!1&&e.type!=="view")return!1;o===!1&&N.warn("Can't dismiss view events using beforeSend!")}var u=(i=a[e.type])===null||i===void 0?void 0:i.isLimitReached();return!u}function md(e){return["error","resource","long_task"].indexOf(e.type)!==-1}var yd=500,Sd=2500,ce=[];function Ed(){document.hasFocus()&&Pa();var e=Td(Pa).stop,t=Cd(wd).stop;return{isInForegroundAt:Ad,selectInForegroundPeriodsFor:Id,stop:function(){ce=[],e(),t()}}}function Pa(){if(!(ce.length>Sd)){var e=ce[ce.length-1],t=Ee();e!==void 0&&e.end===void 0||ce.push({start:t})}}function wd(){if(ce.length!==0){var e=ce[ce.length-1],t=Ee();e.end===void 0&&(e.end=t)}}function Td(e){return ie(window,"focus",function(t){t.isTrusted&&e()})}function Cd(e){return ie(window,"blur",function(t){t.isTrusted&&e()})}function Ad(e){for(var t=ce.length-1;t>=0;t--){var r=ce[t];if(r.end!==void 0&&e>r.end)break;if(e>r.start&&(r.end===void 0||e<r.end))return!0}return!1}function Id(e,t){for(var r=ht(e,t),a=[],i=Math.max(0,ce.length-yd),o=ce.length-1;o>=i;o--){var u=ce[o];if(u.end!==void 0&&e>u.end)break;if(!(r<u.start)){var c=e>u.start?e:u.start,d=de(e,c),v=u.end===void 0||r<u.end?r:u.end,h=de(c,v);a.unshift({start:Y(d),duration:Y(h)})}}return a}function Rd(e,t,r,a,i){return{get:function(o){var u=r.findView(o),c=i.findUrl(o),d=t.findTrackedSession(o);if(d&&u&&c){var v=a.findActionId(o);return{application_id:e,session_id:d.id,user_action:v?{id:v}:void 0,view:{id:u.id,name:u.name,referrer:c.referrer,url:c.url}}}}}}var Od=function(){function e(){this.callbacks={}}return e.prototype.notify=function(t,r){var a=this.callbacks[t];a&&a.forEach(function(i){return i(r)})},e.prototype.subscribe=function(t,r){var a=this;return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(r),{unsubscribe:function(){a.callbacks[t]=a.callbacks[t].filter(function(i){return r!==i})}}},e}(),xd=ur;function kd(e){var t=new or(xd);e.subscribe(2,function(a){t.add(r(a),a.startClocks.relative)}),e.subscribe(4,function(a){var i=a.endClocks;t.closeActive(i.relative)}),e.subscribe(8,function(){t.reset()});function r(a){return{service:a.service,version:a.version,id:a.id,name:a.name}}return{findView:function(a){return t.find(a)},stop:function(){t.stop()}}}var Fa=1;function Nd(e,t,r){var a=Pf(t,r);Ld(e,t,a),Md(e,t,a)}function Ld(e,t,r){var a=ff().subscribe(function(i){var o=i;if(zn(t,o.url))switch(o.state){case"start":r.traceXhr(o,o.xhr),o.requestIndex=$i(),e.notify(5,{requestIndex:o.requestIndex,url:o.url});break;case"complete":r.clearTracingIfNeeded(o),e.notify(6,{duration:o.duration,method:o.method,requestIndex:o.requestIndex,spanId:o.spanId,startClocks:o.startClocks,status:o.status,traceId:o.traceId,traceSampled:o.traceSampled,type:"xhr",url:o.url,xhr:o.xhr});break}});return{stop:function(){return a.unsubscribe()}}}function Md(e,t,r){var a=hf().subscribe(function(i){var o=i;if(zn(t,o.url))switch(o.state){case"start":r.traceFetch(o),o.requestIndex=$i(),e.notify(5,{requestIndex:o.requestIndex,url:o.url});break;case"resolve":Dd(o,function(u){r.clearTracingIfNeeded(o),e.notify(6,{duration:u,method:o.method,requestIndex:o.requestIndex,responseType:o.responseType,spanId:o.spanId,startClocks:o.startClocks,status:o.status,traceId:o.traceId,traceSampled:o.traceSampled,type:"fetch",url:o.url,response:o.response,init:o.init,input:o.input})});break}});return{stop:function(){return a.unsubscribe()}}}function $i(){var e=Fa;return Fa+=1,e}function Dd(e,t){var r=e.response&&ys(e.response);!r||!r.body?t(de(e.startClocks.timeStamp,$())):Rf(r.body,function(){t(de(e.startClocks.timeStamp,$()))},{bytesLimit:Number.POSITIVE_INFINITY,collectStreamBody:!1})}function Ji(e){var t=e.lifeCycle,r=e.isChildEvent,a=e.onChange,i=a===void 0?X:a,o={errorCount:0,longTaskCount:0,resourceCount:0,actionCount:0,frustrationCount:0},u=t.subscribe(11,function(c){if(!(c.type==="view"||!r(c)))switch(c.type){case"error":o.errorCount+=1,i();break;case"action":o.actionCount+=1,c.action.frustration&&(o.frustrationCount+=c.action.frustration.type.length),i();break;case"long_task":o.longTaskCount+=1,i();break;case"resource":o.resourceCount+=1,i();break}});return{stop:function(){u.unsubscribe()},eventCounts:o}}var Qi=100,Ud=100;function Gn(e,t,r,a,i){var o=Fd(e,t,r);return Pd(o,a,i)}function Pd(e,t,r){var a,i=!1,o=oe(x(function(){return v({hadActivity:!1})}),Qi),u=r&&oe(x(function(){return v({hadActivity:!0,end:$()})}),r),c=e.subscribe(function(h){var _=h.isBusy;De(o),De(a);var g=$();_||(a=oe(x(function(){return v({hadActivity:!0,end:g})}),Ud))}),d=function(){i=!0,De(o),De(a),De(u),c.unsubscribe()};function v(h){i||(d(),t(h))}return{stop:d}}function Fd(e,t,r){var a=new J(function(){var i=[],o,u=0;i.push(t.subscribe(d),e.subscribe(0,function(v){v.some(function(h){return h.entryType==="resource"&&!cn(r,h.name)})&&d()}),e.subscribe(5,function(v){cn(r,v.url)||(o===void 0&&(o=v.requestIndex),u+=1,d())}),e.subscribe(6,function(v){cn(r,v.url)||o===void 0||v.requestIndex<o||(u-=1,d())}));var c=Bd(d).stop;return function(){c(),i.forEach(function(v){return v.unsubscribe()})};function d(){a.notify({isBusy:u>0})}});return a}function cn(e,t){return li(e.excludedActivityUrls,t)}function Bd(e){return se(window,"open",{before:e})}var eo=he,zd=100;function Hd(e,t){var r=[],a=0,i;o(e);function o(d){d.stopObservable.subscribe(u),r.push(d),De(i),i=oe(c,eo)}function u(){a===1&&r.every(function(d){return d.isStopped()})&&(a=2,t(r))}function c(){De(i),a===0&&(a=1,u())}return{tryAppend:function(d){return a!==0?!1:r.length>0&&!Vd(r[r.length-1].event,d.event)?(c(),!1):(o(d),!0)},stop:function(){c()}}}function Vd(e,t){return e.target===t.target&&Zd(e,t)<=zd&&e.timeStamp-t.timeStamp<=eo}function Zd(e,t){return Math.sqrt(Math.pow(e.clientX-t.clientX,2)+Math.pow(e.clientY-t.clientY,2))}var Yn="data-dd-action-name";function Gd(e,t){return Ba(e,Yn)||t&&Ba(e,t)||za(e,t,Yd)||za(e,t,Kd)||""}function Ba(e,t){var r;if($d())r=e.closest("[".concat(t,"]"));else for(var a=e;a;){if(a.hasAttribute(t)){r=a;break}a=a.parentElement}if(r){var i=r.getAttribute(t);return ro(to(i.trim()))}}var Yd=[function(e,t){if(Wd()){if("labels"in e&&e.labels&&e.labels.length>0)return St(e.labels[0],t)}else if(e.id){var r=e.ownerDocument&&tr(e.ownerDocument.querySelectorAll("label"),function(a){return a.htmlFor===e.id});return r&&St(r,t)}},function(e){if(e.nodeName==="INPUT"){var t=e,r=t.getAttribute("type");if(r==="button"||r==="submit"||r==="reset")return t.value}},function(e,t){if(e.nodeName==="BUTTON"||e.nodeName==="LABEL"||e.getAttribute("role")==="button")return St(e,t)},function(e){return e.getAttribute("aria-label")},function(e,t){var r=e.getAttribute("aria-labelledby");if(r)return r.split(/\s+/).map(function(a){return jd(e,a)}).filter(function(a){return!!a}).map(function(a){return St(a,t)}).join(" ")},function(e){return e.getAttribute("alt")},function(e){return e.getAttribute("name")},function(e){return e.getAttribute("title")},function(e){return e.getAttribute("placeholder")},function(e,t){if("options"in e&&e.options.length>0)return St(e.options[0],t)}],Kd=[function(e,t){return St(e,t)}],qd=10;function za(e,t,r){for(var a=e,i=0;i<=qd&&a&&a.nodeName!=="BODY"&&a.nodeName!=="HTML"&&a.nodeName!=="HEAD";){for(var o=0,u=r;o<u.length;o++){var c=u[o],d=c(a,t);if(typeof d=="string"){var v=d.trim();if(v)return ro(to(v))}}if(a.nodeName==="FORM")break;a=a.parentElement,i+=1}}function to(e){return e.replace(/\s+/g," ")}function ro(e){return e.length>100?"".concat(di(e,100)," [...]"):e}function jd(e,t){return e.ownerDocument?e.ownerDocument.getElementById(t):null}function St(e,t){if(!e.isContentEditable){if("innerText"in e){var r=e.innerText,a=function(i){for(var o=e.querySelectorAll(i),u=0;u<o.length;u+=1){var c=o[u];if("innerText"in c){var d=c.innerText;d&&d.trim().length>0&&(r=r.replace(d,""))}}};return Xd()||a("script, style"),a("[".concat(Yn,"]")),t&&a("[".concat(t,"]")),r}return e.textContent}}function Xd(){return!Lc()}var fn;function Wd(){return fn===void 0&&(fn="labels"in HTMLInputElement.prototype),fn}var dn;function $d(){return dn===void 0&&(dn="closest"in HTMLElement.prototype),dn}var no=[Yn,"data-testid","data-test","data-qa","data-cy","data-test-id","data-qa-id","data-testing","data-component","data-element","data-source-file"],Jd=[io,tl],Qd=[io,rl,nl];function el(e,t){for(var r="",a=e;a&&a.nodeName!=="HTML";){var i=Ha(a,Jd,il,t,r);if(i)return i;var o=Ha(a,Qd,ol,t,r);r=o||Kn(al(a),r),a=a.parentElement}return r}function ao(e){return/[0-9]/.test(e)}function tl(e){if(e.id&&!ao(e.id))return"#".concat(xn(e.id))}function rl(e){if(e.tagName!=="BODY"&&e.classList.length>0)for(var t=0;t<e.classList.length;t+=1){var r=e.classList[t];if(!ao(r))return"".concat(e.tagName,".").concat(xn(r))}}function nl(e){return e.tagName}function io(e,t){if(t){var r=u(t);if(r)return r}for(var a=0,i=no;a<i.length;a++){var o=i[a],r=u(o);if(r)return r}function u(c){if(e.hasAttribute(c))return"".concat(e.tagName,"[").concat(c,'="').concat(xn(e.getAttribute(c)),'"]')}}function al(e){for(var t=e.parentElement.firstElementChild,r=1;t&&t!==e;)t.tagName===e.tagName&&(r+=1),t=t.nextElementSibling;return"".concat(e.tagName,":nth-of-type(").concat(r,")")}function Ha(e,t,r,a,i){for(var o=0,u=t;o<u.length;o++){var c=u[o],d=c(e,a);if(d){var v=Kn(d,i);if(r(e,v))return v}}}function il(e,t){return e.ownerDocument.querySelectorAll(t).length===1}function ol(e,t){return e.parentElement.querySelectorAll(ul()?Kn(":scope",t):t).length===1}function Kn(e,t){return t?"".concat(e,">").concat(t):e}var wr;function ul(){if(wr===void 0)try{document.querySelector(":scope"),wr=!0}catch{wr=!1}return wr}function sl(e){var t=e.onPointerDown,r=e.onPointerUp,a,i={selection:!1,input:!1},o,u=[ie(window,"pointerdown",function(c){Za(c)&&(a=Va(),i={selection:!1,input:!1},o=t(c))},{capture:!0}),ie(window,"selectionchange",function(){(!a||!Va())&&(i.selection=!0)},{capture:!0}),ie(window,"pointerup",function(c){if(Za(c)&&o){var d=i;r(o,c,function(){return d}),o=void 0}},{capture:!0}),ie(window,"input",function(){i.input=!0},{capture:!0})];return{stop:function(){u.forEach(function(c){return c.stop()})}}}function Va(){var e=window.getSelection();return!e||e.isCollapsed}function Za(e){return e.target instanceof Element&&e.isPrimary!==!1}var Ga=3;function cl(e,t){if(fl(e))return t.addFrustration("rage_click"),e.some(Ya)&&t.addFrustration("dead_click"),t.hasError&&t.addFrustration("error_click"),{isRage:!0};var r=e.some(function(a){return a.getUserActivity().selection});return e.forEach(function(a){a.hasError&&a.addFrustration("error_click"),Ya(a)&&!r&&a.addFrustration("dead_click")}),{isRage:!1}}function fl(e){if(e.some(function(r){return r.getUserActivity().selection}))return!1;for(var t=0;t<e.length-(Ga-1);t+=1)if(e[t+Ga-1].event.timeStamp-e[t].event.timeStamp<=he)return!0;return!1}var dl='input:not([type="checkbox"]):not([type="radio"]):not([type="button"]):not([type="submit"]):not([type="reset"]):not([type="range"]),textarea,select,[contenteditable],[contenteditable] *,canvas,a[href],a[href] *';function Ya(e){return e.hasPageActivity||e.getUserActivity().input?!1:!_s(e.event.target,dl)}var ll=10*he,vl=5*_e;function pl(e,t,r){var a=new or(vl),i=new J,o;e.subscribe(8,function(){a.reset()}),e.subscribe(4,v);var u=sl({onPointerDown:function(h){return hl(r,e,t,a,h)},onPointerUp:function(h,_,g){var T=h.clickActionBase,y=h.hadActivityOnPointerDown;return _l(r,e,t,a,i,d,T,_,g,y)}}).stop,c={findActionId:function(h){return r.trackFrustrations?a.findAll(h):a.find(h)}};return{stop:function(){v(),i.notify(),u()},actionContexts:c};function d(h){if(!o||!o.tryAppend(h)){var _=h.clone();o=Hd(h,function(g){bl(g,_)})}}function v(){o&&o.stop()}}function hl(e,t,r,a,i){if(!(!e.trackFrustrations&&a.find())){var o=gl(i,e.actionNameAttribute);if(!(!e.trackFrustrations&&!o.name)){var u=!1;return Gn(t,r,e,function(c){u=c.hadActivity},Qi),{clickActionBase:o,hadActivityOnPointerDown:function(){return u}}}}}function _l(e,t,r,a,i,o,u,c,d,v){var h=oo(t,a,d,u,c);e.trackFrustrations&&o(h);var _=Gn(t,r,e,function(y){y.hadActivity&&y.end<h.startClocks.timeStamp?h.discard():(y.hadActivity?h.stop(y.end):v()?h.stop(h.startClocks.timeStamp):h.stop(),e.trackFrustrations||(y.hadActivity?h.validate():h.discard()))},ll).stop,g=t.subscribe(4,function(y){var A=y.endClocks;h.stop(A.timeStamp)}),T=i.subscribe(function(){h.stop()});h.stopObservable.subscribe(function(){g.unsubscribe(),_(),T.unsubscribe()})}function gl(e,t){var r,a;if(q(G.CLICKMAP)){var i=e.target.getBoundingClientRect();r={width:Math.round(i.width),height:Math.round(i.height),selector:el(e.target,t)},a={x:Math.round(e.clientX-i.left),y:Math.round(e.clientY-i.top)}}return{type:"click",target:r,position:a,name:Gd(e.target,t)}}function oo(e,t,r,a,i){var o=le(),u=fe(),c=t.add(o,u.relative),d=Ji({lifeCycle:e,isChildEvent:function(y){return y.action!==void 0&&(Array.isArray(y.action.id)?Pe(y.action.id,o):y.action.id===o)}}),v=0,h,_=[],g=new J;function T(y){v===0&&(h=y,v=1,h?c.close(hi(h)):c.remove(),d.stop(),g.notify())}return{event:i,stop:T,stopObservable:g,get hasError(){return d.eventCounts.errorCount>0},get hasPageActivity(){return h!==void 0},getUserActivity:r,addFrustration:function(y){_.push(y)},startClocks:u,isStopped:function(){return v===1||v===2},clone:function(){return oo(e,t,r,a,i)},validate:function(y){if(T(),v===1){var A=d.eventCounts,L=A.resourceCount,O=A.errorCount,w=A.longTaskCount,k=F({type:"click",duration:h&&de(u.timeStamp,h),startClocks:u,id:o,frustrationTypes:_,counts:{resourceCount:L,errorCount:O,longTaskCount:w},events:y??[i],event:i},a);e.notify(1,k),v=2}},discard:function(){T(),v=2}}}function bl(e,t){var r=cl(e,t).isRage;r?(e.forEach(function(a){return a.discard()}),t.stop($()),t.validate(e.map(function(a){return a.event}))):(t.discard(),e.forEach(function(a){return a.validate()}))}function ml(e,t,r,a){e.subscribe(1,function(o){return e.notify(10,Ka(o,a))});var i={findActionId:X};return r.trackUserInteractions&&(i=pl(e,t,r).actionContexts),{addAction:function(o,u){e.notify(10,F({savedCommonContext:u},Ka(o,a)))},actionContexts:i}}function Ka(e,t){var r=ln(e)?{action:{id:e.id,loading_time:Y(e.duration),frustration:{type:e.frustrationTypes},error:{count:e.counts.errorCount},long_task:{count:e.counts.longTaskCount},resource:{count:e.counts.resourceCount}},_dd:{action:{target:e.target,position:e.position}}}:void 0,a=ln(e)?void 0:e.context,i=lt({action:{id:le(),target:{name:e.name},type:e.type},date:e.startClocks.timeStamp,type:"action"},r),o=t.isInForegroundAt(e.startClocks.relative);return o!==void 0&&(i.view={in_foreground:o}),{customerContext:a,rawRumEvent:i,startTime:e.startClocks.relative,domainContext:ln(e)?{event:e.event,events:e.events}:{}}}function ln(e){return e.type!=="custom"}function yl(e){var t=Sf([ft.error]).subscribe(function(r){return e.notify({startClocks:fe(),message:r.message,stack:r.stack,source:Nt.CONSOLE,handling:"handled",handlingStack:r.handlingStack})});return{stop:function(){t.unsubscribe()}}}function Sl(e){var t=yc([Rt.cspViolation,Rt.intervention]).subscribe(function(r){return e.notify({startClocks:fe(),message:r.message,stack:r.stack,type:r.subtype,source:Nt.REPORT,handling:"unhandled"})});return{stop:function(){t.unsubscribe()}}}function El(e,t,r){var a=new J;return yl(a),gc(a),Sl(a),a.subscribe(function(i){return e.notify(12,{error:i})}),wl(e,t,r)}function wl(e,t,r){return e.subscribe(12,function(a){var i=a.error,o=a.customerContext,u=a.savedCommonContext;e.notify(10,F({customerContext:o,savedCommonContext:u},Tl(i,t,r)))}),{addError:function(a,i){var o=a.error,u=a.handlingStack,c=a.startClocks,d=a.context,v=o instanceof Error?et(o):void 0,h=mi({stackTrace:v,originalError:o,handlingStack:u,startClocks:c,nonErrorPrefix:hc,source:Nt.CUSTOM,handling:"handled"});e.notify(12,{customerContext:d,savedCommonContext:i,error:h})}}}function Tl(e,t,r){var a={date:e.startClocks.timeStamp,error:{id:le(),message:e.message,source:e.source,stack:e.stack,handling_stack:e.handlingStack,type:e.type,handling:e.handling,causes:e.causes,source_type:"browser"},type:"error"},i=t.isInForegroundAt(e.startClocks.relative);i&&(a.view={in_foreground:i});var o=r.findFeatureFlagEvaluations(e.startClocks.relative);return o&&!Ue(o)&&(a.feature_flags=o),{rawRumEvent:a,startTime:e.startClocks.relative,domainContext:{error:e.originalError}}}function Cl(e,t){e.subscribe(0,function(r){for(var a=0,i=r;a<i.length;a++){var o=i[a];if(o.entryType!=="longtask")break;var u=t.findTrackedSession(o.startTime);if(!u||!u.longTaskAllowed)break;var c=Ln(o.startTime),d={date:c.timeStamp,long_task:{id:le(),duration:Y(o.duration)},type:"long_task",_dd:{discarded:!1}};e.notify(10,{rawRumEvent:d,startTime:c.relative,domainContext:{performanceEntry:o.toJSON()}})}})}function Al(e){if(!(!performance||!("getEntriesByName"in performance))){var t=performance.getEntriesByName(e.url,"resource");if(!(!t.length||!("toJSON"in t[0]))){var r=t.map(function(a){return a.toJSON()}).filter(Gi).filter(function(a){return Il(a,e.startClocks.relative,uo({startTime:e.startClocks.relative,duration:e.duration}))});if(r.length===1)return r[0]}}}function uo(e){return ht(e.startTime,e.duration)}function Il(e,t,r){var a=1;return e.startTime>=t-a&&uo(e)<=ht(r,a)}function Rl(e,t,r,a){e.subscribe(6,function(i){e.notify(10,Ol(i,t,r,a))}),e.subscribe(0,function(i){for(var o=0,u=i;o<u.length;o++){var c=u[o];c.entryType==="resource"&&!Xf(c)&&e.notify(10,xl(c,t,r,a))}})}function Ol(e,t,r,a){var i,o=e.type==="xhr"?"xhr":"fetch",u=Al(e),c=u?Ln(u.startTime):e.startClocks,d=u?so(u):void 0,v=kl(e,t),h=fo(r,c),_=Y(e.duration),g=Ll(_,d==null?void 0:d.resource.duration),T=lo(a,c,(i=u==null?void 0:u.duration)!==null&&i!==void 0?i:e.duration),y=lt({date:c.timeStamp,resource:{id:le(),type:o,duration:_,method:e.method,status_code:e.status,url:e.url},type:"resource"},v,d,h,g,T);return{startTime:c.relative,rawRumEvent:y,domainContext:{performanceEntry:u&&u,xhr:e.xhr,response:e.response,requestInput:e.input,requestInit:e.init,error:e.error}}}function xl(e,t,r,a){var i=jf(e),o=so(e),u=Ln(e.startTime),c=Nl(e,t),d=fo(r,u),v=lo(a,u,e.duration),h=lt({date:u.timeStamp,resource:{id:le(),type:i,url:e.name},type:"resource"},c,o,d,v);return{startTime:u.relative,rawRumEvent:h,domainContext:{performanceEntry:e}}}function so(e){return{resource:F({duration:Wf(e),size:Jf(e)},$f(e))}}function kl(e,t){var r=e.traceSampled&&e.traceId&&e.spanId;if(r)return{_dd:{span_id:e.spanId.toDecimalString(),trace_id:e.traceId.toDecimalString(),rule_psr:co(t)}}}function Nl(e,t){var r=e.traceId;if(r)return{_dd:{trace_id:e.traceId,rule_psr:co(t)}}}function Ll(e,t){if(q(G.RESOURCE_DURATIONS))return{_dd:{computed_duration:e,performance_entry_duration:t,override_duration_diff:t?e-t:void 0}}}function co(e){return kt(e.traceSampleRate)?e.traceSampleRate/100:void 0}function fo(e,t){var r=e.findTrackedSession(t.relative);return{_dd:{discarded:!r||!r.resourceAllowed}}}function lo(e,t,r){if(q(G.RESOURCE_PAGE_STATES))return{_dd:{page_states:e.findAll(t.relative,r),page_was_discarded:String(document.wasDiscarded)}}}var Kt,qa;function qn(e){return e===void 0&&(e=window),Kt||(document.visibilityState==="hidden"?Kt={timeStamp:0}:(Kt={timeStamp:1/0},qa=ue(e,["pagehide","visibilitychange"],function(t){(t.type==="pagehide"||document.visibilityState==="hidden")&&(Kt.timeStamp=t.timeStamp,qa())},{capture:!0}).stop)),Kt}var vo=10*_e;function Ml(e,t){var r={};function a(d){F(r,d),t(r)}var i=Dl(e,a).stop,o=Ul(e,function(d){return a({firstContentfulPaint:d})}).stop,u=Pl(e,window,function(d){a({largestContentfulPaint:d})}).stop,c=Fl(e,function(d){var v=d.firstInputDelay,h=d.firstInputTime;a({firstInputDelay:v,firstInputTime:h})}).stop;return{stop:function(){i(),o(),u(),c()}}}function Dl(e,t){var r=e.subscribe(0,function(a){for(var i=0,o=a;i<o.length;i++){var u=o[i];u.entryType==="navigation"&&t({domComplete:u.domComplete,domContentLoaded:u.domContentLoadedEventEnd,domInteractive:u.domInteractive,loadEvent:u.loadEventEnd,firstByte:u.responseStart>=0&&u.responseStart<=Ee()?u.responseStart:void 0})}}).unsubscribe;return{stop:r}}function Ul(e,t){var r=qn(),a=e.subscribe(0,function(i){var o=tr(i,function(u){return u.entryType==="paint"&&u.name==="first-contentful-paint"&&u.startTime<r.timeStamp&&u.startTime<vo});o&&t(o.startTime)}).unsubscribe;return{stop:a}}function Pl(e,t,r){var a=qn(),i=1/0,o=ue(t,["pointerdown","keydown"],function(c){i=c.timeStamp},{capture:!0,once:!0}).stop,u=e.subscribe(0,function(c){var d=ds(c,function(v){return v.entryType==="largest-contentful-paint"&&v.startTime<i&&v.startTime<a.timeStamp&&v.startTime<vo});d&&r(d.startTime)}).unsubscribe;return{stop:function(){o(),u()}}}function Fl(e,t){var r=qn(),a=e.subscribe(0,function(i){var o=tr(i,function(c){return c.entryType==="first-input"&&c.startTime<r.timeStamp});if(o){var u=de(o.startTime,o.processingStart);t({firstInputDelay:u>=0?u:0,firstInputTime:o.startTime})}}).unsubscribe;return{stop:a}}function Bl(e,t,r,a,i,o){var u={},c=zl(e,t,r,i,o,function(_){u.loadingTime=_,a()}),d=c.stop,v=c.setLoadEvent,h;return Zl()?(u.cumulativeLayoutShift=0,h=Hl(e,function(_){u.cumulativeLayoutShift=_,a()}).stop):h=X,{stop:function(){d(),h()},setLoadEvent:v,viewMetrics:u}}function zl(e,t,r,a,i,o){var u=a==="initial_load",c=!0,d=[];function v(){!c&&!u&&d.length>0&&o(Math.max.apply(Math,d))}var h=Gn(e,t,r,function(_){c&&(c=!1,_.hadActivity&&d.push(de(i.timeStamp,_.end)),v())}).stop;return{stop:h,setLoadEvent:function(_){u&&(u=!1,d.push(_),v())}}}function Hl(e,t){var r=0,a=Vl(),i=e.subscribe(0,function(o){for(var u=0,c=o;u<c.length;u++){var d=c[u];d.entryType==="layout-shift"&&!d.hadRecentInput&&(a.update(d),a.value()>r&&(r=a.value(),t(ui(r,4))))}}).unsubscribe;return{stop:i}}function Vl(){var e=0,t,r;return{update:function(a){var i=t===void 0||a.startTime-r>=he||a.startTime-t>=5*he;i?(t=r=a.startTime,e=a.value):(e+=a.value,r=a.startTime)},value:function(){return e}}}function Zl(){return kr("layout-shift")}var Gl=5*_e;function Yl(e,t,r){var a=Ji({lifeCycle:e,isChildEvent:function(u){return u.view.id===t},onChange:r}),i=a.stop,o=a.eventCounts;return{scheduleStop:function(){oe(i,Gl)},eventCounts:o}}var Kl=3e3,ql=5*_e;function jl(e,t,r,a,i,o,u){var c=T(u),d=c.stop,v=c.initialView,h=v,_=A().stop,g;o&&(g=L(i));function T(O){var w=ja(t,r,a,e,"initial_load",pi(),O),k=Ml(t,function(Z){w.updateTimings(Z),w.scheduleUpdate()}).stop;return{initialView:w,stop:k}}function y(O,w){return ja(t,r,a,e,"route_change",O,w)}function A(){t.subscribe(8,function(){h.end(),h=y(void 0,{name:h.name,service:h.service,version:h.version})}),t.subscribe(9,function(w){(w.reason===ut.UNLOADING||w.reason===ut.PAGEHIDE)&&(h.end(),h.triggerUpdate())});var O=er(function(){h.triggerUpdate()},ql);return{stop:function(){In(O)}}}function L(O){return O.subscribe(function(w){var k=w.oldLocation,Z=w.newLocation;if(Wl(k,Z)){h.end(),h.triggerUpdate(),h=y();return}})}return{addTiming:function(O,w){w===void 0&&(w=$()),h.addTiming(O,w),h.scheduleUpdate()},startView:function(O,w){h.end(w),h.triggerUpdate(),h=y(w,O)},stop:function(){g==null||g.unsubscribe(),d(),_(),h.end()}}}function ja(e,t,r,a,i,o,u){o===void 0&&(o=fe());var c=le(),d={},v={},h=0,_,g=Qt(a),T,y,A;u&&(T=u.name,y=u.service,A=u.version),e.notify(2,{id:c,name:T,startClocks:o,service:y,version:A});var L=Qe(I,Kl,{leading:!1}),O=L.throttled,w=L.cancel,k=Bl(e,t,r,O,i,o),Z=k.setLoadEvent,B=k.stop,H=k.viewMetrics,ge=Yl(e,c,O),Q=ge.scheduleStop,ke=ge.eventCounts;I();function I(){h+=1;var C=_===void 0?$():_.timeStamp;e.notify(3,F({customTimings:v,documentVersion:h,id:c,name:T,service:y,version:A,loadingType:i,location:g,startClocks:o,timings:d,duration:de(o.timeStamp,C),isActive:_===void 0,eventCounts:ke},H))}return{name:T,service:y,version:A,scheduleUpdate:O,end:function(C){C===void 0&&(C=fe()),_=C,e.notify(4,{endClocks:_}),B(),Q()},triggerUpdate:function(){w(),I()},updateTimings:function(C){d=C,C.loadEvent!==void 0&&Z(C.loadEvent)},addTiming:function(C,K){var W=Rs(K)?K:de(o.timeStamp,K);v[Xl(C)]=W}}}function Xl(e){var t=e.replace(/[^a-zA-Z0-9-_.@$]/g,"_");return t!==e&&N.warn("Invalid timing name: ".concat(e,", sanitized to: ").concat(t)),t}function Wl(e,t){return e.pathname!==t.pathname||!$l(t.hash)&&Xa(t.hash)!==Xa(e.hash)}function $l(e){var t=e.substr(1);return!!document.getElementById(t)}function Xa(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}function Jl(e,t,r,a,i,o,u,c,d){return e.subscribe(3,function(v){return e.notify(10,Ql(v,o,u,c))}),jl(r,e,a,t,i,!t.trackViewsManually,d)}function Ql(e,t,r,a){var i=a.getReplayStats(e.id),o=r.findFeatureFlagEvaluations(e.startClocks.relative),u={_dd:{document_version:e.documentVersion,replay_stats:i},date:e.startClocks.timeStamp,type:"view",view:{action:{count:e.eventCounts.actionCount},frustration:{count:e.eventCounts.frustrationCount},cumulative_layout_shift:e.cumulativeLayoutShift,first_byte:Y(e.timings.firstByte),dom_complete:Y(e.timings.domComplete),dom_content_loaded:Y(e.timings.domContentLoaded),dom_interactive:Y(e.timings.domInteractive),error:{count:e.eventCounts.errorCount},first_contentful_paint:Y(e.timings.firstContentfulPaint),first_input_delay:Y(e.timings.firstInputDelay),first_input_time:Y(e.timings.firstInputTime),is_active:e.isActive,name:e.name,largest_contentful_paint:Y(e.timings.largestContentfulPaint),load_event:Y(e.timings.loadEvent),loading_time:ev(Y(e.loadingTime)),loading_type:e.loadingType,long_task:{count:e.eventCounts.longTaskCount},resource:{count:e.eventCounts.resourceCount},time_spent:Y(e.duration),in_foreground_periods:t.selectInForegroundPeriodsFor(e.startClocks.relative,e.duration)},feature_flags:o&&!Ue(o)?o:void 0,session:{has_replay:i?!0:void 0}};return Ue(e.customTimings)||(u.view.custom_timings=vs(e.customTimings,Y)),{rawRumEvent:u,startTime:e.startClocks.relative,domainContext:{location:e.location}}}function ev(e){return kt(e)&&e<0?void 0:e}var tv="rum";function rv(e,t){var r=jc(e.cookieOptions,tv,function(a){return av(e,a)});return r.expireObservable.subscribe(function(){t.notify(7)}),r.renewObservable.subscribe(function(){t.notify(8)}),{findTrackedSession:function(a){var i=r.findActiveSession(a);if(!(!i||!po(i.trackingType))){var o=i.trackingType==="1"?2:1;return{id:i.id,plan:o,sessionReplayAllowed:o===2,longTaskAllowed:e.trackLongTasks!==void 0?e.trackLongTasks:e.oldPlansBehavior&&o===2,resourceAllowed:e.trackResources!==void 0?e.trackResources:e.oldPlansBehavior&&o===2}}},expire:r.expire}}function nv(){var e={id:"00000000-aaaa-0000-aaaa-000000000000",plan:1,sessionReplayAllowed:!1,longTaskAllowed:!0,resourceAllowed:!0};return{findTrackedSession:function(){return e},expire:X}}function av(e,t){var r;return iv(t)?r=t:Ct(e.sessionSampleRate)?Ct(e.sessionReplaySampleRate)?r="1":r="2":r="0",{trackingType:r,isTracked:po(r)}}function iv(e){return e==="0"||e==="1"||e==="2"}function po(e){return e==="2"||e==="1"}function ov(e,t,r,a,i){var o=uv(e,a,i);return t.subscribe(11,function(u){u.type==="view"?o.upsert(u,u.view.id):o.add(u)}),r.subscribe(function(u){return o.add(u,Rc(e))}),o}function uv(e,t,r){var a=u(e.rumEndpointBuilder),i,o=e.replica;o!==void 0&&(i=u(o.rumEndpointBuilder));function u(d){return new sf(Pi(d,e.batchBytesLimit,t),e.batchMessagesLimit,e.batchBytesLimit,e.messageBytesLimit,e.flushTimeout,r)}function c(d){return lt(d,{application:{id:o.applicationId}})}return{flushObservable:a.flushObservable,add:function(d,v){v===void 0&&(v=!0),a.add(d),i&&v&&i.add(c(d))},upsert:function(d,v){a.upsert(d,v),i&&i.upsert(c(d),v)}}}function sv(e){var t=Pn();e.subscribe(11,function(r){t.send("rum",r)})}var cv=ur;function fv(e,t,r){var a=new or(cv),i;e.subscribe(4,function(c){var d=c.endClocks;a.closeActive(d.relative)}),e.subscribe(2,function(c){var d=c.startClocks,v=r.href;a.add(u({url:v,referrer:i||document.referrer}),d.relative),i=v});var o=t.subscribe(function(c){var d=c.newLocation,v=a.find();if(v){var h=Ee();a.closeActive(h),a.add(u({url:d.href,referrer:v.referrer}),h)}});function u(c){var d=c.url,v=c.referrer;return{url:d,referrer:v}}return{findUrl:function(c){return a.find(c)},stop:function(){o.unsubscribe(),a.stop()}}}function dv(e){var t=Qt(e),r=new J(function(){var i=lv(a).stop,o=vv(a).stop;return function(){i(),o()}});function a(){if(t.href!==e.href){var i=Qt(e);r.notify({newLocation:i,oldLocation:t}),t=i}}return r}function lv(e){var t=se(history,"pushState",{after:e}).stop,r=se(history,"replaceState",{after:e}).stop,a=ie(window,"popstate",e).stop;return{stop:function(){t(),r(),a()}}}function vv(e){return ie(window,"hashchange",e)}var pv=ur,hv=200;function _v(e,t){if(t===void 0&&(t=Ir),!q(G.FEATURE_FLAGS))return{findFeatureFlagEvaluations:function(){},getFeatureFlagBytesCount:function(){return 0},addFeatureFlagEvaluation:X};var r=new or(pv),a=0,i=!1;e.subscribe(4,function(u){var c=u.endClocks;r.closeActive(c.relative)}),e.subscribe(2,function(u){var c=u.startClocks;r.add({},c.relative),a=0});var o=Qe(function(u){a=t(pt(u)),i||(i=Fi(a,"feature flag evaluation"))},hv).throttled;return{findFeatureFlagEvaluations:function(u){return r.find(u)},getFeatureFlagBytesCount:function(){var u=r.find();return u?a:0},addFeatureFlagEvaluation:function(u,c){var d=r.find();d&&(d[u]=c,o(d))}}}var gv=10*he,Le,ot,Cn;function bv(e,t,r,a,i,o,u){var c=t.enabled&&Ct(e.customerDataTelemetrySampleRate);c&&(ho(),Wa(),r.subscribe(11,function(d){Cn=!0,qt(ot.globalContextBytes,Ue(a.get())?0:a.getBytesCount()),qt(ot.userContextBytes,Ue(i.get())?0:i.getBytesCount());var v=o.findFeatureFlagEvaluations(),h=Pe(["view","error"],d.type)&&v&&!Ue(v);qt(ot.featureFlagBytes,h?o.getFeatureFlagBytesCount():0)}),u.subscribe(function(d){var v=d.bufferBytesCount,h=d.bufferMessagesCount;Cn&&(Le.batchCount+=1,qt(Le.batchBytesCount,v),qt(Le.batchMessagesCount,h),vn(Le.globalContextBytes,ot.globalContextBytes),vn(Le.userContextBytes,ot.userContextBytes),vn(Le.featureFlagBytes,ot.featureFlagBytes),Wa())}),er(mv,gv))}function mv(){Le.batchCount!==0&&(ir("Customer data measures",Le),ho())}function We(){return{min:1/0,max:0,sum:0}}function qt(e,t){e.sum+=t,e.min=Math.min(e.min,t),e.max=Math.max(e.max,t)}function vn(e,t){e.sum+=t.sum,e.min=Math.min(e.min,t.min),e.max=Math.max(e.max,t.max)}function ho(){Le={batchCount:0,batchBytesCount:We(),batchMessagesCount:We(),globalContextBytes:We(),userContextBytes:We(),featureFlagBytes:We()}}function Wa(){Cn=!1,ot={globalContextBytes:We(),userContextBytes:We(),featureFlagBytes:We()}}var yv=500,Tt=[],pn;function Sv(){Tr($a());var e=ue(window,["pageshow","focus","blur","visibilitychange","resume","freeze","pagehide"],function(t){t.isTrusted&&(t.type==="freeze"?Tr("frozen"):t.type==="pagehide"?Tr(t.persisted?"frozen":"terminated"):Tr($a()))},{capture:!0}).stop;return{findAll:function(t,r){for(var a=[],i=ht(t,r),o=Tt.length-1;o>=0;o--){var u=Tt[o].startTime;if(!(u>=i)&&(a.unshift(Tt[o]),u<t))break}return a.length?a:void 0},stop:e}}function $a(){return document.visibilityState==="hidden"?"hidden":document.hasFocus()?"active":"passive"}function Tr(e,t){t===void 0&&(t=yv),e!==pn&&(pn=e,Tt.length===t&&Tt.shift(),Tt.push({state:pn,startTime:Ee()}))}function Ev(e,t,r,a,i,o){var u=new Od;u.subscribe(11,function(C){return Or("rum",C)});var c=wv(t);c.setContextProvider(function(){var C,K;return{application:{id:t.applicationId},session:{id:(C=g.findTrackedSession())===null||C===void 0?void 0:C.id},view:{id:(K=L.findView())===null||K===void 0?void 0:K.id},action:{id:k.findActionId()}}});var d=function(C){u.notify(12,{error:C})},v=_v(u);if(Ot())sv(u);else{var h=mf();h.subscribe(function(C){u.notify(9,C)});var _=ov(t,u,c.observable,d,h);bv(t,c,u,a,i,v,_.flushObservable)}var g=Ot()?nv():rv(t,u),T=Kf(),y=dv(location),A=Tv(u,t,location,g,y,T,function(){return wn(a,i,r)},d),L=A.viewContexts,O=A.foregroundContexts,w=A.urlContexts,k=A.actionContexts,Z=A.addAction;Oc(Gf(e)),Cl(u,g);var B=Sv();Rl(u,t,g,B);var H=Jl(u,t,location,T,y,O,v,r,o),ge=H.addTiming,Q=H.startView,ke=El(u,O,v).addError;Nd(u,t,g),od(u,t);var I=Rd(t.applicationId,g,L,k,w);return{addAction:Z,addError:ke,addTiming:ge,addFeatureFlagEvaluation:v.addFeatureFlagEvaluation,startView:Q,lifeCycle:u,viewContexts:L,session:g,stopSession:function(){return g.expire()},getInternalContext:I.get}}function wv(e){var t=Ic("browser-rum-sdk",e);if(Ot()){var r=Pn();t.observable.subscribe(function(a){return r.send("internal_telemetry",a)})}return t}function Tv(e,t,r,a,i,o,u,c){var d=kd(e),v=fv(e,i,r),h=Ed(),_=ml(e,o,t,h),g=_.addAction,T=_.actionContexts;return gd(t,e,a,d,v,T,u,c),{viewContexts:d,foregroundContexts:h,urlContexts:v,addAction:g,actionContexts:T,stop:function(){d.stop(),h.stop()}}}var Se={FullSnapshot:2,IncrementalSnapshot:3,Meta:4,Focus:6,ViewEnd:7,VisualViewport:8,FrustrationRecord:9},vt={Document:0,DocumentType:1,Element:2,Text:3,CDATA:4,DocumentFragment:11},Me={Mutation:0,MouseMove:1,MouseInteraction:2,Scroll:3,ViewportResize:4,Input:5,TouchMove:6,MediaInteraction:7,StyleSheetRule:8},ye={MouseUp:0,MouseDown:1,Click:2,ContextMenu:3,DblClick:4,Focus:5,Blur:6,TouchStart:7,TouchEnd:9},Ja={Play:0,Pause:1};function Xe(e,t){return{data:F({source:e},t),type:Se.IncrementalSnapshot,timestamp:$()}}var M={IGNORE:"ignore",HIDDEN:"hidden",ALLOW:$t.ALLOW,MASK:$t.MASK,MASK_USER_INPUT:$t.MASK_USER_INPUT},jn="data-dd-privacy",Cv="allow",Av="mask",Iv="mask-user-input",_o="hidden",Rv="dd-privacy-allow",Ov="dd-privacy-mask",xv="dd-privacy-mask-user-input",kv="dd-privacy-hidden",ct="***",Nv="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==",Lv={INPUT:!0,OUTPUT:!0,TEXTAREA:!0,SELECT:!0,OPTION:!0,DATALIST:!0,OPTGROUP:!0},Mv=1e5,Dv="x";function Fe(e,t){var r=Pr(e),a=r?Fe(r,t):t,i=bo(e);return go(i,a)}function go(e,t){switch(t){case M.HIDDEN:case M.IGNORE:return t}switch(e){case M.ALLOW:case M.MASK:case M.MASK_USER_INPUT:case M.HIDDEN:case M.IGNORE:return e;default:return t}}function bo(e){if(Hn(e)){var t=e.getAttribute(jn);if(e.tagName==="BASE")return M.ALLOW;if(e.tagName==="INPUT"){var r=e;if(r.type==="password"||r.type==="email"||r.type==="tel"||r.type==="hidden")return M.MASK;var a=r.getAttribute("autocomplete");if(a&&a.indexOf("cc-")===0)return M.MASK}if(t===_o||e.classList.contains(kv))return M.HIDDEN;if(t===Av||e.classList.contains(Ov))return M.MASK;if(t===Iv||e.classList.contains(xv))return M.MASK_USER_INPUT;if(t===Cv||e.classList.contains(Rv))return M.ALLOW;if(Pv(e))return M.IGNORE}}function Fr(e,t){switch(t){case M.MASK:case M.HIDDEN:case M.IGNORE:return!0;case M.MASK_USER_INPUT:return Ki(e)?Qa(e.parentNode):Qa(e);default:return!1}}function Qa(e){if(!e||e.nodeType!==e.ELEMENT_NODE)return!1;var t=e;if(t.tagName==="INPUT")switch(t.type){case"button":case"color":case"reset":case"submit":return!1}return!!Lv[t.tagName]}var Uv=function(e){return e.replace(/\S/g,Dv)};function mo(e,t,r){var a,i=(a=e.parentElement)===null||a===void 0?void 0:a.tagName,o=e.textContent||"";if(!(t&&!o.trim())){var u=r,c=i==="STYLE"?!0:void 0,d=i==="SCRIPT";if(d)o=ct;else if(u===M.HIDDEN)o=ct;else if(Fr(e,u)&&!c)if(i==="DATALIST"||i==="SELECT"||i==="OPTGROUP"){if(!o.trim())return}else i==="OPTION"?o=ct:o=Uv(o);return o}}function Pv(e){if(e.nodeName==="SCRIPT")return!0;if(e.nodeName==="LINK"){var t=i("rel");return/preload|prefetch/i.test(t)&&i("as")==="script"||t==="shortcut icon"||t==="icon"}if(e.nodeName==="META"){var r=i("name"),t=i("rel"),a=i("property");return/^msapplication-tile(image|color)$/.test(r)||r==="application-name"||t==="icon"||t==="apple-touch-icon"||t==="shortcut icon"||r==="keywords"||r==="description"||/^(og|twitter|fb):/.test(a)||/^(og|twitter):/.test(r)||r==="pinterest"||r==="robots"||r==="googlebot"||r==="bingbot"||e.hasAttribute("http-equiv")||r==="author"||r==="generator"||r==="framework"||r==="publisher"||r==="progid"||/^article:/.test(a)||/^product:/.test(a)||r==="google-site-verification"||r==="yandex-verification"||r==="csrf-token"||r==="p:domain_verify"||r==="verify-v1"||r==="verification"||r==="shopify-checkout-api-token"}function i(o){return(e.getAttribute(o)||"").toLowerCase()}return!1}var Xn=new WeakMap;function xe(e){return Xn.has(e)}function Fv(e){for(var t=e;t;){if(!xe(t)&&!Vn(t))return!1;t=Pr(t)}return!0}function ae(e){return Xn.get(e)}function Bv(e,t){Xn.set(e,t)}function Wn(e,t){var r=e.tagName,a=e.value;if(Fr(e,t)){var i=e.type;return r==="INPUT"&&(i==="button"||i==="submit"||i==="reset")?a:!a||r==="OPTION"?void 0:ct}if(r==="OPTION"||r==="SELECT")return e.value;if(!(r!=="INPUT"&&r!=="TEXTAREA"))return a}var zv=/url\((?:(')([^']*)'|(")([^"]*)"|([^)]*))\)/gm,Hv=/^[A-Za-z]+:|^\/\//,Vv=/^data:.*,/i;function Zv(e,t){return e.replace(zv,function(r,a,i,o,u,c){var d=i||u||c;if(!t||!d||Hv.test(d)||Vv.test(d))return r;var v=a||o||"";return"url(".concat(v).concat(Gv(d,t)).concat(v,")")})}function Gv(e,t){try{return nr(e,t).href}catch{return e}}var Yv=/[^a-z1-6-_]/;function yo(e){var t=e.toLowerCase().trim();return Yv.test(t)?"div":t}function So(e){if(!(e===void 0||e.length===0))return e.map(function(t){var r=t.cssRules||t.rules,a=Array.from(r,function(o){return o.cssText}),i={cssRules:a,disabled:t.disabled||void 0,media:t.media.length>0?Array.from(t.media):void 0};return i})}function Eo(e,t,r,a){if(t===M.HIDDEN)return null;var i=e.getAttribute(r);if(t===M.MASK&&r!==jn&&!no.includes(r)&&r!==a.actionNameAttribute){var o=e.tagName;switch(r){case"title":case"alt":case"placeholder":return ct}if((o==="IMG"||o==="SOURCE")&&(r==="src"||r==="srcset"))return Nv;if(o==="A"&&r==="href"||i&&Lr(r,"data-"))return ct}return!i||typeof i!="string"?i:i.length>Mv&&i.slice(0,5)==="data:"?"data:truncated":i}function Kv(e,t,r){var a;if(t===M.HIDDEN)return{};for(var i={},o=yo(e.tagName),u=e.ownerDocument,c=0;c<e.attributes.length;c+=1){var d=e.attributes.item(c),v=d.name,h=Eo(e,t,v,r.configuration);h!==null&&(i[v]=h)}if(e.value&&(o==="textarea"||o==="select"||o==="option"||o==="input")){var _=Wn(e,t);_!==void 0&&(i.value=_)}if(o==="option"&&t===M.ALLOW){var g=e;g.selected&&(i.selected=g.selected)}if(o==="link"){var T=Array.from(u.styleSheets).find(function(Z){return Z.href===e.href}),y=An(T);y&&T&&(i._cssText=y)}if(o==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){var y=An(e.sheet);y&&(i._cssText=y)}var A=e;if(o==="input"&&(A.type==="radio"||A.type==="checkbox")&&(t===M.ALLOW?i.checked=!!A.checked:Fr(A,t)&&delete i.checked),o==="audio"||o==="video"){var L=e;i.rr_mediaState=L.paused?"paused":"played"}var O,w,k=r.serializationContext;switch(k.status){case 0:O=Math.round(e.scrollTop),w=Math.round(e.scrollLeft),(O||w)&&k.elementsScrollPositions.set(e,{scrollTop:O,scrollLeft:w});break;case 1:k.elementsScrollPositions.has(e)&&(a=k.elementsScrollPositions.get(e),O=a.scrollTop,w=a.scrollLeft);break}return w&&(i.rr_scrollLeft=w),O&&(i.rr_scrollTop=O),i}function An(e){if(!e)return null;var t;try{t=e.rules||e.cssRules}catch{}if(!t)return null;var r=Array.from(t,qv).join("");return Zv(r,e.href)}function qv(e){return jv(e)?An(e.styleSheet)||"":e.cssText}function jv(e){return"styleSheet"in e}function Br(e,t){var r=$v(e,t);if(!r)return null;var a=ae(e)||Wv(),i=r;return i.id=a,Bv(e,a),t.serializedNodeIds&&t.serializedNodeIds.add(a),i}var Xv=1;function Wv(){return Xv++}function $n(e,t){var r=[];return e.childNodes.forEach(function(a){var i=Br(a,t);i&&r.push(i)}),r}function $v(e,t){switch(e.nodeType){case e.DOCUMENT_NODE:return Jv(e,t);case e.DOCUMENT_FRAGMENT_NODE:return Qv(e,t);case e.DOCUMENT_TYPE_NODE:return ep(e);case e.ELEMENT_NODE:return tp(e,t);case e.TEXT_NODE:return np(e,t);case e.CDATA_SECTION_NODE:return ap()}}function Jv(e,t){return{type:vt.Document,childNodes:$n(e,t),adoptedStyleSheets:So(e.adoptedStyleSheets)}}function Qv(e,t){var r=[];e.childNodes.length&&(r=$n(e,t));var a=Vn(e);return a&&t.serializationContext.shadowRootsController.addShadowRoot(e),{type:vt.DocumentFragment,childNodes:r,isShadowRoot:a,adoptedStyleSheets:a?So(e.adoptedStyleSheets):void 0}}function ep(e){return{type:vt.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId}}function tp(e,t){var r,a=yo(e.tagName),i=rp(e)||void 0,o=go(bo(e),t.parentNodePrivacyLevel);if(o===M.HIDDEN){var u=e.getBoundingClientRect(),c=u.width,d=u.height;return{type:vt.Element,tagName:a,attributes:(r={rr_width:"".concat(c,"px"),rr_height:"".concat(d,"px")},r[jn]=_o,r),childNodes:[],isSVG:i}}if(o!==M.IGNORE){var v=Kv(e,o,t),h=[];if(e.childNodes.length){var _=void 0;t.parentNodePrivacyLevel===o&&t.ignoreWhiteSpace===(a==="head")?_=t:_=F({},t,{parentNodePrivacyLevel:o,ignoreWhiteSpace:a==="head"}),h=$n(e,_)}if(Ur(e)){var g=Br(e.shadowRoot,t);g!==null&&h.push(g)}return{type:vt.Element,tagName:a,attributes:v,childNodes:h,isSVG:i}}}function rp(e){return e.tagName==="svg"||e instanceof SVGElement}function np(e,t){var r,a=(r=e.parentElement)===null||r===void 0?void 0:r.tagName,i=mo(e,t.ignoreWhiteSpace||!1,t.parentNodePrivacyLevel);if(i)return{type:vt.Text,textContent:i,isStyle:a==="STYLE"?!0:void 0}}function ap(){return{type:vt.CDATA,textContent:""}}function ip(e,t,r){return Br(e,{serializationContext:r,parentNodePrivacyLevel:t.defaultPrivacyLevel,configuration:t})}function wo(e){return!!e.changedTouches}function sr(e){return e.composed===!0&&Ur(e.target)?e.composedPath()[0]:e.target}var ei=25;function op(e){return Math.abs(e.pageTop-e.offsetTop-window.scrollY)>ei||Math.abs(e.pageLeft-e.offsetLeft-window.scrollX)>ei}var up=function(e,t){var r=window.visualViewport,a={layoutViewportX:e,layoutViewportY:t,visualViewportX:e,visualViewportY:t};if(r)op(r)?(a.layoutViewportX=Math.round(e+r.offsetLeft),a.layoutViewportY=Math.round(t+r.offsetTop)):(a.visualViewportX=Math.round(e-r.offsetLeft),a.visualViewportY=Math.round(t-r.offsetTop));else return a;return a},To=function(e){return{scale:e.scale,offsetLeft:e.offsetLeft,offsetTop:e.offsetTop,pageLeft:e.pageLeft,pageTop:e.pageTop,height:e.height,width:e.width}};function Co(){var e,t=window.visualViewport;return t?e=t.pageLeft-t.offsetLeft:window.scrollX!==void 0?e=window.scrollX:e=window.pageXOffset||0,Math.round(e)}function Ao(){var e,t=window.visualViewport;return t?e=t.pageTop-t.offsetTop:window.scrollY!==void 0?e=window.scrollY:e=window.pageYOffset||0,Math.round(e)}var sp=50;function cp(e){var t=Qe(function(r){var a=sr(r);if(xe(a)){var i=Io(r);if(!i)return;var o={id:ae(a),timeOffset:0,x:i.x,y:i.y};e([o],wo(r)?Me.TouchMove:Me.MouseMove)}},sp,{trailing:!1}).throttled;return ue(document,["mousemove","touchmove"],t,{capture:!0,passive:!0}).stop}function Io(e){var t=wo(e)?e.changedTouches[0]:e,r=t.clientX,a=t.clientY;if(window.visualViewport){var i=up(r,a),o=i.visualViewportX,u=i.visualViewportY;r=o,a=u}if(!Number.isFinite(r)||!Number.isFinite(a)){e.isTrusted&&ir("mouse/touch event without x/y");return}return{x:r,y:a}}var fp=100;function dp(e,t,r){var a=Qe(function(i){var o=sr(i);if(!(!o||Fe(o,t)===M.HIDDEN||!xe(o))){var u=ae(o),c=o===document?{scrollTop:Ao(),scrollLeft:Co()}:{scrollTop:Math.round(o.scrollTop),scrollLeft:Math.round(o.scrollLeft)};r.set(o,c),e({id:u,x:c.scrollLeft,y:c.scrollTop})}},fp).throttled;return ie(document,"scroll",a,{capture:!0,passive:!0}).stop}var me,ti=(me={},me.pointerup=ye.MouseUp,me.mousedown=ye.MouseDown,me.click=ye.Click,me.contextmenu=ye.ContextMenu,me.dblclick=ye.DblClick,me.focus=ye.Focus,me.blur=ye.Blur,me.touchstart=ye.TouchStart,me.touchend=ye.TouchEnd,me);function lp(e,t,r){var a=function(i){var o=sr(i);if(!(Fe(o,t)===M.HIDDEN||!xe(o))){var u=ae(o),c=ti[i.type],d;if(c!==ye.Blur&&c!==ye.Focus){var v=Io(i);if(!v)return;d={id:u,type:c,x:v.x,y:v.y}}else d={id:u,type:c};var h=F({id:r.getIdForEvent(i)},Xe(Me.MouseInteraction,d));e(h)}};return ue(document,Object.keys(ti),a,{capture:!0,passive:!0}).stop}function Ro(e,t,r){var a=r===void 0?{}:r,i=a.domEvents,o=i===void 0?["input","change"]:i,u=a.target,c=u===void 0?document:u,d=new WeakMap;function v(T){var y=Fe(T,t);if(y!==M.HIDDEN){var A=T.type,L;if(A==="radio"||A==="checkbox"){if(Fr(T,y))return;L={isChecked:T.checked}}else{var O=Wn(T,y);if(O===void 0)return;L={text:O}}h(T,L);var w=T.name;A==="radio"&&w&&T.checked&&ls(document.querySelectorAll('input[type="radio"][name="'.concat(w,'"]')),function(k){k!==T&&h(k,{isChecked:!1})})}}function h(T,y){if(xe(T)){var A=d.get(T);(!A||A.text!==y.text||A.isChecked!==y.isChecked)&&(d.set(T,y),e(F({id:ae(T)},y)))}}var _=ue(c,o,function(T){var y=sr(T);(y instanceof HTMLInputElement||y instanceof HTMLTextAreaElement||y instanceof HTMLSelectElement)&&v(y)},{capture:!0,passive:!0}).stop,g=[Gt(HTMLInputElement.prototype,"value",v),Gt(HTMLInputElement.prototype,"checked",v),Gt(HTMLSelectElement.prototype,"value",v),Gt(HTMLTextAreaElement.prototype,"value",v),Gt(HTMLSelectElement.prototype,"selectedIndex",v)];return function(){g.forEach(function(T){return T.stop()}),_()}}function vp(e){function t(i,o){i&&xe(i.ownerNode)&&o(ae(i.ownerNode))}var r=[se(CSSStyleSheet.prototype,"insertRule",{before:function(i,o){t(this,function(u){return e({id:u,adds:[{rule:i,index:o}]})})}}),se(CSSStyleSheet.prototype,"deleteRule",{before:function(i){t(this,function(o){return e({id:o,removes:[{index:i}]})})}})];typeof CSSGroupingRule<"u"?a(CSSGroupingRule):(a(CSSMediaRule),a(CSSSupportsRule));function a(i){r.push(se(i.prototype,"insertRule",{before:function(o,u){var c=this;t(this.parentStyleSheet,function(d){var v=ri(c);v&&(v.push(u||0),e({id:d,adds:[{rule:o,index:v}]}))})}}),se(i.prototype,"deleteRule",{before:function(o){var u=this;t(this.parentStyleSheet,function(c){var d=ri(u);d&&(d.push(o),e({id:c,removes:[{index:d}]}))})}}))}return function(){return r.forEach(function(i){return i.stop()})}}function ri(e){for(var t=[],r=e;r.parentRule;){var a=Array.from(r.parentRule.cssRules),i=a.indexOf(r);t.unshift(i),r=r.parentRule}if(r.parentStyleSheet){var o=Array.from(r.parentStyleSheet.cssRules),u=o.indexOf(r);return t.unshift(u),t}}function pp(e,t){var r=function(a){var i=sr(a);!i||Fe(i,t)===M.HIDDEN||!xe(i)||e({id:ae(i),type:a.type==="play"?Ja.Play:Ja.Pause})};return ue(document,["play","pause"],r,{capture:!0,passive:!0}).stop}function hp(e,t,r){return e.subscribe(10,function(a){var i,o,u;a.rawRumEvent.type==="action"&&a.rawRumEvent.action.type==="click"&&(!((o=(i=a.rawRumEvent.action.frustration)===null||i===void 0?void 0:i.type)===null||o===void 0)&&o.length)&&"events"in a.domainContext&&(!((u=a.domainContext.events)===null||u===void 0)&&u.length)&&t({timestamp:a.rawRumEvent.date,type:Se.FrustrationRecord,data:{frustrationTypes:a.rawRumEvent.action.frustration.type,recordIds:a.domainContext.events.map(function(c){return r.getIdForEvent(c)})}})}).unsubscribe}var _p=200;function gp(e){return Xi().subscribe(e).unsubscribe}function bp(e){var t=window.visualViewport;if(!t)return X;var r=Qe(function(){e(To(t))},_p,{trailing:!1}),a=r.throttled,i=r.cancel,o=ue(t,["resize","scroll"],a,{capture:!0,passive:!0}).stop;return function(){o(),i()}}var mp=100;function yp(e){var t=X,r=[];function a(){t(),e(r),r=[]}return{addMutations:function(i){r.length===0&&(t=bs(a,{timeout:mp})),r.push.apply(r,i)},flush:a,stop:function(){t()}}}function Oo(e,t,r,a){var i=Vi();if(!i)return{stop:X,flush:X};var o=yp(function(c){Sp(c.concat(u.takeRecords()),e,t,r,a)}),u=new i(x(o.addMutations));return u.observe(a,{attributeOldValue:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),{stop:function(){u.disconnect(),o.stop()},flush:function(){o.flush()}}}function Sp(e,t,r,a,i){e.filter(function(g){return g.type==="childList"}).forEach(function(g){g.removedNodes.forEach(function(T){xo(T,a.removeShadowRoot)})});var o=e.filter(function(g){return i.contains(g.target)&&Fv(g.target)&&Fe(g.target,r.defaultPrivacyLevel)!==M.HIDDEN}),u=Ep(o.filter(function(g){return g.type==="childList"}),r,a),c=u.adds,d=u.removes,v=u.hasBeenSerialized,h=wp(o.filter(function(g){return g.type==="characterData"&&!v(g.target)}),r),_=Tp(o.filter(function(g){return g.type==="attributes"&&!v(g.target)}),r);!h.length&&!_.length&&!d.length&&!c.length||t({adds:c,removes:d,texts:h,attributes:_})}function Ep(e,t,r){for(var a=new Set,i=new Map,o=function(B){B.addedNodes.forEach(function(H){a.add(H)}),B.removedNodes.forEach(function(H){a.has(H)||i.set(H,B.target),a.delete(H)})},u=0,c=e;u<c.length;u++){var d=c[u];o(d)}var v=Array.from(a);Cp(v);for(var h=new Set,_=[],g=0,T=v;g<T.length;g++){var y=T[g];if(!k(y)){var A=Fe(y.parentNode,t.defaultPrivacyLevel);if(!(A===M.HIDDEN||A===M.IGNORE)){var L=Br(y,{serializedNodeIds:h,parentNodePrivacyLevel:A,serializationContext:{status:2,shadowRootsController:r},configuration:t});if(L){var O=Pr(y);_.push({nextId:Z(y),parentId:ae(O),node:L})}}}}var w=[];return i.forEach(function(B,H){xe(H)&&w.push({parentId:ae(B),id:ae(H)})}),{adds:_,removes:w,hasBeenSerialized:k};function k(B){return xe(B)&&h.has(ae(B))}function Z(B){for(var H=B.nextSibling;H;){if(xe(H))return ae(H);H=H.nextSibling}return null}}function wp(e,t){for(var r,a=[],i=new Set,o=e.filter(function(_){return i.has(_.target)?!1:(i.add(_.target),!0)}),u=0,c=o;u<c.length;u++){var d=c[u],v=d.target.textContent;if(v!==d.oldValue){var h=Fe(Pr(d.target),t.defaultPrivacyLevel);h===M.HIDDEN||h===M.IGNORE||a.push({id:ae(d.target),value:(r=mo(d.target,!1,h))!==null&&r!==void 0?r:null})}}return a}function Tp(e,t){for(var r=[],a=new Map,i=e.filter(function(A){var L=a.get(A.target);return L!=null&&L.has(A.attributeName)?!1:(L?L.add(A.attributeName):a.set(A.target,new Set([A.attributeName])),!0)}),o=new Map,u=0,c=i;u<c.length;u++){var d=c[u],v=d.target.getAttribute(d.attributeName);if(v!==d.oldValue){var h=Fe(d.target,t.defaultPrivacyLevel),_=Eo(d.target,h,d.attributeName,t),g=void 0;if(d.attributeName==="value"){var T=Wn(d.target,h);if(T===void 0)continue;g=T}else typeof _=="string"?g=_:g=null;var y=o.get(d.target);y||(y={id:ae(d.target),attributes:{}},r.push(y),o.set(d.target,y)),y.attributes[d.attributeName]=g}}return r}function Cp(e){e.sort(function(t,r){var a=t.compareDocumentPosition(r);return a&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:a&Node.DOCUMENT_POSITION_CONTAINS||a&Node.DOCUMENT_POSITION_FOLLOWING?1:a&Node.DOCUMENT_POSITION_PRECEDING?-1:0})}function xo(e,t){Ur(e)&&t(e.shadowRoot),ed(e).forEach(function(r){return xo(r,t)})}function Ap(e){return ue(window,["focus","blur"],function(){e({has_focus:document.hasFocus()})}).stop}function Ip(){var e=new WeakMap,t=1;return{getIdForEvent:function(r){return e.has(r)||e.set(r,t++),e.get(r)}}}function Rp(e){var t=Ip(),r=Oo(e.mutationCb,e.configuration,e.shadowRootsController,document),a=cp(e.mousemoveCb),i=lp(e.mouseInteractionCb,e.configuration.defaultPrivacyLevel,t),o=dp(e.scrollCb,e.configuration.defaultPrivacyLevel,e.elementsScrollPositions),u=gp(e.viewportResizeCb),c=Ro(e.inputCb,e.configuration.defaultPrivacyLevel),d=pp(e.mediaInteractionCb,e.configuration.defaultPrivacyLevel),v=vp(e.styleSheetCb),h=Ap(e.focusCb),_=bp(e.visualViewportResizeCb),g=hp(e.lifeCycle,e.frustrationCb,t);return{flush:function(){r.flush()},stop:function(){r.stop(),a(),i(),o(),u(),c(),d(),v(),h(),_(),g()}}}function Op(){var e=new WeakMap;return{set:function(t,r){t===document&&!document.scrollingElement||e.set(t===document?document.scrollingElement:t,r)},get:function(t){return e.get(t)},has:function(t){return e.has(t)}}}var xp=function(e,t){var r=t.mutationCb,a=t.inputCb,i=new Map,o={addShadowRoot:function(u){var c=Oo(r,e,o,u),d=c.stop,v=c.flush,h=Ro(a,e.defaultPrivacyLevel,{target:u,domEvents:["change"]});i.set(u,{flush:v,stop:function(){d(),h()}})},removeShadowRoot:function(u){var c=i.get(u);if(!c){ir("no shadow root in map",{shadowRoot:u?u.nodeName:"no node name",childrenLength:u?u.childElementCount:"-1",controllerByShadowRootSize:i.size,html:u&&q(G.SHADOW_DOM_DEBUG)?u.innerHTML.substring(0,2e3):void 0});return}c.stop(),i.delete(u)},stop:function(){i.forEach(function(u){var c=u.stop;return c()})},flush:function(){i.forEach(function(u){var c=u.flush;return c()})}};return o};function kp(e){var t=e.emit;if(!t)throw new Error("emit function is required");var r=Op(),a=function(_){t(Xe(Me.Mutation,_))},i=function(_){return t(Xe(Me.Input,_))},o=xp(e.configuration,{mutationCb:a,inputCb:i}),u=function(_,g){_===void 0&&(_=$()),g===void 0&&(g={status:0,elementsScrollPositions:r,shadowRootsController:o});var T=Zn(),y=T.width,A=T.height;t({data:{height:A,href:window.location.href,width:y},type:Se.Meta,timestamp:_}),t({data:{has_focus:document.hasFocus()},type:Se.Focus,timestamp:_}),t({data:{node:ip(document,e.configuration,g),initialOffset:{left:Co(),top:Ao()}},type:Se.FullSnapshot,timestamp:_}),window.visualViewport&&t({data:To(window.visualViewport),type:Se.VisualViewport,timestamp:_})};u();var c=Rp({lifeCycle:e.lifeCycle,configuration:e.configuration,elementsScrollPositions:r,inputCb:i,mediaInteractionCb:function(_){return t(Xe(Me.MediaInteraction,_))},mouseInteractionCb:function(_){return t(_)},mousemoveCb:function(_,g){return t(Xe(g,{positions:_}))},mutationCb:a,scrollCb:function(_){return t(Xe(Me.Scroll,_))},styleSheetCb:function(_){return t(Xe(Me.StyleSheetRule,_))},viewportResizeCb:function(_){return t(Xe(Me.ViewportResize,_))},frustrationCb:function(_){return t(_)},focusCb:function(_){return t({data:_,type:Se.Focus,timestamp:$()})},visualViewportResizeCb:function(_){t({data:_,type:Se.VisualViewport,timestamp:$()})},shadowRootsController:o}),d=c.stop,v=c.flush;function h(){o.flush(),v()}return{stop:function(){o.stop(),d()},takeSubsequentFullSnapshot:function(_){h(),u(_,{shadowRootsController:o,status:1,elementsScrollPositions:r})},flushMutations:h,shadowRootsController:o}}function Np(e,t,r){var a=new FormData;return a.append("segment",new Blob([e],{type:"application/octet-stream"}),"".concat(t.session.id,"-").concat(t.start)),ko(t,function(i,o){return a.append(i,o)}),a.append("raw_segment_size",r.toString()),{data:a,bytesCount:e.byteLength}}function ko(e,t,r){r===void 0&&(r=""),Rn(e).forEach(function(a){var i=a[0],o=a[1];typeof o=="object"&&o!==null?ko(o,t,"".concat(r).concat(i,".")):t("".concat(r).concat(i),String(o))})}var Lp=10,re;function Mp(e){return zr(e).segments_count}function Dp(e){zr(e).segments_count+=1}function ni(e){zr(e).records_count+=1}function Up(e,t){zr(e).segments_total_raw_size+=t}function Pp(e){return re==null?void 0:re.get(e)}function zr(e){re||(re=new Map);var t;return re.has(e)?t=re.get(e):(t={records_count:0,segments_count:0,segments_total_raw_size:0},re.set(e,t),re.size>Lp&&Fp()),t}function Fp(){if(re)if(re.keys)re.delete(re.keys().next().value);else{var e=!0;re.forEach(function(t,r){e&&(re.delete(r),e=!1)})}}var Bp=0,zp=function(){function e(t,r,a,i,o,u){var c=this;this.worker=t,this.id=Bp++;var d=r.view.id;this.metadata=F({start:i.timestamp,end:i.timestamp,creation_reason:a,records_count:1,has_full_snapshot:i.type===Se.FullSnapshot,index_in_view:Mp(d),source:"browser"},r),Dp(d),ni(d);var v=x(function(h){var _=h.data;_.type==="errored"||_.type==="initialized"||(_.id===c.id?(Up(d,_.additionalBytesCount),_.type==="flushed"?(u(_.result,_.rawBytesCount),t.removeEventListener("message",v)):o(_.compressedBytesCount)):_.id>c.id&&(t.removeEventListener("message",v),ir("Segment did not receive a 'flush' response before being replaced.")))});t.addEventListener("message",v),Or("record",{record:i,segment:this.metadata}),this.worker.postMessage({data:'{"records":['.concat(JSON.stringify(i)),id:this.id,action:"write"})}return e.prototype.addRecord=function(t){var r;this.metadata.start=Math.min(this.metadata.start,t.timestamp),this.metadata.end=Math.max(this.metadata.end,t.timestamp),this.metadata.records_count+=1,ni(this.metadata.view.id),(r=this.metadata).has_full_snapshot||(r.has_full_snapshot=t.type===Se.FullSnapshot),Or("record",{record:t,segment:this.metadata}),this.worker.postMessage({data:",".concat(JSON.stringify(t)),id:this.id,action:"write"})},e.prototype.flush=function(t){this.worker.postMessage({data:"],".concat(JSON.stringify(this.metadata).slice(1),`
`),id:this.id,action:"flush"}),this.flushReason=t},e}(),Hp=30*he,No=6e4;function Vp(e,t,r,a,i,o){return Zp(e,function(){return Gp(t,r,a)},i,o)}function Zp(e,t,r,a){var i={status:0,nextSegmentCreationReason:"init"},o=e.subscribe(2,function(){c("view_change")}).unsubscribe,u=e.subscribe(9,function(v){c(v.reason)}).unsubscribe;function c(v){i.status===1&&(i.segment.flush(v),De(i.expirationTimeoutId)),v!=="stop"?i={status:0,nextSegmentCreationReason:v}:i={status:2}}function d(v,h){var _=t();if(_){var g=new zp(a,_,v,h,function(T){!g.flushReason&&T>No&&c("segment_bytes_limit")},function(T,y){var A=Np(T,g.metadata,y);yf(g.flushReason)?r.sendOnExit(A):r.send(A)});i={status:1,segment:g,expirationTimeoutId:oe(function(){c("segment_duration_limit")},Hp)}}}return{addRecord:function(v){switch(i.status){case 0:d(i.nextSegmentCreationReason,v);break;case 1:i.segment.addRecord(v);break}},stop:function(){c("stop"),o(),u()}}}function Gp(e,t,r){var a=t.findTrackedSession(),i=r.findView();if(!(!a||!i))return{application:{id:e},session:{id:a.id},view:{id:i.id}}}var hn;function Lo(){return hn||(hn=URL.createObjectURL(new Blob(["(".concat(Yp,")(self)")]))),new Worker(hn)}function Yp(){e(function(){var r=t(),a=r.Deflate,i=r.constants,o=r.string2buf,u=new a,c=0;self.addEventListener("message",e(function(v){var h=v.data;switch(h.action){case"init":self.postMessage({type:"initialized"});break;case"write":{var _=d(h.data);self.postMessage({type:"wrote",id:h.id,compressedBytesCount:u.chunks.reduce(function(g,T){return g+T.length},0),additionalBytesCount:_});break}case"flush":{var _=h.data?d(h.data):0;u.push("",i.Z_FINISH),self.postMessage({type:"flushed",id:h.id,result:u.result,additionalBytesCount:_,rawBytesCount:c}),u=new a,c=0;break}}}));function d(v){var h=o(v);return u.push(h,i.Z_SYNC_FLUSH),c+=h.length,h.length}})();function e(r){return function(){try{return r.apply(this,arguments)}catch(a){try{self.postMessage({type:"errored",error:a})}catch{self.postMessage({type:"errored",error:"".concat(a)})}}}}function t(){var r=4,a=0,i=1,o=2;function u(m){for(var n=m.length;--n>=0;)m[n]=0}var c=0,d=1,v=2,h=3,_=258,g=29,T=256,y=T+1+g,A=30,L=19,O=2*y+1,w=15,k=16,Z=7,B=256,H=16,ge=17,Q=18,ke=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),I=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),C=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),K=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),W=512,Ne=new Array((y+2)*2);u(Ne);var Mt=new Array(A*2);u(Mt);var Dt=new Array(W);u(Dt);var Ut=new Array(_-h+1);u(Ut);var Hr=new Array(g);u(Hr);var cr=new Array(A);u(cr);function Vr(m,n,f,p,l){this.static_tree=m,this.extra_bits=n,this.extra_base=f,this.elems=p,this.max_length=l,this.has_stree=m&&m.length}var Jn,Qn,ea;function Zr(m,n){this.dyn_tree=m,this.max_code=0,this.stat_desc=n}var ta=function(n){return n<256?Dt[n]:Dt[256+(n>>>7)]},Pt=function(n,f){n.pending_buf[n.pending++]=f&255,n.pending_buf[n.pending++]=f>>>8&255},ne=function(n,f,p){n.bi_valid>k-p?(n.bi_buf|=f<<n.bi_valid&65535,Pt(n,n.bi_buf),n.bi_buf=f>>k-n.bi_valid,n.bi_valid+=p-k):(n.bi_buf|=f<<n.bi_valid&65535,n.bi_valid+=p)},we=function(n,f,p){ne(n,p[f*2],p[f*2+1])},ra=function(n,f){var p=0;do p|=n&1,n>>>=1,p<<=1;while(--f>0);return p>>>1},Mo=function(n){n.bi_valid===16?(Pt(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=n.bi_buf&255,n.bi_buf>>=8,n.bi_valid-=8)},Do=function(n,f){var p=f.dyn_tree,l=f.max_code,s=f.stat_desc.static_tree,S=f.stat_desc.has_stree,b=f.stat_desc.extra_bits,E=f.stat_desc.extra_base,U=f.stat_desc.max_length,R,te,je,V,it,bt,br=0;for(V=0;V<=w;V++)n.bl_count[V]=0;for(p[n.heap[n.heap_max]*2+1]=0,R=n.heap_max+1;R<O;R++)te=n.heap[R],V=p[p[te*2+1]*2+1]+1,V>U&&(V=U,br++),p[te*2+1]=V,!(te>l)&&(n.bl_count[V]++,it=0,te>=E&&(it=b[te-E]),bt=p[te*2],n.opt_len+=bt*(V+it),S&&(n.static_len+=bt*(s[te*2+1]+it)));if(br!==0){do{for(V=U-1;n.bl_count[V]===0;)V--;n.bl_count[V]--,n.bl_count[V+1]+=2,n.bl_count[U]--,br-=2}while(br>0);for(V=U;V!==0;V--)for(te=n.bl_count[V];te!==0;)je=n.heap[--R],!(je>l)&&(p[je*2+1]!==V&&(n.opt_len+=(V-p[je*2+1])*p[je*2],p[je*2+1]=V),te--)}},na=function(n,f,p){var l=new Array(w+1),s=0,S,b;for(S=1;S<=w;S++)l[S]=s=s+p[S-1]<<1;for(b=0;b<=f;b++){var E=n[b*2+1];E!==0&&(n[b*2]=ra(l[E]++,E))}},Uo=function(){var n,f,p,l,s,S=new Array(w+1);for(p=0,l=0;l<g-1;l++)for(Hr[l]=p,n=0;n<1<<ke[l];n++)Ut[p++]=l;for(Ut[p-1]=l,s=0,l=0;l<16;l++)for(cr[l]=s,n=0;n<1<<I[l];n++)Dt[s++]=l;for(s>>=7;l<A;l++)for(cr[l]=s<<7,n=0;n<1<<I[l]-7;n++)Dt[256+s++]=l;for(f=0;f<=w;f++)S[f]=0;for(n=0;n<=143;)Ne[n*2+1]=8,n++,S[8]++;for(;n<=255;)Ne[n*2+1]=9,n++,S[9]++;for(;n<=279;)Ne[n*2+1]=7,n++,S[7]++;for(;n<=287;)Ne[n*2+1]=8,n++,S[8]++;for(na(Ne,y+1,S),n=0;n<A;n++)Mt[n*2+1]=5,Mt[n*2]=ra(n,5);Jn=new Vr(Ne,ke,T+1,y,w),Qn=new Vr(Mt,I,0,A,w),ea=new Vr(new Array(0),C,0,L,Z)},aa=function(n){var f;for(f=0;f<y;f++)n.dyn_ltree[f*2]=0;for(f=0;f<A;f++)n.dyn_dtree[f*2]=0;for(f=0;f<L;f++)n.bl_tree[f*2]=0;n.dyn_ltree[B*2]=1,n.opt_len=n.static_len=0,n.last_lit=n.matches=0},ia=function(n){n.bi_valid>8?Pt(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},Po=function(n,f,p,l){ia(n),l&&(Pt(n,p),Pt(n,~p)),n.pending_buf.set(n.window.subarray(f,f+p),n.pending),n.pending+=p},oa=function(n,f,p,l){var s=f*2,S=p*2;return n[s]<n[S]||n[s]===n[S]&&l[f]<=l[p]},Gr=function(n,f,p){for(var l=n.heap[p],s=p<<1;s<=n.heap_len&&(s<n.heap_len&&oa(f,n.heap[s+1],n.heap[s],n.depth)&&s++,!oa(f,l,n.heap[s],n.depth));)n.heap[p]=n.heap[s],p=s,s<<=1;n.heap[p]=l},ua=function(n,f,p){var l,s,S=0,b,E;if(n.last_lit!==0)do l=n.pending_buf[n.d_buf+S*2]<<8|n.pending_buf[n.d_buf+S*2+1],s=n.pending_buf[n.l_buf+S],S++,l===0?we(n,s,f):(b=Ut[s],we(n,b+T+1,f),E=ke[b],E!==0&&(s-=Hr[b],ne(n,s,E)),l--,b=ta(l),we(n,b,p),E=I[b],E!==0&&(l-=cr[b],ne(n,l,E)));while(S<n.last_lit);we(n,B,f)},Yr=function(n,f){var p=f.dyn_tree,l=f.stat_desc.static_tree,s=f.stat_desc.has_stree,S=f.stat_desc.elems,b,E,U=-1,R;for(n.heap_len=0,n.heap_max=O,b=0;b<S;b++)p[b*2]!==0?(n.heap[++n.heap_len]=U=b,n.depth[b]=0):p[b*2+1]=0;for(;n.heap_len<2;)R=n.heap[++n.heap_len]=U<2?++U:0,p[R*2]=1,n.depth[R]=0,n.opt_len--,s&&(n.static_len-=l[R*2+1]);for(f.max_code=U,b=n.heap_len>>1;b>=1;b--)Gr(n,p,b);R=S;do b=n.heap[1],n.heap[1]=n.heap[n.heap_len--],Gr(n,p,1),E=n.heap[1],n.heap[--n.heap_max]=b,n.heap[--n.heap_max]=E,p[R*2]=p[b*2]+p[E*2],n.depth[R]=(n.depth[b]>=n.depth[E]?n.depth[b]:n.depth[E])+1,p[b*2+1]=p[E*2+1]=R,n.heap[1]=R++,Gr(n,p,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],Do(n,f),na(p,U,n.bl_count)},sa=function(n,f,p){var l,s=-1,S,b=f[0*2+1],E=0,U=7,R=4;for(b===0&&(U=138,R=3),f[(p+1)*2+1]=65535,l=0;l<=p;l++)S=b,b=f[(l+1)*2+1],!(++E<U&&S===b)&&(E<R?n.bl_tree[S*2]+=E:S!==0?(S!==s&&n.bl_tree[S*2]++,n.bl_tree[H*2]++):E<=10?n.bl_tree[ge*2]++:n.bl_tree[Q*2]++,E=0,s=S,b===0?(U=138,R=3):S===b?(U=6,R=3):(U=7,R=4))},ca=function(n,f,p){var l,s=-1,S,b=f[0*2+1],E=0,U=7,R=4;for(b===0&&(U=138,R=3),l=0;l<=p;l++)if(S=b,b=f[(l+1)*2+1],!(++E<U&&S===b)){if(E<R)do we(n,S,n.bl_tree);while(--E!==0);else S!==0?(S!==s&&(we(n,S,n.bl_tree),E--),we(n,H,n.bl_tree),ne(n,E-3,2)):E<=10?(we(n,ge,n.bl_tree),ne(n,E-3,3)):(we(n,Q,n.bl_tree),ne(n,E-11,7));E=0,s=S,b===0?(U=138,R=3):S===b?(U=6,R=3):(U=7,R=4)}},Fo=function(n){var f;for(sa(n,n.dyn_ltree,n.l_desc.max_code),sa(n,n.dyn_dtree,n.d_desc.max_code),Yr(n,n.bl_desc),f=L-1;f>=3&&n.bl_tree[K[f]*2+1]===0;f--);return n.opt_len+=3*(f+1)+5+5+4,f},Bo=function(n,f,p,l){var s;for(ne(n,f-257,5),ne(n,p-1,5),ne(n,l-4,4),s=0;s<l;s++)ne(n,n.bl_tree[K[s]*2+1],3);ca(n,n.dyn_ltree,f-1),ca(n,n.dyn_dtree,p-1)},zo=function(n){var f=4093624447,p;for(p=0;p<=31;p++,f>>>=1)if(f&1&&n.dyn_ltree[p*2]!==0)return a;if(n.dyn_ltree[9*2]!==0||n.dyn_ltree[10*2]!==0||n.dyn_ltree[13*2]!==0)return i;for(p=32;p<T;p++)if(n.dyn_ltree[p*2]!==0)return i;return a},fa=!1,Ho=function(n){fa||(Uo(),fa=!0),n.l_desc=new Zr(n.dyn_ltree,Jn),n.d_desc=new Zr(n.dyn_dtree,Qn),n.bl_desc=new Zr(n.bl_tree,ea),n.bi_buf=0,n.bi_valid=0,aa(n)},da=function(n,f,p,l){ne(n,(c<<1)+(l?1:0),3),Po(n,f,p,!0)},Vo=function(n){ne(n,d<<1,3),we(n,B,Ne),Mo(n)},Zo=function(n,f,p,l){var s,S,b=0;n.level>0?(n.strm.data_type===o&&(n.strm.data_type=zo(n)),Yr(n,n.l_desc),Yr(n,n.d_desc),b=Fo(n),s=n.opt_len+3+7>>>3,S=n.static_len+3+7>>>3,S<=s&&(s=S)):s=S=p+5,p+4<=s&&f!==-1?da(n,f,p,l):n.strategy===r||S===s?(ne(n,(d<<1)+(l?1:0),3),ua(n,Ne,Mt)):(ne(n,(v<<1)+(l?1:0),3),Bo(n,n.l_desc.max_code+1,n.d_desc.max_code+1,b+1),ua(n,n.dyn_ltree,n.dyn_dtree)),aa(n),l&&ia(n)},Go=function(n,f,p){return n.pending_buf[n.d_buf+n.last_lit*2]=f>>>8&255,n.pending_buf[n.d_buf+n.last_lit*2+1]=f&255,n.pending_buf[n.l_buf+n.last_lit]=p&255,n.last_lit++,f===0?n.dyn_ltree[p*2]++:(n.matches++,f--,n.dyn_ltree[(Ut[p]+T+1)*2]++,n.dyn_dtree[ta(f)*2]++),n.last_lit===n.lit_bufsize-1},Yo=Ho,Ko=da,qo=Zo,jo=Go,Xo=Vo,Ft={_tr_init:Yo,_tr_stored_block:Ko,_tr_flush_block:qo,_tr_tally:jo,_tr_align:Xo},Wo=function(n,f,p,l){for(var s=n&65535|0,S=n>>>16&65535|0,b=0;p!==0;){b=p>2e3?2e3:p,p-=b;do s=s+f[l++]|0,S=S+s|0;while(--b);s%=65521,S%=65521}return s|S<<16|0},la=Wo,$o=function(){for(var n,f=[],p=0;p<256;p++){n=p;for(var l=0;l<8;l++)n=n&1?3988292384^n>>>1:n>>>1;f[p]=n}return f},Jo=new Uint32Array($o()),Qo=function(n,f,p,l){var s=Jo,S=l+p;n^=-1;for(var b=l;b<S;b++)n=n>>>8^s[(n^f[b])&255];return n^-1},Be=Qo,Kr={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},z={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},eu=Ft._tr_init,tu=Ft._tr_stored_block,ru=Ft._tr_flush_block,ze=Ft._tr_tally,nu=Ft._tr_align,tt=z.Z_NO_FLUSH,au=z.Z_PARTIAL_FLUSH,iu=z.Z_FULL_FLUSH,He=z.Z_FINISH,va=z.Z_BLOCK,Te=z.Z_OK,pa=z.Z_STREAM_END,ve=z.Z_STREAM_ERROR,ou=z.Z_DATA_ERROR,qr=z.Z_BUF_ERROR,uu=z.Z_DEFAULT_COMPRESSION,su=z.Z_FILTERED,fr=z.Z_HUFFMAN_ONLY,cu=z.Z_RLE,fu=z.Z_FIXED,du=z.Z_DEFAULT_STRATEGY,lu=z.Z_UNKNOWN,dr=z.Z_DEFLATED,vu=9,pu=15,hu=8,_u=29,gu=256,jr=gu+1+_u,bu=30,mu=19,yu=2*jr+1,Su=15,D=3,Ve=258,be=Ve+D+1,Eu=32,lr=42,Xr=69,vr=73,pr=91,hr=103,rt=113,Bt=666,j=1,zt=2,nt=3,_t=4,wu=3,Ze=function(n,f){return n.msg=Kr[f],f},ha=function(n){return(n<<1)-(n>4?9:0)},Ge=function(n){for(var f=n.length;--f>=0;)n[f]=0},Tu=function(n,f,p){return(f<<n.hash_shift^p)&n.hash_mask},Ye=Tu,Ke=function(n){var f=n.state,p=f.pending;p>n.avail_out&&(p=n.avail_out),p!==0&&(n.output.set(f.pending_buf.subarray(f.pending_out,f.pending_out+p),n.next_out),n.next_out+=p,f.pending_out+=p,n.total_out+=p,n.avail_out-=p,f.pending-=p,f.pending===0&&(f.pending_out=0))},ee=function(n,f){ru(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,f),n.block_start=n.strstart,Ke(n.strm)},P=function(n,f){n.pending_buf[n.pending++]=f},Ht=function(n,f){n.pending_buf[n.pending++]=f>>>8&255,n.pending_buf[n.pending++]=f&255},Cu=function(n,f,p,l){var s=n.avail_in;return s>l&&(s=l),s===0?0:(n.avail_in-=s,f.set(n.input.subarray(n.next_in,n.next_in+s),p),n.state.wrap===1?n.adler=la(n.adler,f,s,p):n.state.wrap===2&&(n.adler=Be(n.adler,f,s,p)),n.next_in+=s,n.total_in+=s,s)},_a=function(n,f){var p=n.max_chain_length,l=n.strstart,s,S,b=n.prev_length,E=n.nice_match,U=n.strstart>n.w_size-be?n.strstart-(n.w_size-be):0,R=n.window,te=n.w_mask,je=n.prev,V=n.strstart+Ve,it=R[l+b-1],bt=R[l+b];n.prev_length>=n.good_match&&(p>>=2),E>n.lookahead&&(E=n.lookahead);do if(s=f,!(R[s+b]!==bt||R[s+b-1]!==it||R[s]!==R[l]||R[++s]!==R[l+1])){l+=2,s++;do;while(R[++l]===R[++s]&&R[++l]===R[++s]&&R[++l]===R[++s]&&R[++l]===R[++s]&&R[++l]===R[++s]&&R[++l]===R[++s]&&R[++l]===R[++s]&&R[++l]===R[++s]&&l<V);if(S=Ve-(V-l),l=V-Ve,S>b){if(n.match_start=f,b=S,S>=E)break;it=R[l+b-1],bt=R[l+b]}}while((f=je[f&te])>U&&--p!==0);return b<=n.lookahead?b:n.lookahead},at=function(n){var f=n.w_size,p,l,s,S,b;do{if(S=n.window_size-n.lookahead-n.strstart,n.strstart>=f+(f-be)){n.window.set(n.window.subarray(f,f+f),0),n.match_start-=f,n.strstart-=f,n.block_start-=f,l=n.hash_size,p=l;do s=n.head[--p],n.head[p]=s>=f?s-f:0;while(--l);l=f,p=l;do s=n.prev[--p],n.prev[p]=s>=f?s-f:0;while(--l);S+=f}if(n.strm.avail_in===0)break;if(l=Cu(n.strm,n.window,n.strstart+n.lookahead,S),n.lookahead+=l,n.lookahead+n.insert>=D)for(b=n.strstart-n.insert,n.ins_h=n.window[b],n.ins_h=Ye(n,n.ins_h,n.window[b+1]);n.insert&&(n.ins_h=Ye(n,n.ins_h,n.window[b+D-1]),n.prev[b&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=b,b++,n.insert--,!(n.lookahead+n.insert<D)););}while(n.lookahead<be&&n.strm.avail_in!==0)},Au=function(n,f){var p=65535;for(p>n.pending_buf_size-5&&(p=n.pending_buf_size-5);;){if(n.lookahead<=1){if(at(n),n.lookahead===0&&f===tt)return j;if(n.lookahead===0)break}n.strstart+=n.lookahead,n.lookahead=0;var l=n.block_start+p;if((n.strstart===0||n.strstart>=l)&&(n.lookahead=n.strstart-l,n.strstart=l,ee(n,!1),n.strm.avail_out===0)||n.strstart-n.block_start>=n.w_size-be&&(ee(n,!1),n.strm.avail_out===0))return j}return n.insert=0,f===He?(ee(n,!0),n.strm.avail_out===0?nt:_t):(n.strstart>n.block_start&&(ee(n,!1),n.strm.avail_out===0),j)},Wr=function(n,f){for(var p,l;;){if(n.lookahead<be){if(at(n),n.lookahead<be&&f===tt)return j;if(n.lookahead===0)break}if(p=0,n.lookahead>=D&&(n.ins_h=Ye(n,n.ins_h,n.window[n.strstart+D-1]),p=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),p!==0&&n.strstart-p<=n.w_size-be&&(n.match_length=_a(n,p)),n.match_length>=D)if(l=ze(n,n.strstart-n.match_start,n.match_length-D),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=D){n.match_length--;do n.strstart++,n.ins_h=Ye(n,n.ins_h,n.window[n.strstart+D-1]),p=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!==0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=Ye(n,n.ins_h,n.window[n.strstart+1]);else l=ze(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(l&&(ee(n,!1),n.strm.avail_out===0))return j}return n.insert=n.strstart<D-1?n.strstart:D-1,f===He?(ee(n,!0),n.strm.avail_out===0?nt:_t):n.last_lit&&(ee(n,!1),n.strm.avail_out===0)?j:zt},gt=function(n,f){for(var p,l,s;;){if(n.lookahead<be){if(at(n),n.lookahead<be&&f===tt)return j;if(n.lookahead===0)break}if(p=0,n.lookahead>=D&&(n.ins_h=Ye(n,n.ins_h,n.window[n.strstart+D-1]),p=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=D-1,p!==0&&n.prev_length<n.max_lazy_match&&n.strstart-p<=n.w_size-be&&(n.match_length=_a(n,p),n.match_length<=5&&(n.strategy===su||n.match_length===D&&n.strstart-n.match_start>4096)&&(n.match_length=D-1)),n.prev_length>=D&&n.match_length<=n.prev_length){s=n.strstart+n.lookahead-D,l=ze(n,n.strstart-1-n.prev_match,n.prev_length-D),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=s&&(n.ins_h=Ye(n,n.ins_h,n.window[n.strstart+D-1]),p=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!==0);if(n.match_available=0,n.match_length=D-1,n.strstart++,l&&(ee(n,!1),n.strm.avail_out===0))return j}else if(n.match_available){if(l=ze(n,0,n.window[n.strstart-1]),l&&ee(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return j}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(l=ze(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<D-1?n.strstart:D-1,f===He?(ee(n,!0),n.strm.avail_out===0?nt:_t):n.last_lit&&(ee(n,!1),n.strm.avail_out===0)?j:zt},Iu=function(n,f){for(var p,l,s,S,b=n.window;;){if(n.lookahead<=Ve){if(at(n),n.lookahead<=Ve&&f===tt)return j;if(n.lookahead===0)break}if(n.match_length=0,n.lookahead>=D&&n.strstart>0&&(s=n.strstart-1,l=b[s],l===b[++s]&&l===b[++s]&&l===b[++s])){S=n.strstart+Ve;do;while(l===b[++s]&&l===b[++s]&&l===b[++s]&&l===b[++s]&&l===b[++s]&&l===b[++s]&&l===b[++s]&&l===b[++s]&&s<S);n.match_length=Ve-(S-s),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=D?(p=ze(n,1,n.match_length-D),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(p=ze(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),p&&(ee(n,!1),n.strm.avail_out===0))return j}return n.insert=0,f===He?(ee(n,!0),n.strm.avail_out===0?nt:_t):n.last_lit&&(ee(n,!1),n.strm.avail_out===0)?j:zt},Ru=function(n,f){for(var p;;){if(n.lookahead===0&&(at(n),n.lookahead===0)){if(f===tt)return j;break}if(n.match_length=0,p=ze(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,p&&(ee(n,!1),n.strm.avail_out===0))return j}return n.insert=0,f===He?(ee(n,!0),n.strm.avail_out===0?nt:_t):n.last_lit&&(ee(n,!1),n.strm.avail_out===0)?j:zt};function Ce(m,n,f,p,l){this.good_length=m,this.max_lazy=n,this.nice_length=f,this.max_chain=p,this.func=l}var Vt=[new Ce(0,0,0,0,Au),new Ce(4,4,8,4,Wr),new Ce(4,5,16,8,Wr),new Ce(4,6,32,32,Wr),new Ce(4,4,16,16,gt),new Ce(8,16,32,32,gt),new Ce(8,16,128,128,gt),new Ce(8,32,128,256,gt),new Ce(32,128,258,1024,gt),new Ce(32,258,258,4096,gt)],Ou=function(n){n.window_size=2*n.w_size,Ge(n.head),n.max_lazy_match=Vt[n.level].max_lazy,n.good_match=Vt[n.level].good_length,n.nice_match=Vt[n.level].nice_length,n.max_chain_length=Vt[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=D-1,n.match_available=0,n.ins_h=0};function xu(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=dr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(yu*2),this.dyn_dtree=new Uint16Array((2*bu+1)*2),this.bl_tree=new Uint16Array((2*mu+1)*2),Ge(this.dyn_ltree),Ge(this.dyn_dtree),Ge(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Su+1),this.heap=new Uint16Array(2*jr+1),Ge(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*jr+1),Ge(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var ga=function(n){if(!n||!n.state)return Ze(n,ve);n.total_in=n.total_out=0,n.data_type=lu;var f=n.state;return f.pending=0,f.pending_out=0,f.wrap<0&&(f.wrap=-f.wrap),f.status=f.wrap?lr:rt,n.adler=f.wrap===2?0:1,f.last_flush=tt,eu(f),Te},ba=function(n){var f=ga(n);return f===Te&&Ou(n.state),f},ku=function(n,f){return!n||!n.state||n.state.wrap!==2?ve:(n.state.gzhead=f,Te)},ma=function(n,f,p,l,s,S){if(!n)return ve;var b=1;if(f===uu&&(f=6),l<0?(b=0,l=-l):l>15&&(b=2,l-=16),s<1||s>vu||p!==dr||l<8||l>15||f<0||f>9||S<0||S>fu)return Ze(n,ve);l===8&&(l=9);var E=new xu;return n.state=E,E.strm=n,E.wrap=b,E.gzhead=null,E.w_bits=l,E.w_size=1<<E.w_bits,E.w_mask=E.w_size-1,E.hash_bits=s+7,E.hash_size=1<<E.hash_bits,E.hash_mask=E.hash_size-1,E.hash_shift=~~((E.hash_bits+D-1)/D),E.window=new Uint8Array(E.w_size*2),E.head=new Uint16Array(E.hash_size),E.prev=new Uint16Array(E.w_size),E.lit_bufsize=1<<s+6,E.pending_buf_size=E.lit_bufsize*4,E.pending_buf=new Uint8Array(E.pending_buf_size),E.d_buf=1*E.lit_bufsize,E.l_buf=3*E.lit_bufsize,E.level=f,E.strategy=S,E.method=p,ba(n)},Nu=function(n,f){return ma(n,f,dr,pu,hu,du)},Lu=function(n,f){var p,l;if(!n||!n.state||f>va||f<0)return n?Ze(n,ve):ve;var s=n.state;if(!n.output||!n.input&&n.avail_in!==0||s.status===Bt&&f!==He)return Ze(n,n.avail_out===0?qr:ve);s.strm=n;var S=s.last_flush;if(s.last_flush=f,s.status===lr)if(s.wrap===2)n.adler=0,P(s,31),P(s,139),P(s,8),s.gzhead?(P(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),P(s,s.gzhead.time&255),P(s,s.gzhead.time>>8&255),P(s,s.gzhead.time>>16&255),P(s,s.gzhead.time>>24&255),P(s,s.level===9?2:s.strategy>=fr||s.level<2?4:0),P(s,s.gzhead.os&255),s.gzhead.extra&&s.gzhead.extra.length&&(P(s,s.gzhead.extra.length&255),P(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(n.adler=Be(n.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=Xr):(P(s,0),P(s,0),P(s,0),P(s,0),P(s,0),P(s,s.level===9?2:s.strategy>=fr||s.level<2?4:0),P(s,wu),s.status=rt);else{var b=dr+(s.w_bits-8<<4)<<8,E=-1;s.strategy>=fr||s.level<2?E=0:s.level<6?E=1:s.level===6?E=2:E=3,b|=E<<6,s.strstart!==0&&(b|=Eu),b+=31-b%31,s.status=rt,Ht(s,b),s.strstart!==0&&(Ht(s,n.adler>>>16),Ht(s,n.adler&65535)),n.adler=1}if(s.status===Xr)if(s.gzhead.extra){for(p=s.pending;s.gzindex<(s.gzhead.extra.length&65535)&&!(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>p&&(n.adler=Be(n.adler,s.pending_buf,s.pending-p,p)),Ke(n),p=s.pending,s.pending===s.pending_buf_size));)P(s,s.gzhead.extra[s.gzindex]&255),s.gzindex++;s.gzhead.hcrc&&s.pending>p&&(n.adler=Be(n.adler,s.pending_buf,s.pending-p,p)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=vr)}else s.status=vr;if(s.status===vr)if(s.gzhead.name){p=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>p&&(n.adler=Be(n.adler,s.pending_buf,s.pending-p,p)),Ke(n),p=s.pending,s.pending===s.pending_buf_size)){l=1;break}s.gzindex<s.gzhead.name.length?l=s.gzhead.name.charCodeAt(s.gzindex++)&255:l=0,P(s,l)}while(l!==0);s.gzhead.hcrc&&s.pending>p&&(n.adler=Be(n.adler,s.pending_buf,s.pending-p,p)),l===0&&(s.gzindex=0,s.status=pr)}else s.status=pr;if(s.status===pr)if(s.gzhead.comment){p=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>p&&(n.adler=Be(n.adler,s.pending_buf,s.pending-p,p)),Ke(n),p=s.pending,s.pending===s.pending_buf_size)){l=1;break}s.gzindex<s.gzhead.comment.length?l=s.gzhead.comment.charCodeAt(s.gzindex++)&255:l=0,P(s,l)}while(l!==0);s.gzhead.hcrc&&s.pending>p&&(n.adler=Be(n.adler,s.pending_buf,s.pending-p,p)),l===0&&(s.status=hr)}else s.status=hr;if(s.status===hr&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&Ke(n),s.pending+2<=s.pending_buf_size&&(P(s,n.adler&255),P(s,n.adler>>8&255),n.adler=0,s.status=rt)):s.status=rt),s.pending!==0){if(Ke(n),n.avail_out===0)return s.last_flush=-1,Te}else if(n.avail_in===0&&ha(f)<=ha(S)&&f!==He)return Ze(n,qr);if(s.status===Bt&&n.avail_in!==0)return Ze(n,qr);if(n.avail_in!==0||s.lookahead!==0||f!==tt&&s.status!==Bt){var U=s.strategy===fr?Ru(s,f):s.strategy===cu?Iu(s,f):Vt[s.level].func(s,f);if((U===nt||U===_t)&&(s.status=Bt),U===j||U===nt)return n.avail_out===0&&(s.last_flush=-1),Te;if(U===zt&&(f===au?nu(s):f!==va&&(tu(s,0,0,!1),f===iu&&(Ge(s.head),s.lookahead===0&&(s.strstart=0,s.block_start=0,s.insert=0))),Ke(n),n.avail_out===0))return s.last_flush=-1,Te}return f!==He?Te:s.wrap<=0?pa:(s.wrap===2?(P(s,n.adler&255),P(s,n.adler>>8&255),P(s,n.adler>>16&255),P(s,n.adler>>24&255),P(s,n.total_in&255),P(s,n.total_in>>8&255),P(s,n.total_in>>16&255),P(s,n.total_in>>24&255)):(Ht(s,n.adler>>>16),Ht(s,n.adler&65535)),Ke(n),s.wrap>0&&(s.wrap=-s.wrap),s.pending!==0?Te:pa)},Mu=function(n){if(!n||!n.state)return ve;var f=n.state.status;return f!==lr&&f!==Xr&&f!==vr&&f!==pr&&f!==hr&&f!==rt&&f!==Bt?Ze(n,ve):(n.state=null,f===rt?Ze(n,ou):Te)},Du=function(n,f){var p=f.length;if(!n||!n.state)return ve;var l=n.state,s=l.wrap;if(s===2||s===1&&l.status!==lr||l.lookahead)return ve;if(s===1&&(n.adler=la(n.adler,f,p,0)),l.wrap=0,p>=l.w_size){s===0&&(Ge(l.head),l.strstart=0,l.block_start=0,l.insert=0);var S=new Uint8Array(l.w_size);S.set(f.subarray(p-l.w_size,p),0),f=S,p=l.w_size}var b=n.avail_in,E=n.next_in,U=n.input;for(n.avail_in=p,n.next_in=0,n.input=f,at(l);l.lookahead>=D;){var R=l.strstart,te=l.lookahead-(D-1);do l.ins_h=Ye(l,l.ins_h,l.window[R+D-1]),l.prev[R&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=R,R++;while(--te);l.strstart=R,l.lookahead=D-1,at(l)}return l.strstart+=l.lookahead,l.block_start=l.strstart,l.insert=l.lookahead,l.lookahead=0,l.match_length=l.prev_length=D-1,l.match_available=0,n.next_in=E,n.input=U,n.avail_in=b,l.wrap=s,Te},Uu=Nu,Pu=ma,Fu=ba,Bu=ga,zu=ku,Hu=Lu,Vu=Mu,Zu=Du,Gu="pako deflate (from Nodeca project)",Zt={deflateInit:Uu,deflateInit2:Pu,deflateReset:Fu,deflateResetKeep:Bu,deflateSetHeader:zu,deflate:Hu,deflateEnd:Vu,deflateSetDictionary:Zu,deflateInfo:Gu};function Yu(m){for(var n=0,f=0,p=m.length;f<p;f++)n+=m[f].length;for(var l=new Uint8Array(n),s=0,S=0,b=m.length;s<b;s++){var E=m[s];l.set(E,S),S+=E.length}return l}for(var $r=new Uint8Array(256),qe=0;qe<256;qe++)$r[qe]=qe>=252?6:qe>=248?5:qe>=240?4:qe>=224?3:qe>=192?2:1;$r[254]=$r[254]=1;function Ku(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var qu=Ku,ya=Object.prototype.toString,ju=z.Z_NO_FLUSH,Xu=z.Z_SYNC_FLUSH,Wu=z.Z_FULL_FLUSH,$u=z.Z_FINISH,_r=z.Z_OK,Ju=z.Z_STREAM_END,Qu=z.Z_DEFAULT_COMPRESSION,es=z.Z_DEFAULT_STRATEGY,ts=z.Z_DEFLATED;function gr(){this.options={level:Qu,method:ts,chunkSize:16384,windowBits:15,memLevel:8,strategy:es};var m=this.options;m.raw&&m.windowBits>0?m.windowBits=-m.windowBits:m.gzip&&m.windowBits>0&&m.windowBits<16&&(m.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qu,this.strm.avail_out=0;var n=Zt.deflateInit2(this.strm,m.level,m.method,m.windowBits,m.memLevel,m.strategy);if(n!==_r)throw new Error(Kr[n]);if(m.header&&Zt.deflateSetHeader(this.strm,m.header),m.dictionary){var f;if(ya.call(m.dictionary)==="[object ArrayBuffer]"?f=new Uint8Array(m.dictionary):f=m.dictionary,n=Zt.deflateSetDictionary(this.strm,f),n!==_r)throw new Error(Kr[n]);this._dict_set=!0}}gr.prototype.push=function(m,n){var f=this.strm,p=this.options.chunkSize,l,s;if(this.ended)return!1;for(n===~~n?s=n:s=n===!0?$u:ju,ya.call(m)==="[object ArrayBuffer]"?f.input=new Uint8Array(m):f.input=m,f.next_in=0,f.avail_in=f.input.length;;){if(f.avail_out===0&&(f.output=new Uint8Array(p),f.next_out=0,f.avail_out=p),(s===Xu||s===Wu)&&f.avail_out<=6){this.onData(f.output.subarray(0,f.next_out)),f.avail_out=0;continue}if(l=Zt.deflate(f,s),l===Ju)return f.next_out>0&&this.onData(f.output.subarray(0,f.next_out)),l=Zt.deflateEnd(this.strm),this.onEnd(l),this.ended=!0,l===_r;if(f.avail_out===0){this.onData(f.output);continue}if(s>0&&f.next_out>0){this.onData(f.output.subarray(0,f.next_out)),f.avail_out=0;continue}if(f.avail_in===0)break}return!0},gr.prototype.onData=function(m){this.chunks.push(m)},gr.prototype.onEnd=function(m){m===_r&&(this.result=Yu(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg};function rs(m){if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(m);var n,f,p,l,s,S=m.length,b=0;for(l=0;l<S;l++)f=m.charCodeAt(l),(f&64512)===55296&&l+1<S&&(p=m.charCodeAt(l+1),(p&64512)===56320&&(f=65536+(f-55296<<10)+(p-56320),l++)),b+=f<128?1:f<2048?2:f<65536?3:4;for(n=new Uint8Array(b),s=0,l=0;s<b;l++)f=m.charCodeAt(l),(f&64512)===55296&&l+1<S&&(p=m.charCodeAt(l+1),(p&64512)===56320&&(f=65536+(f-55296<<10)+(p-56320),l++)),f<128?n[s++]=f:f<2048?(n[s++]=192|f>>>6,n[s++]=128|f&63):f<65536?(n[s++]=224|f>>>12,n[s++]=128|f>>>6&63,n[s++]=128|f&63):(n[s++]=240|f>>>18,n[s++]=128|f>>>12&63,n[s++]=128|f>>>6&63,n[s++]=128|f&63);return n}return{Deflate:gr,constants:z,string2buf:rs}}}var Re={status:0};function Kp(e,t){switch(t===void 0&&(t=Lo),Re.status){case 0:Re={status:1,callbacks:[e]},qp(t);break;case 1:Re.callbacks.push(e);break;case 2:e();break;case 3:e(Re.worker);break}}function qp(e){e===void 0&&(e=Lo);try{var t=e();return t.addEventListener("error",x(_n)),t.addEventListener("message",x(function(r){var a=r.data;a.type==="errored"?_n(a.error):a.type==="initialized"&&jp(t)})),t.postMessage({action:"init"}),t}catch(r){_n(r)}}function jp(e){Re.status===1&&(Re.callbacks.forEach(function(t){return t(e)}),Re={status:3,worker:e})}function _n(e){Re.status===1?(N.error("Session Replay recording failed to start: an error occurred while creating the Worker:",e),e instanceof Event||e instanceof Error&&Xp(e.message)?N.error("Please make sure CSP is correctly configured https://docs.datadoghq.com/real_user_monitoring/faq/content_security_policy"):xr(e),Re.callbacks.forEach(function(t){return t()}),Re={status:2}):xr(e)}function Xp(e){return Pe(e,"Content Security Policy")||Pe(e,"requires 'TrustedScriptURL'")}function Wp(e,t,r,a,i,o){var u=function(O){e.notify(12,{error:O})},c=o||Pi(t.sessionReplayEndpointBuilder,No,u),d=Vp(e,t.applicationId,r,a,c,i),v=d.addRecord,h=d.stop,_=kp({emit:v,configuration:t,lifeCycle:e}),g=_.stop,T=_.takeSubsequentFullSnapshot,y=_.flushMutations,A=e.subscribe(4,function(){y(),v({timestamp:$(),type:Se.ViewEnd})}).unsubscribe,L=e.subscribe(2,function(O){T(O.startClocks.timeStamp)}).unsubscribe;return{stop:function(){A(),L(),g(),h()}}}function $p(e,t){if(t===void 0&&(t=Kp),Ot()||!Jp())return{start:X,stop:X,getReplayStats:function(){},onRumStart:X,isRecording:function(){return!1}};var r={status:0},a=function(){r={status:1}},i=function(){r={status:0}};return{start:function(){return a()},stop:function(){return i()},getReplayStats:Pp,onRumStart:function(o,u,c,d){o.subscribe(7,function(){(r.status===2||r.status===3)&&(i(),r={status:1})}),o.subscribe(8,function(){r.status===1&&a()}),a=function(){var v=c.findTrackedSession();if(!v||!v.sessionReplayAllowed){r={status:1};return}r.status===2||r.status===3||(r={status:2},Fn("interactive",function(){r.status===2&&t(function(h){if(r.status===2){if(!h){r={status:0};return}var _=e(o,u,c,d,h).stop;r={status:3,stopRecording:_}}})}))},i=function(){r.status!==0&&(r.status===3&&r.stopRecording(),r={status:0})},r.status===1&&a()},isRecording:function(){return r.status===3}}}function Jp(){return typeof Array.from=="function"&&typeof CSSSupportsRule=="function"&&"forEach"in NodeList.prototype}var Qp=$p(Wp),eh=Yf(Ev,Qp);mc(xt(),"DD_RUM",eh);export{eh as d,nh as s,ah as u};
//# sourceMappingURL=main-DKZdTZ3T.js.map
